import{$ as hr,$a as vn,A as Pa,Aa as ws,Ab as Ar,B as gn,Ba as ci,Bb as Hn,C as sr,Ca as xr,Cb as Fr,D as xn,Da as ki,Db as Ra,E as Ei,Ea as fr,Eb as Ds,F as Sa,Fa as yr,G as ar,Ga as vr,H as or,Ha as Ps,I as Rn,Ia as si,J as hi,Ja as Va,K as rr,Ka as pe,L as Oe,La as Xn,M as Pe,Ma as Yn,N as Ji,Na as nn,O as ne,Oa as sn,P as wi,Pa as an,Q as lr,Qa as bt,R as fe,Ra as gt,S as ka,Sa as ye,T as ae,Ta as vi,U as _t,Ua as be,V as Wn,Va as me,W as mi,Wa as br,X as Re,Xa as Ft,Y as Pi,Ya as _i,Z as Ze,Za as zn,_ as Oi,_a as yn,a as Tt,aa as fn,ab as bn,b as Ae,ba as Si,bb as on,c as Qo,ca as Ri,cb as Ue,d as Oh,da as ti,db as Mr,e as Zo,ea as ei,eb as Ba,f as Jo,fa as Wi,fb as La,g as qo,ga as dr,gb as Ss,h as Ma,ha as _a,hb as ks,i as Ca,ia as Aa,ib as _s,j as Vi,ja as qi,jb as Un,k as Ye,ka as di,kb as Cr,l as Bi,la as cr,lb as Ea,m as Qe,ma as Fa,mb as jn,n as Nt,na as ur,nb as Tr,o as On,oa as tn,ob as wr,p as tr,pa as pr,pb as Mn,q as er,qa as Ia,qb as Cn,r as ee,ra as Cs,rb as Pr,s as Ta,sa as mr,sb as Sr,t as li,ta as Nn,tb as ii,u as ir,ua as Dt,ub as Oa,v as wa,va as Yt,vb as As,w as nr,wa as Da,wb as Fs,x as Li,xa as gr,xb as kr,y as mn,ya as Ts,yb as Is,z as Zi,za as en,zb as _r}from"./chunk-B67QCEJY.js";var Mh=Oh((hg,fa)=>{"use strict";(function(){function r(C,P){C.prototype=s(P.prototype),C.prototype.constructor=C,C.base=P.prototype}function s(C){function P(){}return P.prototype=C,new P}function p(C,P,D){return D==="millisecond"?C.setMilliseconds(C.getMilliseconds()+1*P):D==="second"?C.setSeconds(C.getSeconds()+1*P):D==="minute"?C.setMinutes(C.getMinutes()+1*P):D==="hour"?C.setHours(C.getHours()+1*P):D==="day"?C.setDate(C.getDate()+1*P):D==="week"?C.setDate(C.getDate()+7*P):D==="month"?C.setMonth(C.getMonth()+1*P):D==="year"&&C.setFullYear(C.getFullYear()+1*P),C}function l(C,P){var D=!1;for(0>C&&(D=!0,C*=-1),C=""+C,P=P||1;C.length<P;)C="0"+C;return D?"-"+C:C}function u(C){if(!C)return C;C=C.replace(/^\s\s*/,"");for(var P=/\s/,D=C.length;P.test(C.charAt(--D)););return C.slice(0,D+1)}function y(C){C.roundRect=function(P,D,j,at,rt,G,Lt,qt){Lt&&(this.fillStyle=Lt),qt&&(this.strokeStyle=qt),typeof rt>"u"&&(rt=5),this.lineWidth=G,this.beginPath(),this.moveTo(P+rt,D),this.lineTo(P+j-rt,D),this.quadraticCurveTo(P+j,D,P+j,D+rt),this.lineTo(P+j,D+at-rt),this.quadraticCurveTo(P+j,D+at,P+j-rt,D+at),this.lineTo(P+rt,D+at),this.quadraticCurveTo(P,D+at,P,D+at-rt),this.lineTo(P,D+rt),this.quadraticCurveTo(P,D,P+rt,D),this.closePath(),Lt&&this.fill(),qt&&0<G&&this.stroke()}}function _(C,P){return C-P}function F(C){var P=((C&16711680)>>16).toString(16),D=((C&65280)>>8).toString(16);return C=((C&255)>>0).toString(16),P=2>P.length?"0"+P:P,D=2>D.length?"0"+D:D,C=2>C.length?"0"+C:C,"#"+P+D+C}function Y(C,P){var D=this.length>>>0,j=Number(P)||0,j=0>j?Math.ceil(j):Math.floor(j);for(0>j&&(j+=D);j<D;j++)if(j in this&&this[j]===C)return j;return-1}function T(C){return C===null||typeof C>"u"}function it(C){return C.indexOf||(C.indexOf=Y),C}function dt(C){He.fSDec&&C[$e("`eeDwdouMhrudods")]($e("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){He._fTWm&&He._fTWm(C)})}function ct(C,P,D){D=D||"normal";var j=C+"_"+P+"_"+D,at=Ii[j];if(isNaN(at)){try{if(!Je){var rt=document.body;Je=document.createElement("span"),Je.innerHTML="";var G=document.createTextNode("Mpgyi");Je.appendChild(G),rt.appendChild(Je)}Je.style.display="",Ht(Je,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:C,fontSize:P+"px",fontWeight:D}),at=Math.round(Je.offsetHeight),Je.style.display="none"}catch{at=Math.ceil(1.1*P)}at=Math.max(at,P),Ii[j]=at}return at}function ot(C,P){var D=[];if(D={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[C||"solid"])for(var j=0;j<D.length;j++)D[j]*=P;else D=[];return D}function Pt(C,P,D,j,at){return j=j||[],at=T(at)?Ti?{passive:!1,capture:!1}:!1:at,j.push([C,P,D,at]),C.addEventListener?(C.addEventListener(P,D,at),D):C.attachEvent?(j=function(rt){rt=rt||window.event,rt.preventDefault=rt.preventDefault||function(){rt.returnValue=!1},rt.stopPropagation=rt.stopPropagation||function(){rt.cancelBubble=!0},D.call(C,rt)},C.attachEvent("on"+P,j),j):!1}function We(C){if(C._menuButton)C.exportEnabled?(Ht(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),se(C._menuButton),Te(C,C._menuButton,"menu")):je(C._menuButton);else if(C.exportEnabled&&O){var P=!1;C._menuButton=document.createElement("button"),Te(C,C._menuButton,"menu"),C._toolBar.appendChild(C._menuButton),Pt(C._menuButton,"touchstart",function(rt){P=!0},C.allDOMEventHandlers),Pt(C._menuButton,"click",function(){C._dropdownMenu.style.display!=="none"||C._dropDownCloseTime&&500>=new Date().getTime()-C._dropDownCloseTime.getTime()||(C._dropdownMenu.style.display="block",C._menuButton.blur(),C._dropdownMenu.focus())},C.allDOMEventHandlers,!0),Pt(C._menuButton,"mousemove",function(){P||(Ht(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColorOnHover,color:C.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&Ht(C._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},C.allDOMEventHandlers,!0),Pt(C._menuButton,"mouseout",function(){P||(Ht(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&Ht(C._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},C.allDOMEventHandlers,!0)}if(C.exportEnabled&&C._dropdownMenu){Ht(C._dropdownMenu,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor});for(var D=C._dropdownMenu.childNodes,j=[C._cultureInfo.printText,C._cultureInfo.saveJPGText,C._cultureInfo.savePNGText],at=0;at<D.length;at++)Ht(D[at],{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),D[at].innerHTML=j[at]}else!C._dropdownMenu&&C.exportEnabled&&O&&(P=!1,C._dropdownMenu=document.createElement("div"),C._dropdownMenu.setAttribute("tabindex",-1),D=C.theme.indexOf("dark")!==-1?"black":"#888888",Ht(C._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:C.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px"+D}),C._dropdownMenu.style.display="none",C._toolBar.appendChild(C._dropdownMenu),Pt(C._dropdownMenu,"blur",function(){je(C._dropdownMenu),C._dropDownCloseTime=new Date},C.allDOMEventHandlers,!0),D=document.createElement("div"),Ht(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=C._cultureInfo.printText,D.style.backgroundColor=C.toolbar.itemBackgroundColor,D.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(D),Pt(D,"touchstart",function(rt){P=!0},C.allDOMEventHandlers),Pt(D,"mousemove",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Pt(D,"mouseout",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Pt(D,"click",function(){C.print(),je(C._dropdownMenu)},C.allDOMEventHandlers,!0),D=document.createElement("div"),Ht(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=C._cultureInfo.saveJPGText,D.style.backgroundColor=C.toolbar.itemBackgroundColor,D.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(D),Pt(D,"touchstart",function(rt){P=!0},C.allDOMEventHandlers),Pt(D,"mousemove",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Pt(D,"mouseout",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Pt(D,"click",function(){C.exportChart({format:"jpeg",fileName:C.exportFileName}),je(C._dropdownMenu)},C.allDOMEventHandlers,!0),D=document.createElement("div"),Ht(D,{padding:"12px 8px 12px 8px"}),D.innerHTML=C._cultureInfo.savePNGText,D.style.backgroundColor=C.toolbar.itemBackgroundColor,D.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(D),Pt(D,"touchstart",function(rt){P=!0},C.allDOMEventHandlers),Pt(D,"mousemove",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Pt(D,"mouseout",function(){P||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Pt(D,"click",function(){C.exportChart({format:"png",fileName:C.exportFileName}),je(C._dropdownMenu)},C.allDOMEventHandlers,!0))}function Jt(C,P,D){for(C*=De,P*=De,C=D.getImageData(C,P,2,2).data,P=!0,D=0;4>D;D++)if(C[D]!==C[D+4]|C[D]!==C[D+8]|C[D]!==C[D+12]){P=!1;break}return P?C[0]<<16|C[1]<<8|C[2]:0}function yt(C,P,D){return C in P?P[C]:D[C]}function we(C,P,D,j){O&&Ko?(j=!T(j)&&j?C.getContext("2d",{willReadFrequently:!0}):C.getContext("2d"),bs=j.webkitBackingStorePixelRatio||j.mozBackingStorePixelRatio||j.msBackingStorePixelRatio||j.oBackingStorePixelRatio||j.backingStorePixelRatio||1,De=ba/bs,C.width=P*De,C.height=D*De,ba!==bs&&(C.style.width=P+"px",C.style.height=D+"px",j.scale(De,De))):(C.width=P,C.height=D)}function Ie(C){if(!Lh){var P=!1,D=!1;typeof ri.Chart.creditHref>"u"?(C.creditHref=$e("iuuqr;..b`ow`rkr/bnl."),C.creditText=$e("B`ow`rKR/bnl")):(P=C.updateOption("creditText"),D=C.updateOption("creditHref")),C.creditHref&&C.creditText&&(C._creditLink||(C._creditLink=document.createElement("a"),C._creditLink.setAttribute("class","canvasjs-chart-credit"),C._creditLink.setAttribute("title","JavaScript Charts"),Ht(C._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:C.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),C._creditLink.setAttribute("tabIndex",-1),C._creditLink.setAttribute("target","_blank")),(C.renderCount===0||P||D)&&(C._creditLink.setAttribute("href",C.creditHref),C._creditLink.innerHTML=C.creditText),C._creditLink&&C.creditHref&&C.creditText?(C._creditLink.parentElement||C._canvasJSContainer.appendChild(C._creditLink),C._creditLink.style.top=C.height-14+"px"):C._creditLink.parentElement&&C._canvasJSContainer.removeChild(C._creditLink))}}function Qt(C,P,D){Ki&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var j=document.createElement("canvas");return j.setAttribute("class","canvasjs-chart-canvas"),we(j,C,P,D),O||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(j),j}function Ht(C,P){for(var D in P)C.style[D]=P[D]}function Te(C,P,D){P.getAttribute("state")||(P.style.backgroundColor=C.toolbar.itemBackgroundColor,P.style.color=C.toolbar.fontColor,P.style.border="none",Ht(P,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),P.getAttribute("state")!==D&&(P.setAttribute("state",D),P.setAttribute("type","button"),Ht(P,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),P.innerHTML="<img src='"+Eh[D].image+"' alt='"+C._cultureInfo[D+"Text"]+"' />",Ht(P.childNodes[0],{height:"95%",pointerEvents:"none"})),P.setAttribute("title",C._cultureInfo[D+"Text"])}function se(){for(var C=null,P=0;P<arguments.length;P++)C=arguments[P],C.style&&(C.style.display="inline")}function je(){for(var C=null,P=0;P<arguments.length;P++)(C=arguments[P])&&C.style&&(C.style.display="none")}function Gi(C,P,D,j,at){return C===null||typeof C>"u"?typeof D>"u"?P:D:(C=parseFloat(C.toString())*(0<=C.toString().indexOf("%")?P/100:1),typeof j<"u"&&(C=Math.min(j,C),typeof at<"u"&&(C=Math.max(at,C))),!isNaN(C)&&C<=P&&0<=C?C:typeof D>"u"?P:D)}function re(C,P,D,j,at){this._defaultsKey=C,this._themeOptionsKey=P,this._index=j,this.parent=at,this._eventListeners=[],C={},this.theme&&T(this.parent)&&T(P)&&T(j)?C=T(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[P]&&(j===null?C=this.parent.themeOptions[P]:0<this.parent.themeOptions[P].length&&(j=Math.min(this.parent.themeOptions[P].length-1,j),C=this.parent.themeOptions[P][j])),this.themeOptions=C,this.options=D||{_isPlaceholder:!0},this.setOptions(this.options,C)}function Ai(C,P,D,j,at){typeof at>"u"&&(at=0),this._padding=at,this._x1=C,this._y1=P,this._x2=D,this._y2=j,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function zt(C,P){zt.base.constructor.call(this,"TextBlock",null,P,null,null),this.ctx=C,this._isDirty=!0,this._wrappedText=null,this._initialize()}function gi(C,P){gi.base.constructor.call(this,"Toolbar","toolbar",P,null,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function xi(C,P){if(xi.base.constructor.call(this,"Title","title",P,null,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="title",T(this.options.margin)&&C.options.subtitles){for(var D=C.options.subtitles,j=0;j<D.length;j++)if((T(D[j].horizontalAlign)&&this.horizontalAlign==="center"||D[j].horizontalAlign===this.horizontalAlign)&&(T(D[j].verticalAlign)&&this.verticalAlign==="top"||D[j].verticalAlign===this.verticalAlign)&&!D[j].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Fi(C,P,D){Fi.base.constructor.call(this,"Subtitle","subtitles",P,D,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Ci(){this.pool=[]}function fi(C){var P;C&&Ct[C]&&(P=Ct[C]),fi.base.constructor.call(this,"CultureInfo",null,P,null,null)}var Ki=!1,He={},O=!!document.createElement("canvas").getContext,ri={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:O?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:O?"transparent":null,borderColor:O?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:O?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:O?"transparent":null,titleBorderColor:O?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:O?"transparent":null,labelBorderColor:O?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:O?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:O?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:O?"grey":null,labelBorderColor:O?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:O?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:O?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:O?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Ct={en:{}},I=O?"Trebuchet MS, Helvetica, sans-serif":"Arial",z=O?"Impact, Charcoal, sans-serif":"Arial",K={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Q,st,nt,wt,Ut;st="#333333",nt="#000000",Q="#666666",Ut=wt="#000000";var St=20,ut=14,Me={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:z,fontSize:32,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:z,fontSize:ut,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:I,indexLabelFontSize:ut,indexLabelFontColor:st,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:St,titleFontColor:st,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:st,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:I,titleFontSize:St,titleFontColor:st,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:st,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:I,fontSize:14,fontColor:st,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};nt=st="#F5F5F5",Q="#FFFFFF",wt="#40BAF1",Ut="#F5F5F5";var St=20,ut=14,Ot={colorSet:"colorSet2",title:{fontFamily:I,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:I,fontSize:ut,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:I,indexLabelFontSize:ut,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:St,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:I,titleFontSize:St,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:I,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};nt=st="#F5F5F5",Q="#FFFFFF",wt="#40BAF1",Ut="#F5F5F5",St=20,ut=14,z={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:z,fontSize:32,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:z,fontSize:ut,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:I,indexLabelFontSize:ut,indexLabelFontColor:nt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:I,fontSize:14,fontColor:st,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:nt,backgroundColor:"rgba(0, 0, 0, .7)"}},Q="#FFFFFF",nt=st="#FAFAFA",wt="#40BAF1",Ut="#F5F5F5";var St=20,ut=14,ue={light1:Me,light2:Ot,dark1:z,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:I,fontSize:32,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:I,fontSize:ut,fontColor:st,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:I,indexLabelFontSize:ut,indexLabelFontColor:nt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:1,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:0,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:0,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:I,titleFontSize:St,titleFontColor:nt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:ut,labelFontColor:nt,labelFontWeight:"normal",lineThickness:0,lineColor:Q,tickThickness:1,tickColor:Q,gridThickness:1,gridColor:Q,stripLines:[{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:ut,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:Ut,color:wt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:I,fontSize:14,fontColor:st,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:nt,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Me,theme2:Ot,theme3:Me},It={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){He.fSDec=function(C){for(var P="",D=0;D<C.length;D++)P+=String.fromCharCode(Math.ceil(C.length/57/5)^C.charCodeAt(D));return P},delete ri[He.fSDec("Bi`su")][He.fSDec("bsdehuIsdg")],He.pro={sCH:ri[He.fSDec("Bi`su")][He.fSDec("bsdehuIsdg")]}})();var Ti=function(){var C=!1;try{var P=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return C=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,P),window.removeEventListener("test",null,P))}catch{C=!1}return C}(),Ii={},Je=null,va=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Di=function(C){C.width=1,C.height=1,C.getContext("2d")&&C.getContext("2d").clearRect(0,0,1,1)},Vh=function(C,P,D){return P=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=P?12:11,Math.round(P*(C/400)))},Qi=function(){var C=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,P="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),D="Sun Mon Tue Wed Thu Fri Sat".split(" "),j="January February March April May June July August September October November December".split(" "),at="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),rt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,G=/[^-+\dA-Z]/g;return function(Lt,qt,kt){var Ne=kt?kt.days:P,ge=kt?kt.months:j,Fe=kt?kt.shortDays:D,Zt=kt?kt.shortMonths:at;kt="";var Ge=!1;if(Lt=Lt&&Lt.getTime?Lt:Lt?new Date(Lt):new Date,isNaN(Lt))throw SyntaxError("invalid date");qt.slice(0,4)==="UTC:"&&(qt=qt.slice(4),Ge=!0),kt=Ge?"getUTC":"get";var Xe=Lt[kt+"Date"](),vt=Lt[kt+"Day"](),oe=Lt[kt+"Month"](),t=Lt[kt+"FullYear"](),o=Lt[kt+"Hours"](),i=Lt[kt+"Minutes"](),e=Lt[kt+"Seconds"](),n=Lt[kt+"Milliseconds"](),h=Ge?0:Lt.getTimezoneOffset();return kt=qt.replace(C,function(d){switch(d){case"D":return Xe;case"DD":return l(Xe,2);case"DDD":return Fe[vt];case"DDDD":return Ne[vt];case"M":return oe+1;case"MM":return l(oe+1,2);case"MMM":return Zt[oe];case"MMMM":return ge[oe];case"Y":return parseInt(String(t).slice(-2));case"YY":return l(String(t).slice(-2),2);case"YYY":return l(String(t).slice(-3),3);case"YYYY":return l(t,4);case"h":return o%12||12;case"hh":return l(o%12||12,2);case"H":return o;case"HH":return l(o,2);case"m":return i;case"mm":return l(i,2);case"s":return e;case"ss":return l(e,2);case"f":return l(String(n),3).slice(0,1);case"ff":return l(String(n),3).slice(0,2);case"fff":return l(String(n),3).slice(0,3);case"t":return 12>o?"a":"p";case"tt":return 12>o?"am":"pm";case"T":return 12>o?"A":"P";case"TT":return 12>o?"AM":"PM";case"K":return Ge?"UTC":(String(Lt).match(rt)||[""]).pop().replace(G,"");case"z":return(0<h?"-":"+")+Math.floor(Math.abs(h)/60);case"zz":return(0<h?"-":"+")+l(Math.floor(Math.abs(h)/60),2);case"zzz":return(0<h?"-":"+")+l(Math.floor(Math.abs(h)/60),2)+l(Math.abs(h)%60,2);default:return d.slice(1,d.length-1)}})}}(),Bh=function(C){var P=0>C;if(1>Math.abs(C)){var D=parseInt(C.toString().split("e-")[1]);D&&(C=(P?-1*C:C)*Math.pow(10,D-1),C="0."+Array(D).join("0")+C.toString().substring(2),C=P?"-"+C:C)}else D=parseInt(C.toString().split("+")[1]),20<D&&(D-=20,C/=Math.pow(10,D),C=C.toString()+Array(D+1).join("0"));return String(C)},Ce=function(C,P,D){if(C===null)return"";if(!isFinite(C))return C;C=Number(C);var j=0>C;j&&(C*=-1);var at=D?D.decimalSeparator:".",rt=D?D.digitGroupSeparator:",",G="";P=String(P);var G=1,Xe=D="",Lt=-1,qt=[],kt=[],Ne=0,ge=0,Fe=0,Zt=!1,Ge=0,Xe=P.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);P=null;for(var vt=0;Xe&&vt<Xe.length;vt++)if(P=Xe[vt],P==="."&&0>Lt)Lt=vt;else{if(P==="%")G*=100;else if(P==="\u2030"){G*=1e3;continue}else if(P[0]===","&&P[P.length-1]==="."){G/=Math.pow(1e3,P.length-1),Lt=vt+P.length-1;continue}else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||(Zt=!0);0>Lt?(qt.push(P),P==="#"||P==="0"?Ne++:P===","&&Fe++):(kt.push(P),P!=="#"&&P!=="0"||ge++)}for(Zt&&(P=Math.floor(C),Xe=-Math.floor(Math.log(C)/Math.LN10+1),Ge=C===0?0:P===0?-(Ne+Xe):Bh(P).length-Ne,G/=Math.pow(10,Ge)),0>Lt&&(Lt=vt),G=(C*G).toFixed(ge),P=G.split("."),G=(P[0]+"").split(""),C=(P[1]+"").split(""),G&&G[0]==="0"&&G.shift(),Zt=Xe=vt=ge=Lt=0;0<qt.length;)if(P=qt.pop(),P==="#"||P==="0")if(Lt++,Lt===Ne){var oe=G,G=[];if(P==="0")for(P=Ne-ge-(oe?oe.length:0);0<P;)oe.unshift("0"),P--;for(;0<oe.length;)D=oe.pop()+D,Zt++,Zt%Xe===0&&vt===Fe&&0<oe.length&&(D=rt+D)}else 0<G.length?(D=G.pop()+D,ge++,Zt++):P==="0"&&(D="0"+D,ge++,Zt++),Zt%Xe===0&&vt===Fe&&0<G.length&&(D=rt+D);else P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?P===","?(vt++,Xe=Zt,Zt=0,0<G.length&&(D=rt+D)):D=1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?P.slice(1,P.length-1)+D:P+D:(P=0>Ge?P.replace("+","").replace("-",""):P.replace("-",""),D+=P.replace(/[0]+/,function(t){return l(Ge,t.length)}));for(rt="",qt=!1;0<kt.length;)P=kt.shift(),P==="#"||P==="0"?0<C.length&&Number(C.join(""))!==0?(rt+=C.shift(),qt=!0):P==="0"&&(rt+="0",qt=!0):1<P.length&&(P[0]==='"'&&P[P.length-1]==='"'||P[0]==="'"&&P[P.length-1]==="'")?rt+=P.slice(1,P.length-1):P[0]!=="E"&&P[0]!=="e"||P[P.length-1]!=="0"||!/[eE][+-]*[0]+/.test(P)?rt+=P:(P=0>Ge?P.replace("+","").replace("-",""):P.replace("-",""),rt+=P.replace(/[0]+/,function(t){return l(Ge,t.length)}));return D+=(qt?at:"")+rt,j?"-"+D:D},vs=function(C){var P=0,D=0;return C=C||window.event,C.offsetX||C.offsetX===0?(P=C.offsetX,D=C.offsetY):C.layerX||C.layerX==0?(P=C.layerX,D=C.layerY):(P=C.pageX-C.target.offsetLeft,D=C.pageY-C.target.offsetTop),{x:P,y:D}},Ko=!0,ba=window.devicePixelRatio||1,bs=1,De=Ko?ba/bs:1,ve=function(C,P,D,j,at,rt,G,Lt,qt,kt,Ne,ge,Fe){typeof Fe>"u"&&(Fe=1),G=G||0,Lt=Lt||"black";var Zt=15<j-P&&15<at-D?8:.35*Math.min(j-P,at-D);C.beginPath(),C.moveTo(P,D),C.save(),C.fillStyle=rt,C.globalAlpha=Fe,C.fillRect(P,D,j-P,at-D),C.globalAlpha=1,0<G&&(Fe=G%2===0?0:.5,C.beginPath(),C.lineWidth=G,C.strokeStyle=Lt,C.moveTo(P,D),C.rect(P-Fe,D-Fe,j-P+2*Fe,at-D+2*Fe),C.stroke()),C.restore(),qt===!0&&(C.save(),C.beginPath(),C.moveTo(P,D),C.lineTo(P+Zt,D+Zt),C.lineTo(j-Zt,D+Zt),C.lineTo(j,D),C.closePath(),G=C.createLinearGradient((j+P)/2,D+Zt,(j+P)/2,D),G.addColorStop(0,rt),G.addColorStop(1,"rgba(255, 255, 255, .4)"),C.fillStyle=G,C.fill(),C.restore()),kt===!0&&(C.save(),C.beginPath(),C.moveTo(P,at),C.lineTo(P+Zt,at-Zt),C.lineTo(j-Zt,at-Zt),C.lineTo(j,at),C.closePath(),G=C.createLinearGradient((j+P)/2,at-Zt,(j+P)/2,at),G.addColorStop(0,rt),G.addColorStop(1,"rgba(255, 255, 255, .4)"),C.fillStyle=G,C.fill(),C.restore()),Ne===!0&&(C.save(),C.beginPath(),C.moveTo(P,D),C.lineTo(P+Zt,D+Zt),C.lineTo(P+Zt,at-Zt),C.lineTo(P,at),C.closePath(),G=C.createLinearGradient(P+Zt,(at+D)/2,P,(at+D)/2),G.addColorStop(0,rt),G.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=G,C.fill(),C.restore()),ge===!0&&(C.save(),C.beginPath(),C.moveTo(j,D),C.lineTo(j-Zt,D+Zt),C.lineTo(j-Zt,at-Zt),C.lineTo(j,at),G=C.createLinearGradient(j-Zt,(at+D)/2,j,(at+D)/2),G.addColorStop(0,rt),G.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=G,G.addColorStop(0,rt),G.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=G,C.fill(),C.closePath(),C.restore())},$e=function(C){for(var P="",D=0;D<C.length;D++)P+=String.fromCharCode(Math.ceil(C.length/57/5)^C.charCodeAt(D));return P},Lh=window&&window[$e("mnb`uhno")]&&window[$e("mnb`uhno")].href&&window[$e("mnb`uhno")].href.indexOf&&(window[$e("mnb`uhno")].href.indexOf($e("b`ow`rkr/bnl"))!==-1||window[$e("mnb`uhno")].href.indexOf($e("gdonqhy/bnl"))!==-1||window[$e("mnb`uhno")].href.indexOf($e("gheemd"))!==-1)&&window[$e("mnb`uhno")].href.indexOf($e("gheemd"))===-1,Eh={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};re.prototype.setOptions=function(C,P){if(ri[this._defaultsKey]){var D=ri[this._defaultsKey],j;for(j in D)j!=="publicProperties"&&D.hasOwnProperty(j)&&(this[j]=C&&j in C?C[j]:P&&j in P?P[j]:D[j])}else Ki&&window.console&&console.log("defaults not set")},re.prototype.get=function(C){var P=ri[this._defaultsKey];if(C==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(P.hasOwnProperty(C)||P.publicProperties&&P.publicProperties.hasOwnProperty(C))return this[C];window.console&&window.console.log('Property "'+C+`" doesn't exist. Please check for typo.`)},re.prototype.set=function(C,P,D){D=typeof D>"u"?!0:D;var j=ri[this._defaultsKey];if(C==="options")this.createUserOptions(P);else if(j.hasOwnProperty(C)||j.publicProperties&&j.publicProperties.hasOwnProperty(C)&&j.publicProperties[C]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[C]=P;else{window.console&&(j.publicProperties&&j.publicProperties.hasOwnProperty(C)&&j.publicProperties[C]==="readOnly"?window.console.log('Property "'+C+'" is read-only.'):window.console.log('Property "'+C+`" doesn't exist. Please check for typo.`));return}D&&(this.stockChart||this.chart||this).render()},re.prototype.addTo=function(C,P,D,j){j=typeof j>"u"?!0:j;var at=ri[this._defaultsKey];at.hasOwnProperty(C)||at.publicProperties&&at.publicProperties.hasOwnProperty(C)&&at.publicProperties[C]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[C]>"u"&&(this.options[C]=[]),C=this.options[C],D=typeof D>"u"||D===null?C.length:D,C.splice(D,0,P),j&&(this.stockChart||this.chart||this).render()):window.console&&(at.publicProperties&&at.publicProperties.hasOwnProperty(C)&&at.publicProperties[C]==="readOnly"?window.console.log('Property "'+C+'" is read-only.'):window.console.log('Property "'+C+`" doesn't exist. Please check for typo.`))},re.prototype.createUserOptions=function(C){if(typeof C<"u"||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var P=this.parent.options[this.optionsName],D=P.length;this.options._isPlaceholder||(it(P),D=P.indexOf(this.options)),this.options=typeof C>"u"?{}:C,P[D]=this.options}else this.options=typeof C>"u"?{}:C,C=this.parent.options,this.optionsName?P=this.optionsName:(P=this._defaultsKey)&&P.length!==0?(D=P.charAt(0).toLowerCase(),1<P.length&&(D=D.concat(P.slice(1))),P=D):P=void 0,C[P]=this.options},re.prototype.remove=function(C){if(C=typeof C>"u"?!0:C,this.isOptionsInArray){var P=this.parent.options[this.optionsName];it(P);var D=P.indexOf(this.options);0<=D&&P.splice(D,1)}else delete this.parent.options[this.optionsName];C&&(this.stockChart||this.chart||this).render()},re.prototype.updateOption=function(C){!ri[this._defaultsKey]&&Ki&&window.console&&console.log("defaults not set");var P=ri[this._defaultsKey],D={},j=this[C],at=this._themeOptionsKey,rt=this._index;return this.theme&&T(this.parent)&&T(at)&&T(rt)?D=T(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[at]&&(rt===null?D=this.parent.themeOptions[at]:0<this.parent.themeOptions[at].length&&(D=Math.min(this.parent.themeOptions[at].length-1,rt),D=this.parent.themeOptions[at][D])),this.themeOptions=D,C in P&&(j=C in this.options?this.options[C]:D&&C in D?D[C]:P[C]),j===this[C]?!1:(this[C]=j,!0)},re.prototype.trackChanges=function(C){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[C]=this.options[C]},re.prototype.isBeingTracked=function(C){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[C]},re.prototype.hasOptionChanged=function(C){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[C]!==this.options[C]},re.prototype.addEventListener=function(C,P,D){C&&P&&(this._eventListeners[C]=this._eventListeners[C]||[],this._eventListeners[C].push({context:D||this,eventHandler:P}))},re.prototype.removeEventListener=function(C,P){if(C&&P&&this._eventListeners[C]){for(var D=this._eventListeners[C],j=0;j<D.length;j++)if(D[j].eventHandler===P){D[j].splice(j,1);break}}},re.prototype.removeAllEventListeners=function(){this._eventListeners=[]},re.prototype.dispatchEvent=function(C,P,D){if(C&&this._eventListeners[C]){P=P||{};for(var j=this._eventListeners[C],at=0;at<j.length;at++)j[at].eventHandler.call(j[at].context,P)}typeof this[C]=="function"&&this[C].call(D||this.chart,P)},Ai.prototype.registerSpace=function(C,P){C==="top"?this._topOccupied+=P.height:C==="bottom"?this._bottomOccupied+=P.height:C==="left"?this._leftOccupied+=P.width:C==="right"&&(this._rightOccupied+=P.width)},Ai.prototype.unRegisterSpace=function(C,P){C==="top"?this._topOccupied-=P.height:C==="bottom"?this._bottomOccupied-=P.height:C==="left"?this._leftOccupied-=P.width:C==="right"&&(this._rightOccupied-=P.width)},Ai.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Ai.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},r(zt,re),zt.prototype._initialize=function(){T(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=T(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=T(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=T(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=T(this.padding.left)?0:Number(this.padding.left)|0)},zt.prototype.render=function(C){if(this.fontSize!==0){C&&this.ctx.save();var P=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var D=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+D),this.textBaseline==="middle"&&(D=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var j=0,at=this.topPadding,rt=null;for(this.ctx.roundRect||y(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,D,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,D=0;D<this._wrappedText.lines.length;D++)rt=this._wrappedText.lines[D],this.horizontalAlign==="right"||this.textAlign==="right"?j=this.width-rt.width-this.rightPadding:this.horizontalAlign==="left"||this.textAlign==="left"?j=this.leftPadding:(this.horizontalAlign==="center"||this.textAlign==="center")&&(j=(this.width-(this.leftPadding+this.rightPadding))/2-rt.width/2+this.leftPadding),this.ctx.fillText(rt.text,j,at),at+=rt.height;this.ctx.font=P,C&&this.ctx.restore()}},zt.prototype.setText=function(C){this.text=C,this._isDirty=!0,this._wrappedText=null},zt.prototype.measureText=function(){if(this._lineHeight=ct(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},zt.prototype._getLineWithWidth=function(C,P,D){if(C=String(C),!C)return{text:"",width:0};var j=D=0,at=C.length-1,rt=1/0;for(this.ctx.font=this._getFontString();j<=at;){var rt=Math.floor((j+at)/2),G=C.substr(0,rt+1);if(D=this.ctx.measureText(G).width,D<P)j=rt+1;else if(D>P)at=rt-1;else break}return D>P&&1<G.length&&(G=G.substr(0,G.length-1),D=this.ctx.measureText(G).width),P=!0,(G.length===C.length||C[G.length]===" ")&&(P=!1),P&&(C=G.split(" "),1<C.length&&C.pop(),G=C.join(" "),D=this.ctx.measureText(G).width),{text:G,width:D}},zt.prototype._wrapText=function(){var C=new String(u(String(this.text))),P=[],D=this.ctx.font,j=0,at=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)at=j=0;else for(;0<C.length;){var rt=this.maxHeight-(this.topPadding+this.bottomPadding),G=this._getLineWithWidth(C,this.maxWidth-(this.leftPadding+this.rightPadding),!1);G.height=this._lineHeight,P.push(G);var Lt=at,at=Math.max(at,G.width),j=j+G.height,C=u(C.slice(G.text.length,C.length));rt&&j>rt&&(G=P.pop(),j-=G.height,at=Lt)}this._wrappedText={lines:P,width:at,height:j},this.width=at+(this.leftPadding+this.rightPadding),this.height=j+(this.topPadding+this.bottomPadding),this.ctx.font=D},zt.prototype._getFontString=function(){var C;C=this.fontStyle?this.fontStyle+" ":"",C+=this.fontWeight?this.fontWeight+" ":"",C+=this.fontSize?this.fontSize+"px ":"";var P=this.fontFamily?this.fontFamily+"":"";return!O&&P&&(P=P.split(",")[0],P[0]!=="'"&&P[0]!=='"'&&(P="'"+P+"'")),C+=P},r(gi,re),r(xi,re),xi.prototype.setLayout=function(){if(this.text){var C=this.dockInsidePlotArea?this.chart.plotArea:this.chart,P=C.layoutManager.getFreeSpace(),D=P.x1,j=P.y1,at=0,rt=0,G=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,Lt,qt;this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.maxWidth===null&&(this.maxWidth=P.width-4-G*(this.horizontalAlign==="center"?2:1)),rt=.5*P.height-this.margin-2,at=0):this.verticalAlign==="center"&&(this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=P.height-4),rt=.5*P.width-this.margin-2):this.horizontalAlign==="center"&&(this.maxWidth===null&&(this.maxWidth=P.width-4),rt=.5*P.height-4));var kt;T(this.padding)||typeof this.padding!="number"?T(this.padding)||typeof this.padding!="object"||(kt=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,kt+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):kt=2*this.padding,this.wrap||(rt=Math.min(rt,1.5*this.fontSize+kt)),rt=new zt(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:rt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),kt=rt.measureText(),this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.verticalAlign==="top"?(j=P.y1+2+this.fontSize/2+4,qt="top"):this.verticalAlign==="bottom"&&(j=P.y2-2-kt.height+this.fontSize/2+4,qt="bottom"),this.horizontalAlign==="left"?D=P.x1+2:this.horizontalAlign==="center"?D=P.x1+P.width/2-kt.width/2:this.horizontalAlign==="right"&&(D=P.x2-2-kt.width-G),Lt=this.horizontalAlign,this.width=kt.width,this.height=kt.height):this.verticalAlign==="center"&&(this.horizontalAlign==="left"?(D=P.x1+2+(this.fontSize/2+4),j=P.y2-2-(this.maxWidth/2-kt.width/2),at=-90,qt="left",this.width=kt.height,this.height=kt.width):this.horizontalAlign==="right"?(D=P.x2-2-(this.fontSize/2+4),j=P.y1+2+(this.maxWidth/2-kt.width/2),at=90,qt="right",this.width=kt.height,this.height=kt.width):this.horizontalAlign==="center"&&(j=C.y1+(C.height/2-kt.height/2)+this.fontSize/2+4,D=C.x1+(C.width/2-kt.width/2),qt="center",this.width=kt.width,this.height=kt.height),Lt="center"),rt.x=D,rt.y=j,rt.angle=at,rt.horizontalAlign=Lt,this._textBlock=rt,C.layoutManager.registerSpace(qt,{width:this.width+(qt==="left"||qt==="right"?this.margin+2:0),height:this.height+(qt==="top"||qt==="bottom"?this.margin+2:0)}),this.bounds={x1:D,y1:j,x2:D+this.width,y2:j+this.height},this.ctx.textBaseline="top"}},xi.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},r(Fi,re),Fi.prototype.setLayout=xi.prototype.setLayout,Fi.prototype.render=xi.prototype.render,Ci.prototype.get=function(C,P){var D=null;return 0<this.pool.length?(D=this.pool.pop(),we(D,C,P)):D=Qt(C,P),D},Ci.prototype.release=function(C){this.pool.push(C)},r(fi,re);var Ms={addTheme:function(C,P){ue[C]=P},addColorSet:function(C,P){K[C]=P},addCultureInfo:function(C,P){Ct[C]=P},formatNumber:function(C,P,D){if(D=D||"en",Ct[D])return Ce(C,P||"#,##0.##",new fi(D));throw"Unknown Culture Name"},formatDate:function(C,P,D){if(D=D||"en",Ct[D])return Qi(C,P||"DD MMM YYYY",new fi(D));throw"Unknown Culture Name"}};typeof fa<"u"&&typeof fa.exports<"u"?fa.exports=Ms:typeof define=="function"&&define.amd?define([],function(){return Ms}):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:Ms),I=Ms.Chart=function(){function C(t,o){return t.x-o.x}function P(t,o,i){o=o||{},T(i)?(this.predefinedThemes=ue,this.optionsName=this.parent=this.index=null):(this.parent=i.parent,this.index=i.index,this.predefinedThemes=i.predefinedThemes,this.optionsName=i.optionsName,this.stockChart=i.stockChart,this.panel=t,this.isOptionsInArray=i.isOptionsInArray),this.theme=T(o.theme)||T(this.predefinedThemes[o.theme])?"light1":o.theme,P.base.constructor.call(this,"Chart",this.optionsName,o,this.index,this.parent);var e=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Ci,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",o=t=0,t=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,o=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=t,this.height=o,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof K[this.colorSet]<"u"?K[this.colorSet]:K.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",O||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=Qt(t,o),this._preRenderCanvas=Qt(t,o),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",y(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",y(this._preRenderCtx),O?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=Qt(t,o),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=Qt(t,o),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",y(this.overlaidCanvasCtx)),this._eventManager=new Fe(this),this.windowResizeHandler=Pt(window,"resize",function(){e._updateSize()&&e.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),Ht(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Pt(this.overlaidCanvas,"click",function(n){e._mouseEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,"mousemove",function(n){e._mouseEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,"mouseup",function(n){e._mouseEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,"mousedown",function(n){e._mouseEventHandler(n),je(e._dropdownMenu)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,"mouseout",function(n){e._mouseEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(n){e._touchEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(n){e._touchEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(n){e._touchEventHandler(n)},this.allDOMEventHandlers),Pt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(n){e._touchEventHandler(n)},this.allDOMEventHandlers),this.toolTip=new ge(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function D(t,o){for(var i=[],e,n=0;n<t.length;n++)if(n==0)i.push(t[0]);else{var h,d,f;f=n-1,h=f===0?0:f-1,d=f===t.length-1?f:f+1,e=Math.abs((t[d].x-t[h].x)/(t[d].x-t[f].x===0?.01:t[d].x-t[f].x))*(o-1)/2+1;var v=(t[d].x-t[h].x)/e;e=(t[d].y-t[h].y)/e,i[i.length]=t[f].x>t[h].x&&0<v||t[f].x<t[h].x&&0>v?{x:t[f].x+v/3,y:t[f].y+e/3}:{x:t[f].x,y:t[f].y+(i.length===1?0:e/9)},f=n,h=f===0?0:f-1,d=f===t.length-1?f:f+1,e=Math.abs((t[d].x-t[h].x)/(t[f].x-t[h].x===0?.01:t[f].x-t[h].x))*(o-1)/2+1,v=(t[d].x-t[h].x)/e,e=(t[d].y-t[h].y)/e,i[i.length]=t[f].x>t[h].x&&0<v||t[f].x<t[h].x&&0>v?{x:t[f].x-v/3,y:t[f].y-e/3}:{x:t[f].x,y:t[f].y-e/9},i[i.length]=t[n]}return i}function j(t,o,i,e,n,h,d,f,v,m){var c=0;m?(d.color=h,f.color=h):m=1,c=Math.abs(v?n-i:e-o),c=0<d.trimLength?Math.abs(c*d.trimLength/100):Math.abs(c-d.length),v?(i+=c/2,n-=c/2):(o+=c/2,e-=c/2);var c=Math.round(d.thickness)%2===1?.5:0,g=Math.round(f.thickness)%2===1?.5:0;t.save(),t.globalAlpha=m,t.strokeStyle=f.color||h,t.lineWidth=f.thickness||2,t.setLineDash&&t.setLineDash(ot(f.dashType,f.thickness)),t.beginPath(),v&&0<f.thickness?(t.moveTo(e-d.thickness/2,Math.round((i+n)/2)-g),t.lineTo(o+d.thickness/2,Math.round((i+n)/2)-g)):0<f.thickness&&(t.moveTo(Math.round((o+e)/2)-g,i+d.thickness/2),t.lineTo(Math.round((o+e)/2)-g,n-d.thickness/2)),t.stroke(),t.strokeStyle=d.color||h,t.lineWidth=d.thickness||2,t.setLineDash&&t.setLineDash(ot(d.dashType,d.thickness)),t.beginPath(),v&&0<d.thickness?(t.moveTo(e-c,i),t.lineTo(e-c,n),t.moveTo(o+c,i),t.lineTo(o+c,n)):0<d.thickness&&(t.moveTo(o,i+c),t.lineTo(e,i+c),t.moveTo(o,n-c),t.lineTo(e,n-c)),t.stroke(),t.restore()}function at(t,o){at.base.constructor.call(this,"Legend","legend",o,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=ct(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function rt(t,o,i,e){for(rt.base.constructor.call(this,"DataSeries","data",o,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=e,this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:i},t=o.dataPoints?o.dataPoints.length:0,this.dataPointEOs=[],o=0;o<t;o++)this.dataPointEOs[o]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function G(t,o,i,e,n,h){if(G.base.constructor.call(this,"Axis",o,i,e,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,n==="axisX"?(h==="left"||h==="bottom"?(this.optionsName="axisX",T(this.chart.sessionVariables.axisX[e])&&(this.chart.sessionVariables.axisX[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX[e]):(this.optionsName="axisX2",T(this.chart.sessionVariables.axisX2[e])&&(this.chart.sessionVariables.axisX2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[e]),this.options.interval||(this.intervalType=null)):h==="left"||h==="bottom"?(this.optionsName="axisY",T(this.chart.sessionVariables.axisY[e])&&(this.chart.sessionVariables.axisY[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY[e]):(this.optionsName="axisY2",T(this.chart.sessionVariables.axisY2[e])&&(this.chart.sessionVariables.axisY2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[e]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=n,n!=="axisX"||i&&typeof i.gridThickness<"u"||(this.gridThickness=0),this._position=h,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Lt(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new kt(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Ne(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Lt(t,o,i,e){if(Lt.base.constructor.call(this,"ScaleBreaks","scaleBreaks",o,null,e),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=e,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new qt(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[t].startValue=="number"&&typeof this.customBreaks[t].endValue=="number"&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(n,h){return n.startValue-h.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function qt(t,o,i,e,n,h){qt.base.constructor.call(this,"Break",o,i,e,h),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=h,this.optionsName=o,this.isOptionsInArray=!0,this.type=i.type?this.type:h.type,this.fillOpacity=T(i.fillOpacity)?h.fillOpacity:this.fillOpacity,this.lineThickness=T(i.lineThickness)?h.lineThickness:this.lineThickness,this.color=i.color?this.color:h.color,this.lineColor=i.lineColor?this.lineColor:h.lineColor,this.lineDashType=i.lineDashType?this.lineDashType:h.lineDashType,!T(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!T(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof i.spacing>"u"?h.spacing:i.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=h.spacing),this.size=h.parent.logarithmic?1:0}function kt(t,o,i,e,n){kt.base.constructor.call(this,"StripLine","stripLines",o,i,n),this.id=e,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=n,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=n.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Ne(t,o,i){Ne.base.constructor.call(this,"Crosshair","crosshair",o,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function ge(t,o){ge.base.constructor.call(this,"ToolTip","toolTip",o,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Fe(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=Qt(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Zt(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}r(P,re),P.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var o=0;o<t.length;o++){var i=t[o][0],e=t[o][1],n=t[o][2],h=t[o][3],h=h||!1;i.removeEventListener?i.removeEventListener(e,n,h):i.detachEvent&&i.detachEvent("on"+e,n)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Di(this.canvas),this.overlaidCanvas&&Di(this.overlaidCanvas),this._preRenderCanvas&&Di(this._preRenderCanvas),this._breaksCanvas&&Di(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Di(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},P.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this.selectedColorSet=typeof K[this.colorSet]<"u"?K[this.colorSet]:K.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new fi(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&O,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new gi(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)Ht(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),Te(this,this._zoomButton,"zoom");else{var o=!1;je(this._zoomButton=document.createElement("button")),Te(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Pt(this._zoomButton,"touchstart",function(e){o=!0},this.allDOMEventHandlers),Pt(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,Te(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,Te(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),Pt(this._zoomButton,"mousemove",function(){o?o=!1:(Ht(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ht(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Pt(this._zoomButton,"mouseout",function(){o||(Ht(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ht(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(Ht(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),this._resetButton.title=this._cultureInfo.resetText):(o=!1,je(this._resetButton=document.createElement("button")),Te(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Pt(this._resetButton,"touchstart",function(e){o=!0},this.allDOMEventHandlers),Pt(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,Te(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&Ht(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),je(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.syncCharts(null,null),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),Pt(this._resetButton,"mousemove",function(){o||(Ht(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ht(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Pt(this._resetButton,"mouseout",function(){o||(Ht(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&Ht(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),se(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;We(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?Te(t,t._zoomButton,"zoom"):Te(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&Te(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(var i in this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},P.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var o=0,i=0;if(this.options.width?o=this.width:this.width=o=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?i=this.height:this.height=i=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==o*De||this.canvas.height!==i*De){for(var e=0;e<t.length;e++)we(t[e],o,i);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},P.prototype._initialize=function(){this.isNavigator=!(T(this.parent)||T(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new Zt(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=O&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Ai(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,o=null;if(this.options.data){for(var i=0;i<this.options.data.length;i++)if(t++,!this.options.data[i].type||0<=P._supportedChartTypes.indexOf(this.options.data[i].type)){var e=new rt(this,this.options.data[i],t-1,++this._eventManager.lastObjectId);if(!T(e)&&e.dataPoints){for(var n=0;n<e.dataPoints.length;n++)if(e.dataPoints[n].x&&e.dataPoints[n].x.getTime){e.xValueType="dateTime";break}}e.type==="error"&&(e.linkedDataSeriesIndex=T(this.options.data[i].linkedDataSeriesIndex)?i-1:this.options.data[i].linkedDataSeriesIndex,0>e.linkedDataSeriesIndex||e.linkedDataSeriesIndex>=this.options.data.length||typeof e.linkedDataSeriesIndex!="number"||this.options.data[e.linkedDataSeriesIndex].type==="error")&&(e.linkedDataSeriesIndex=null),e.name===null&&(e.name="DataSeries "+t),e.color===null?1<this.options.data.length?(e._colorSet=[this.selectedColorSet[e.index%this.selectedColorSet.length]],e.color=this.selectedColorSet[e.index%this.selectedColorSet.length]):e._colorSet=e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="candlestick"||e.type==="ohlc"||e.type==="waterfall"||e.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:e._colorSet=[e.color],e.markerSize===null&&((e.type==="line"||e.type==="stepLine"||e.type==="spline"||0<=e.type.toLowerCase().indexOf("area"))&&e.dataPoints&&e.dataPoints.length<this.width/16||e.type==="scatter")&&(e.markerSize=8),e.type!=="bubble"&&e.type!=="scatter"||!e.dataPoints||(e.dataPoints.some?e.dataPoints.some(function(f){return f.x})&&e.dataPoints.sort(C):e.dataPoints.sort(C)),this.data.push(e);var n=e.axisPlacement,o=o||n,h;if(n==="normal"?this.plotInfo.axisPlacement==="xySwapped"?h='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?h='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):n==="xySwapped"?this.plotInfo.axisPlacement==="normal"?h='You cannot combine "'+e.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?h='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):n==="none"?this.plotInfo.axisPlacement==="normal"?h='You cannot combine "'+e.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?h='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):n===null&&this.plotInfo.axisPlacement==="none"&&(h='You cannot combine "'+e.type+'" with pie chart'),h&&window.console){window.console.log(h);return}}for(i=0;i<this.data.length;i++){if(o=="none"&&this.data[i].type==="error"&&window.console){window.console.log('You cannot combine "'+e.type+'" with error chart');return}this.data[i].type==="error"&&(this.data[i].axisPlacement=this.plotInfo.axisPlacement=o||"normal",this.data[i]._linkedSeries=this.data[i].linkedDataSeriesIndex===null?null:this.data[this.data[i].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},P._supportedChartTypes=it("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),P.prototype.setLayout=function(){for(var t=this._plotAreaElements,o=0;o<this.data.length;o++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[o].axisYType||this.data[o].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[i]=new G(this,"axisY",this.options.axisY[i],i,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[i]=new G(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[o].axisY=this.axisY[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY.length?this.data[o].axisYIndex:0],this.axisY[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY.length?this.data[o].axisYIndex:0].dataSeries.push(this.data[o])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new G(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new G(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[o].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[o]);if(this.data[o].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[i]=new G(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[i]=new G(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[o].axisY=this.axisY2[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY2.length?this.data[o].axisYIndex:0],this.axisY2[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY2.length?this.data[o].axisYIndex:0].dataSeries.push(this.data[o])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new G(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new G(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[o].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[o]);if(!this.data[o].axisXType||this.data[o].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[i]=new G(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[i]=new G(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[o].axisX=this.axisX[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX.length?this.data[o].axisXIndex:0],this.axisX[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX.length?this.data[o].axisXIndex:0].dataSeries.push(this.data[o])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new G(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new G(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[o].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[o]);if(this.data[o].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[i]=new G(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[i]=new G(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[o].axisX=this.axisX2[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX2.length?this.data[o].axisXIndex:0],this.axisX2[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX2.length?this.data[o].axisXIndex:0].dataSeries.push(this.data[o])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new G(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new G(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[o].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[o])}if(this.axisY){for(i=1;i<this.axisY.length;i++)typeof this.axisY[i].options.gridThickness>"u"&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)typeof this.axisY[i].options.margin>"u"&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)typeof this.axisY2[i].options.gridThickness>"u"&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)typeof this.axisY2[i].options.margin>"u"&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)typeof this.axisX[i].options.gridThickness>"u"&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)typeof this.axisX2[i].options.gridThickness>"u"&&(this.axisX2[i].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),i=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(o=0;o<this._axes.length;o++)if(!T(this._axes[o].viewportMinimum)||!T(this._axes[o].viewportMaximum)){i=!0;break}}if(i?(se(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(je(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),dt(this),this._processData(),this.options.title&&(this.title=new xi(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(o=0;o<this.options.subtitles.length;o++)i=new Fi(this,this.options.subtitles[o],o),this.subtitles.push(i),i.dockInsidePlotArea?t.push(i):i.setLayout();for(this.legend=new at(this,this.options.legend),o=0;o<this.data.length;o++)(this.data[o].showInLegend||this.data[o].type==="pie"||this.data[o].type==="doughnut"||this.data[o].type==="funnel"||this.data[o].type==="pyramid")&&this.legend.dataSeries.push(this.data[o]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),o=0;o<this._axes.length;o++)if(this._axes[o].scaleBreaks&&this._axes[o].scaleBreaks._appliedBreaks.length){O?(this._breaksCanvas=Qt(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=Qt(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||G.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},P.prototype.renderElements=function(){if(this.height){var e=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")G.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(t=0;t<e.length;t++)e[t].setLayout(),e[t].render();var o=[];if(this.animatedRender){var i=Qt(this.width,this.height);i.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}Ie(this);var e=this.ctx.miterLimit,n;for(this.ctx.miterLimit=3,O&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var h=this.plotInfo.plotTypes[t],d=0;d<h.plotUnits.length;d++){var f=h.plotUnits[d],v=null;f.targetCanvas&&Di(f.targetCanvas),f.targetCanvas=null,this.animatedRender&&(f.targetCanvas=Qt(this.width,this.height),f.targetCanvasCtx=f.targetCanvas.getContext("2d"),n=f.targetCanvasCtx.miterLimit,f.targetCanvasCtx.miterLimit=3),f.type==="line"?v=this.renderLine(f):f.type==="stepLine"?v=this.renderStepLine(f):f.type==="spline"?v=this.renderSpline(f):f.type==="column"?v=this.renderColumn(f):f.type==="bar"?v=this.renderBar(f):f.type==="area"?v=this.renderArea(f):f.type==="stepArea"?v=this.renderStepArea(f):f.type==="splineArea"?v=this.renderSplineArea(f):f.type==="stackedColumn"?v=this.renderStackedColumn(f):f.type==="stackedColumn100"?v=this.renderStackedColumn100(f):f.type==="stackedBar"?v=this.renderStackedBar(f):f.type==="stackedBar100"?v=this.renderStackedBar100(f):f.type==="stackedArea"?v=this.renderStackedArea(f):f.type==="stackedArea100"?v=this.renderStackedArea100(f):f.type==="bubble"?v=v=this.renderBubble(f):f.type==="scatter"?v=this.renderScatter(f):f.type==="pie"?this.renderPie(f):f.type==="doughnut"?this.renderPie(f):f.type==="funnel"?v=this.renderFunnel(f):f.type==="pyramid"?v=this.renderFunnel(f):f.type==="candlestick"?v=this.renderCandlestick(f):f.type==="ohlc"?v=this.renderCandlestick(f):f.type==="rangeColumn"?v=this.renderRangeColumn(f):f.type==="error"?v=this.renderError(f):f.type==="rangeBar"?v=this.renderRangeBar(f):f.type==="rangeArea"?v=this.renderRangeArea(f):f.type==="rangeSplineArea"?v=this.renderRangeSplineArea(f):f.type==="waterfall"?v=this.renderWaterfall(f):f.type==="boxAndWhisker"&&(v=this.renderBoxAndWhisker(f));for(var m=0;m<f.dataSeriesIndexes.length;m++)this._dataInRenderedOrder.push(this.data[f.dataSeriesIndexes[m]]);this.animatedRender&&(f.targetCanvasCtx.miterLimit=n,v&&o.push(v))}this.ctx.miterLimit=e,this.animatedRender&&this._breaksCanvasCtx&&o.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=Qt(this.width,this.height).getContext("2d"),y(n),o.push(this.renderIndexLabels(n)));var c=this;if(0<o.length)c.disableToolTip=!0,c._animator.animate(200,c.animationDuration,function(g){c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(i,0,0,Math.floor(c.width*De),Math.floor(c.height*De),0,0,c.width,c.height);for(var x=0;x<o.length;x++)v=o[x],1>g&&typeof v.startTimePercent<"u"?g>=v.startTimePercent&&v.animationCallback(v.easingFunction(g-v.startTimePercent,0,1,1-v.startTimePercent),v):v.animationCallback(v.easingFunction(g,0,1,1),v);c.dispatchEvent("dataAnimationIterationEnd",{chart:c})},function(){o=[];for(var g=0;g<c.plotInfo.plotTypes.length;g++)for(var x=c.plotInfo.plotTypes[g],a=0;a<x.plotUnits.length;a++){var M=x.plotUnits[a];M.targetCanvas&&Di(M.targetCanvas),M.targetCanvas=null}i=null,c.disableToolTip=!1,c.dispatchEvent("dataAnimationEnd",{chart:c})});else{if(c._breaksCanvas)if(O)c.plotArea.ctx.drawImage(c._breaksCanvas,0,0,this.width,this.height);else for(m=0;m<c._axes.length;m++)c._axes[m].createMask();0<c._indexLabels.length&&c.renderIndexLabels(),c.dispatchEvent("dataAnimationIterationEnd",{chart:c}),c.dispatchEvent("dataAnimationEnd",{chart:c})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||je(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,Ki&&(c=this,setTimeout(function(){var g=document.getElementById("ghostCanvasCopy");g&&(we(g,c.width,c.height),g.getContext("2d").drawImage(c._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),m=0;m<this._axes.length;m++)this._axes[m].maskCanvas&&(delete this._axes[m].maskCanvas,delete this._axes[m].maskCtx)}},P.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Di(this._preRenderCanvas)},P.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},P.prototype.categoriseDataSeries=function(){for(var t="",o=0;o<this.data.length;o++)if(t=this.data[o],t.dataPoints&&t.dataPoints.length!==0&&t.visible&&0<=P._supportedChartTypes.indexOf(t.type)){for(var i=null,e=!1,n=null,h=!1,d=0;d<this.plotInfo.plotTypes.length;d++)if(this.plotInfo.plotTypes[d].type===t.type){e=!0,i=this.plotInfo.plotTypes[d];break}for(e||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i)),d=0;d<i.plotUnits.length;d++)if(i.plotUnits[d].axisYType===t.axisYType&&i.plotUnits[d].axisXType===t.axisXType&&i.plotUnits[d].axisYIndex===t.axisYIndex&&i.plotUnits[d].axisXIndex===t.axisXIndex){h=!0,n=i.plotUnits[d];break}h||(n={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:t.axisYType==="primary"?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:t.axisXType==="primary"?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},i.plotUnits.push(n)),i.totalDataSeries++,n.dataSeriesIndexes.push(o),t.plotUnit=n}for(o=0;o<this.plotInfo.plotTypes.length;o++)for(i=this.plotInfo.plotTypes[o],d=t=0;d<i.plotUnits.length;d++)i.plotUnits[d].previousDataSeriesCount=t,t+=i.plotUnits[d].dataSeriesIndexes.length},P.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var o=this.data[t];if(o.dataPoints)for(var i=o.dataPoints.length,e=0;e<i;e++)o.dataPointIds[e]=++this._eventManager.lastObjectId}},P.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var o=this.plotInfo.plotTypes[t],i=0;i<o.plotUnits.length;i++){var e=o.plotUnits[i];e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"?this._processMultiseriesPlotUnit(e):e.type==="stackedColumn"||e.type==="stackedBar"||e.type==="stackedArea"?this._processStackedPlotUnit(e):e.type==="stackedColumn100"||e.type==="stackedBar100"||e.type==="stackedArea100"?this._processStacked100PlotUnit(e):e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="error"||e.type==="boxAndWhisker"?this._processMultiYPlotUnit(e):e.type==="waterfall"&&this._processSpecificPlotUnit(e)}this.calculateAutoBreaks()},P.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,i=t.axisX.dataInfo,e,n,h=!1,d=0;d<t.dataSeriesIndexes.length;d++){var f=this.data[t.dataSeriesIndexes[d]],v=0,m=!1,c=!1,g;if(f.axisPlacement==="normal"||f.axisPlacement==="xySwapped")var x=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,a=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((f.dataPoints[v].x&&f.dataPoints[v].x.getTime||f.xValueType==="dateTime")&&(h=!0),v=0;v<f.dataPoints.length;v++){if(typeof f.dataPoints[v].x>"u"&&(f.dataPoints[v].x=v+(t.axisX.logarithmic?1:0)),f.dataPoints[v].x.getTime?(h=!0,e=f.dataPoints[v].x.getTime()):e=f.dataPoints[v].x,n=f.dataPoints[v].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),n<o.min&&typeof n=="number"&&(o.min=n),n>o.max&&typeof n=="number"&&(o.max=n),0<v){if(t.axisX.logarithmic){var M=e/f.dataPoints[v-1].x;1>M&&(M=1/M),i.minDiff>M&&M!==1&&(i.minDiff=M)}else M=e-f.dataPoints[v-1].x,0>M&&(M*=-1),i.minDiff>M&&M!==0&&(i.minDiff=M);n!==null&&f.dataPoints[v-1].y!==null&&(t.axisY.logarithmic?(M=n/f.dataPoints[v-1].y,1>M&&(M=1/M),o.minDiff>M&&M!==1&&(o.minDiff=M)):(M=n-f.dataPoints[v-1].y,0>M&&(M*=-1),o.minDiff>M&&M!==0&&(o.minDiff=M)))}if(e<x&&!m)n!==null&&(g=e);else{if(!m&&(m=!0,0<v)){v-=2;continue}if(e>a&&!c)c=!0;else if(e>a&&c)continue;f.dataPoints[v].label&&(t.axisX.labels[e]=f.dataPoints[v].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),n===null?i.viewPortMin===e&&g<e&&(i.viewPortMin=g):(n<o.viewPortMin&&typeof n=="number"&&(o.viewPortMin=n),n>o.viewPortMax&&typeof n=="number"&&(o.viewPortMax=n))}}f.axisX.valueType=f.xValueType=h?"dateTime":"number"}},P.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var o=t.axisY.dataInfo,i=t.axisX.dataInfo,e,n,h=!1,d=[],f=[],v=1/0,m=-1/0,c={},g=0;g<t.dataSeriesIndexes.length;g++){var x=this.data[t.dataSeriesIndexes[g]],a=0,M=!1,k=!1,S;if(x.axisPlacement==="normal"||x.axisPlacement==="xySwapped")var b=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,A=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((x.dataPoints[a].x&&x.dataPoints[a].x.getTime||x.xValueType==="dateTime")&&(h=!0),a=0;a<x.dataPoints.length;a++){if(typeof x.dataPoints[a].x>"u"&&(x.dataPoints[a].x=a+(t.axisX.logarithmic?1:0)),x.dataPoints[a].x.getTime?(h=!0,e=x.dataPoints[a].x.getTime()):e=x.dataPoints[a].x,n=T(x.dataPoints[a].y)?0:x.dataPoints[a].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),0<a){if(t.axisX.logarithmic){var w=e/x.dataPoints[a-1].x;1>w&&(w=1/w),i.minDiff>w&&w!==1&&(i.minDiff=w)}else w=e-x.dataPoints[a-1].x,0>w&&(w*=-1),i.minDiff>w&&w!==0&&(i.minDiff=w);n!==null&&x.dataPoints[a-1].y!==null&&(t.axisY.logarithmic?0<n&&(w=n/x.dataPoints[a-1].y,1>w&&(w=1/w),o.minDiff>w&&w!==1&&(o.minDiff=w)):(w=n-x.dataPoints[a-1].y,0>w&&(w*=-1),o.minDiff>w&&w!==0&&(o.minDiff=w)))}if(e<b&&!M)x.dataPoints[a].y!==null&&(S=e);else{if(!M&&(M=!0,0<a)){a-=2;continue}if(e>A&&!k)k=!0;else if(e>A&&k)continue;x.dataPoints[a].label&&(t.axisX.labels[e]=x.dataPoints[a].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),x.dataPoints[a].y===null?i.viewPortMin===e&&S<e&&(i.viewPortMin=S):(c[e]=(c[e]||0)+x.dataPoints[a].y,x.dataPointEOs[a].cumulativeY=c[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(n),0<=n?d[e]?d[e]+=n:(d[e]=n,v=Math.min(n,v)):f[e]?f[e]+=n:(f[e]=n,m=Math.max(n,m)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(o.dataPointYPositiveSums?(o.dataPointYPositiveSums.push.apply(o.dataPointYPositiveSums,d),o.dataPointYNegativeSums.push.apply(o.dataPointYPositiveSums,f)):(o.dataPointYPositiveSums=d,o.dataPointYNegativeSums=f)),x.axisX.valueType=x.xValueType=h?"dateTime":"number"}for(a in d)d.hasOwnProperty(a)&&!isNaN(a)&&(t=d[a],t<o.min&&(o.min=Math.min(t,v)),t>o.max&&(o.max=t),a<i.viewPortMin||a>i.viewPortMax||(t<o.viewPortMin&&(o.viewPortMin=Math.min(t,v)),t>o.viewPortMax&&(o.viewPortMax=t)));for(a in f)f.hasOwnProperty(a)&&!isNaN(a)&&(t=f[a],t<o.min&&(o.min=t),t>o.max&&(o.max=Math.max(t,m)),a<i.viewPortMin||a>i.viewPortMax||(t<o.viewPortMin&&(o.viewPortMin=t),t>o.viewPortMax&&(o.viewPortMax=Math.max(t,m))))}},P.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var o=t.axisY.dataInfo,i=t.axisX.dataInfo,e,n,h=!1,d=!1,f=!1,v={},m=[],c=0;c<t.dataSeriesIndexes.length;c++){var g=this.data[t.dataSeriesIndexes[c]],x=0,a=!1,M=!1,k;if(g.axisPlacement==="normal"||g.axisPlacement==="xySwapped")var S=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,b=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((g.dataPoints[x].x&&g.dataPoints[x].x.getTime||g.xValueType==="dateTime")&&(h=!0),x=0;x<g.dataPoints.length;x++){if(typeof g.dataPoints[x].x>"u"&&(g.dataPoints[x].x=x+(t.axisX.logarithmic?1:0)),g.dataPoints[x].x.getTime?(h=!0,e=g.dataPoints[x].x.getTime()):e=g.dataPoints[x].x,n=T(g.dataPoints[x].y)?null:g.dataPoints[x].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),0<x){if(t.axisX.logarithmic){var A=e/g.dataPoints[x-1].x;1>A&&(A=1/A),i.minDiff>A&&A!==1&&(i.minDiff=A)}else A=e-g.dataPoints[x-1].x,0>A&&(A*=-1),i.minDiff>A&&A!==0&&(i.minDiff=A);T(n)||g.dataPoints[x-1].y===null||(t.axisY.logarithmic?0<n&&(A=n/g.dataPoints[x-1].y,1>A&&(A=1/A),o.minDiff>A&&A!==1&&(o.minDiff=A)):(A=n-g.dataPoints[x-1].y,0>A&&(A*=-1),o.minDiff>A&&A!==0&&(o.minDiff=A)))}if(e<S&&!a)n!==null&&(k=e);else{if(!a&&(a=!0,0<x)){x-=2;continue}if(e>b&&!M)M=!0;else if(e>b&&M)continue;g.dataPoints[x].label&&(t.axisX.labels[e]=g.dataPoints[x].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),n===null?i.viewPortMin===e&&k<e&&(i.viewPortMin=k):(v[e]=(v[e]||0)+g.dataPoints[x].y,g.dataPointEOs[x].cumulativeY=v[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(n),0<=n?d=!0:0>n&&(f=!0),m[e]=m[e]?m[e]+Math.abs(n):Math.abs(n))}}g.axisX.valueType=g.xValueType=h?"dateTime":"number"}t.axisY.logarithmic?(o.max=T(o.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(o.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),o.min=T(o.viewPortMin)?1:Math.min(o.viewPortMin,1)):d&&!f?(o.max=T(o.viewPortMax)?99:Math.max(o.viewPortMax,99),o.min=T(o.viewPortMin)?1:Math.min(o.viewPortMin,1)):d&&f?(o.max=T(o.viewPortMax)?99:Math.max(o.viewPortMax,99),o.min=T(o.viewPortMin)?-99:Math.min(o.viewPortMin,-99)):!d&&f&&(o.max=T(o.viewPortMax)?-1:Math.max(o.viewPortMax,-1),o.min=T(o.viewPortMin)?-99:Math.min(o.viewPortMin,-99)),o.viewPortMin=o.min,o.viewPortMax=o.max,t.dataPointYSums=m}},P.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,i=t.axisX.dataInfo,e,n,h,d,f=!1,v=0;v<t.dataSeriesIndexes.length;v++){var m=this.data[t.dataSeriesIndexes[v]],c=0,g=!1,x=!1,a,M,k;if(m.axisPlacement==="normal"||m.axisPlacement==="xySwapped")var S=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,b=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((m.dataPoints[c].x&&m.dataPoints[c].x.getTime||m.xValueType==="dateTime")&&(f=!0),c=0;c<m.dataPoints.length;c++){if(typeof m.dataPoints[c].x>"u"&&(m.dataPoints[c].x=c+(t.axisX.logarithmic?1:0)),m.dataPoints[c].x.getTime?(f=!0,e=m.dataPoints[c].x.getTime()):e=m.dataPoints[c].x,(n=m.dataPoints[c].y)&&n.length){h=Math.min.apply(null,n),d=Math.max.apply(null,n),M=!0;for(var A=0;A<n.length;A++)n.k===null&&(M=!1);M&&(g||(k=a),a=e)}if(e<i.min&&(i.min=e),e>i.max&&(i.max=e),h<o.min&&(o.min=h),d>o.max&&(o.max=d),0<c&&(t.axisX.logarithmic?(M=e/m.dataPoints[c-1].x,1>M&&(M=1/M),i.minDiff>M&&M!==1&&(i.minDiff=M)):(M=e-m.dataPoints[c-1].x,0>M&&(M*=-1),i.minDiff>M&&M!==0&&(i.minDiff=M)),n&&n[0]!==null&&m.dataPoints[c-1].y&&m.dataPoints[c-1].y[0]!==null&&(t.axisY.logarithmic?(M=n[0]/m.dataPoints[c-1].y[0],1>M&&(M=1/M),o.minDiff>M&&M!==1&&(o.minDiff=M)):(M=n[0]-m.dataPoints[c-1].y[0],0>M&&(M*=-1),o.minDiff>M&&M!==0&&(o.minDiff=M)))),!(e<S)||g){if(!g&&(g=!0,0<c)){c-=2,a=k;continue}if(e>b&&!x)x=!0;else if(e>b&&x)continue;if(m.dataPoints[c].label&&(t.axisX.labels[e]=m.dataPoints[c].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),i.viewPortMin===e&&n){for(A=0;A<n.length;A++)if(n[A]===null&&a<e){i.viewPortMin=a;break}}n===null?i.viewPortMin===e&&a<e&&(i.viewPortMin=a):(h<o.viewPortMin&&(o.viewPortMin=h),d>o.viewPortMax&&(o.viewPortMax=d))}}m.axisX.valueType=m.xValueType=f?"dateTime":"number"}},P.prototype._processSpecificPlotUnit=function(t){if(t.type==="waterfall"&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,i=t.axisX.dataInfo,e,n,h=!1,d=0;d<t.dataSeriesIndexes.length;d++){var f=this.data[t.dataSeriesIndexes[d]],v=0,m=!1,c=!1,g=e=0;if(f.axisPlacement==="normal"||f.axisPlacement==="xySwapped")var x=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,a=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((f.dataPoints[v].x&&f.dataPoints[v].x.getTime||f.xValueType==="dateTime")&&(h=!0),v=0;v<f.dataPoints.length;v++)typeof f.dataPoints[v].isCumulativeSum<"u"&&f.dataPoints[v].isCumulativeSum===!0?(f.dataPointEOs[v].cumulativeSumYStartValue=0,f.dataPointEOs[v].cumulativeSum=v===0?0:f.dataPointEOs[v-1].cumulativeSum,f.dataPoints[v].y=v===0?0:f.dataPointEOs[v-1].cumulativeSum):typeof f.dataPoints[v].isIntermediateSum<"u"&&f.dataPoints[v].isIntermediateSum===!0?(f.dataPointEOs[v].cumulativeSumYStartValue=g,f.dataPointEOs[v].cumulativeSum=v===0?0:f.dataPointEOs[v-1].cumulativeSum,f.dataPoints[v].y=v===0?0:e,g=v===0?0:f.dataPointEOs[v-1].cumulativeSum,e=0):(n=typeof f.dataPoints[v].y!="number"?0:f.dataPoints[v].y,f.dataPointEOs[v].cumulativeSumYStartValue=v===0?0:f.dataPointEOs[v-1].cumulativeSum,f.dataPointEOs[v].cumulativeSum=v===0?n:f.dataPointEOs[v-1].cumulativeSum+n,e+=n);for(v=0;v<f.dataPoints.length;v++)if(typeof f.dataPoints[v].x>"u"&&(f.dataPoints[v].x=v+(t.axisX.logarithmic?1:0)),f.dataPoints[v].x.getTime?(h=!0,e=f.dataPoints[v].x.getTime()):e=f.dataPoints[v].x,n=f.dataPoints[v].y,e<i.min&&(i.min=e),e>i.max&&(i.max=e),f.dataPointEOs[v].cumulativeSum<o.min&&(o.min=f.dataPointEOs[v].cumulativeSum),f.dataPointEOs[v].cumulativeSum>o.max&&(o.max=f.dataPointEOs[v].cumulativeSum),0<v&&(t.axisX.logarithmic?(g=e/f.dataPoints[v-1].x,1>g&&(g=1/g),i.minDiff>g&&g!==1&&(i.minDiff=g)):(g=e-f.dataPoints[v-1].x,0>g&&(g*=-1),i.minDiff>g&&g!==0&&(i.minDiff=g)),n!==null&&f.dataPoints[v-1].y!==null&&(t.axisY.logarithmic?(n=f.dataPointEOs[v].cumulativeSum/f.dataPointEOs[v-1].cumulativeSum,1>n&&(n=1/n),o.minDiff>n&&n!==1&&(o.minDiff=n)):(n=f.dataPointEOs[v].cumulativeSum-f.dataPointEOs[v-1].cumulativeSum,0>n&&(n*=-1),o.minDiff>n&&n!==0&&(o.minDiff=n)))),!(e<x)||m){if(!m&&(m=!0,0<v)){v-=2;continue}if(e>a&&!c)c=!0;else if(e>a&&c)continue;f.dataPoints[v].label&&(t.axisX.labels[e]=f.dataPoints[v].label),e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=e),0<v&&(f.dataPointEOs[v-1].cumulativeSum<o.viewPortMin&&(o.viewPortMin=f.dataPointEOs[v-1].cumulativeSum),f.dataPointEOs[v-1].cumulativeSum>o.viewPortMax&&(o.viewPortMax=f.dataPointEOs[v-1].cumulativeSum)),f.dataPointEOs[v].cumulativeSum<o.viewPortMin&&(o.viewPortMin=f.dataPointEOs[v].cumulativeSum),f.dataPointEOs[v].cumulativeSum>o.viewPortMax&&(o.viewPortMax=f.dataPointEOs[v].cumulativeSum)}f.axisX.valueType=f.xValueType=h?"dateTime":"number"}},P.prototype.calculateAutoBreaks=function(){function t(M,k,S,b){return b?(S=Math.pow(Math.min(S*M/k,k/M),.2),1>=S&&(S=Math.pow(1>M?1/M:Math.min(k/M,M),.25)),{startValue:M*S,endValue:k/S}):(S=.2*Math.min(S-k+M,k-M),0>=S&&(S=.25*Math.min(k-M,Math.abs(M))),{startValue:M+S,endValue:k-S})}function o(M){if(M.dataSeriesIndexes&&!(1>M.dataSeriesIndexes.length)){var k=M.axisX.scaleBreaks&&M.axisX.scaleBreaks.autoCalculate&&1<=M.axisX.scaleBreaks.maxNumberOfAutoBreaks,S=M.axisY.scaleBreaks&&M.axisY.scaleBreaks.autoCalculate&&1<=M.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(k||S)for(var $=M.axisY.dataInfo,B=M.axisX.dataInfo,b,A=B.min,w=B.max,L=$.min,R=$.max,B=B._dataRanges,$=$._dataRanges,J,X=0,U=0;U<M.dataSeriesIndexes.length;U++){var N=n.data[M.dataSeriesIndexes[U]];if(!(4>N.dataPoints.length)){for(X=0;X<N.dataPoints.length;X++)if(k&&(J=(w+1-A)*Math.max(parseFloat(M.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,b=N.dataPoints[X].x.getTime?N.dataPoints[X].x.getTime():N.dataPoints[X].x,J=Math.floor((b-A)/J),b<B[J].min&&(B[J].min=b),b>B[J].max&&(B[J].max=b)),S){var W=(R+1-L)*Math.max(parseFloat(M.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((b=M.type==="waterfall"?N.dataPointEOs[X].cumulativeSum:N.dataPoints[X].y)&&b.length)for(var V=0;V<b.length;V++)J=Math.floor((b[V]-L)/W),b[V]<$[J].min&&($[J].min=b[V]),b[V]>$[J].max&&($[J].max=b[V]);else T(b)||(J=Math.floor((b-L)/W),b<$[J].min&&($[J].min=b),b>$[J].max&&($[J].max=b))}}}}}function i(M){if(M.dataSeriesIndexes&&!(1>M.dataSeriesIndexes.length)&&M.axisX.scaleBreaks&&M.axisX.scaleBreaks.autoCalculate&&1<=M.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var k=M.axisX.dataInfo,S=k.min,b=k.max,A=k._dataRanges,w,L=0,R=0;R<M.dataSeriesIndexes.length;R++){var B=n.data[M.dataSeriesIndexes[R]];if(!(4>B.dataPoints.length))for(L=0;L<B.dataPoints.length;L++)w=(b+1-S)*Math.max(parseFloat(M.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,k=B.dataPoints[L].x.getTime?B.dataPoints[L].x.getTime():B.dataPoints[L].x,w=Math.floor((k-S)/w),k<A[w].min&&(A[w].min=k),k>A[w].max&&(A[w].max=k)}}for(var e,n=this,h=!1,d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks.autoCalculate&&1<=this._axes[d].scaleBreaks.maxNumberOfAutoBreaks){h=!0,this._axes[d].dataInfo._dataRanges=[];for(var f=0;f<100/Math.max(parseFloat(this._axes[d].scaleBreaks.collapsibleThreshold)||10,10);f++)this._axes[d].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(h){for(d=0;d<this.plotInfo.plotTypes.length;d++)for(h=this.plotInfo.plotTypes[d],f=0;f<h.plotUnits.length;f++)e=h.plotUnits[f],e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"||e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="waterfall"||e.type==="error"||e.type==="boxAndWhisker"?o(e):0<=e.type.indexOf("stacked")&&i(e);for(d=0;d<this._axes.length;d++)if(this._axes[d].dataInfo._dataRanges){var v=this._axes[d].dataInfo.min;e=(this._axes[d].dataInfo.max+1-v)*Math.max(parseFloat(this._axes[d].scaleBreaks.collapsibleThreshold)||10,10)/100;var m=this._axes[d].dataInfo._dataRanges,c,g,h=[];if(this._axes[d].dataInfo.dataPointYPositiveSums){var x=this._axes[d].dataInfo.dataPointYPositiveSums;c=m;for(f in x)if(x.hasOwnProperty(f)&&!isNaN(f)&&(g=x[f],!T(g))){var a=Math.floor((g-v)/e);g<c[a].min&&(c[a].min=g),g>c[a].max&&(c[a].max=g)}delete this._axes[d].dataInfo.dataPointYPositiveSums}if(this._axes[d].dataInfo.dataPointYNegativeSums){x=this._axes[d].dataInfo.dataPointYNegativeSums,c=m;for(f in x)x.hasOwnProperty(f)&&!isNaN(f)&&(g=-1*x[f],T(g)||(a=Math.floor((g-v)/e),g<c[a].min&&(c[a].min=g),g>c[a].max&&(c[a].max=g)));delete this._axes[d].dataInfo.dataPointYNegativeSums}for(f=0;f<m.length-1;f++)if(c=m[f].max,isFinite(c))for(;f<m.length-1;)if(v=m[f+1].min,isFinite(v)){g=v-c,g>e&&h.push({diff:g,start:c,end:v});break}else f++;if(this._axes[d].scaleBreaks.customBreaks)for(f=0;f<this._axes[d].scaleBreaks.customBreaks.length;f++)for(e=0;e<h.length;e++)(this._axes[d].scaleBreaks.customBreaks[f].startValue<=h[e].start&&h[e].start<=this._axes[d].scaleBreaks.customBreaks[f].endValue||this._axes[d].scaleBreaks.customBreaks[f].startValue<=h[e].start&&h[e].start<=this._axes[d].scaleBreaks.customBreaks[f].endValue||h[e].start<=this._axes[d].scaleBreaks.customBreaks[f].startValue&&this._axes[d].scaleBreaks.customBreaks[f].startValue<=h[e].end||h[e].start<=this._axes[d].scaleBreaks.customBreaks[f].endValue&&this._axes[d].scaleBreaks.customBreaks[f].endValue<=h[e].end)&&(h.splice(e,1),e--);for(h.sort(function(k,S){return S.diff-k.diff}),f=0;f<Math.min(h.length,this._axes[d].scaleBreaks.maxNumberOfAutoBreaks);f++)e=t(h[f].start,h[f].end,this._axes[d].logarithmic?this._axes[d].dataInfo.max/this._axes[d].dataInfo.min:this._axes[d].dataInfo.max-this._axes[d].dataInfo.min,this._axes[d].logarithmic),this._axes[d].scaleBreaks.autoBreaks.push(new qt(this,"autoBreaks",e,f,++this._eventManager.lastObjectId,this._axes[d].scaleBreaks)),this._axes[d].scaleBreaks._appliedBreaks.push(this._axes[d].scaleBreaks.autoBreaks[this._axes[d].scaleBreaks.autoBreaks.length-1]);this._axes[d].scaleBreaks._appliedBreaks.sort(function(k,S){return k.startValue-S.startValue})}}},P.prototype.renderCrosshairs=function(t){for(var o=0;o<this.axisX.length;o++)this.axisX[o]!=t&&this.axisX[o].crosshair&&this.axisX[o].crosshair.enabled&&!this.axisX[o].crosshair._hidden&&this.axisX[o].showCrosshair(this.axisX[o].crosshair._updatedValue);for(o=0;o<this.axisX2.length;o++)this.axisX2[o]!=t&&this.axisX2[o].crosshair&&this.axisX2[o].crosshair.enabled&&!this.axisX2[o].crosshair._hidden&&this.axisX2[o].showCrosshair(this.axisX2[o].crosshair._updatedValue);for(o=0;o<this.axisY.length;o++)this.axisY[o]!=t&&this.axisY[o].crosshair&&this.axisY[o].crosshair.enabled&&!this.axisY[o].crosshair._hidden&&this.axisY[o].showCrosshair(this.axisY[o].crosshair._updatedValue);for(o=0;o<this.axisY2.length;o++)this.axisY2[o]!=t&&this.axisY2[o].crosshair&&this.axisY2[o].crosshair.enabled&&!this.axisY2[o].crosshair._hidden&&this.axisY2[o].showCrosshair(this.axisY2[o].crosshair._updatedValue)},P.prototype.getDataPointAtXY=function(t,o,i){i=i||!1;for(var e=[],n=this._dataInRenderedOrder.length-1;0<=n;n--){var h=null;(h=this._dataInRenderedOrder[n].getDataPointAtXY(t,o,i))&&e.push(h)}for(t=null,o=!1,i=0;i<e.length;i++)if((e[i].dataSeries.type==="line"||e[i].dataSeries.type==="stepLine"||e[i].dataSeries.type==="area"||e[i].dataSeries.type==="stepArea")&&(n=yt("markerSize",e[i].dataPoint,e[i].dataSeries)||8,e[i].distance<=n/2)){o=!0;break}for(i=0;i<e.length;i++)o&&e[i].dataSeries.type!=="line"&&e[i].dataSeries.type!=="stepLine"&&e[i].dataSeries.type!=="area"&&e[i].dataSeries.type!=="stepArea"||(t?e[i].distance<=t.distance&&(t=e[i]):t=e[i]);return t},P.prototype.getObjectAtXY=function(t,o,i){var e=null;if(i=this.getDataPointAtXY(t,o,i||!1))e=i.dataSeries.dataPointIds[i.dataPointIndex];else if(O)e=Jt(t,o,this._eventManager.ghostCtx);else for(i=0;i<this.legend.items.length;i++){var n=this.legend.items[i];t>=n.x1&&t<=n.x2&&o>=n.y1&&o<=n.y2&&(e=n.id)}return e},P.prototype.getAutoFontSize=Vh,P.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},P.prototype.clearCanvas=va,P.prototype.attachEvent=function(t){this._events.push(t)},P.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var o=[],i=t.changedTouches,e=i?i[0]:t,n=null;switch(t.type){case"touchstart":case"MSPointerDown":o=["mousemove","mousedown"],this._lastTouchData=vs(e),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":o=["mousemove"];break;case"touchend":case"MSPointerUp":var h=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,o=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>h?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){n=vs(e),n.time=new Date;try{var d=n.y-this._lastTouchData.y,h=n.time-this._lastTouchData.time;(1<Math.abs(d)&&this._lastTouchData.scroll||5<Math.abs(d)&&250>h)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(i=0;i<o.length;i++)n=o[i],d=document.createEvent("MouseEvent"),d.initMouseEvent(n,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(d),(!T(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<h||n==="click")&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault())}}},P.prototype._dispatchRangeEvent=function(t,o){var i={chart:this};i.type=t,i.trigger=o;var e=[];this.axisX&&0<this.axisX.length&&e.push("axisX"),this.axisX2&&0<this.axisX2.length&&e.push("axisX2"),this.axisY&&0<this.axisY.length&&e.push("axisY"),this.axisY2&&0<this.axisY2.length&&e.push("axisY2");for(var n=0;n<e.length;n++)if(T(i[e[n]])&&(i[e[n]]=[]),e[n]==="axisY")for(var h=0;h<this.axisY.length;h++)i[e[n]].push({viewportMinimum:this[e[n]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][h].sessionVariables.newViewportMaximum});else if(e[n]==="axisY2")for(h=0;h<this.axisY2.length;h++)i[e[n]].push({viewportMinimum:this[e[n]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][h].sessionVariables.newViewportMaximum});else if(e[n]==="axisX")for(h=0;h<this.axisX.length;h++)i[e[n]].push({viewportMinimum:this[e[n]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][h].sessionVariables.newViewportMaximum});else if(e[n]==="axisX2")for(h=0;h<this.axisX2.length;h++)i[e[n]].push({viewportMinimum:this[e[n]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[n]][h].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},P.prototype._mouseEventHandler=function(t){function o(){P.capturedEventParam&&(n=P.capturedEventParam,d=n.bounds,e==="mouseup"&&(P.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(e)&&(e!=="mouseup"||n.chart.overlaidCanvas.releaseCapture?t.target!==n.chart.overlaidCanvas&&O||n[e].call(n.context,i.x,i.y):t.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var i=vs(t),e=t.type,n,h;if(t.which?h=t.which==3:t.button&&(h=t.button==2),this._ignoreNextEvent)o(),this._ignoreNextEvent=!1;else if(o(),this.interactivityEnabled){t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault();var d;if(Ki&&window.console&&(window.console.log(e+" --> x: "+i.x+"; y:"+i.y),h&&window.console.log(t.which),e==="mouseup"&&window.console.log("mouseup")),!h){if(!P.capturedEventParam&&this._events){for(h=0;h<this._events.length;h++)if(this._events[h].hasOwnProperty(e))if(n=this._events[h],d=n.bounds,i.x>=d.x1&&i.x<=d.x2&&i.y>=d.y1&&i.y<=d.y2){n[e].call(n.context,i.x,i.y),e==="mousedown"&&n.capture===!0?(P.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):e==="mouseup"&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else n=null;t.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}if(h=this.plotArea,i.x<h.x1||i.x>h.x2||i.y<h.y1||i.y>h.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&(this.axisX[h].crosshair.hide(),this.axisX[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[h].options},this.axisX[h].crosshair));for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&(this.axisX2[h].crosshair.hide(),this.axisX2[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[h].options},this.axisX2[h].crosshair));for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&(this.axisY[h].crosshair.hide(),this.axisY[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[h].options},this.axisY[h].crosshair));for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&(this.axisY2[h].crosshair.hide(),this.axisY2[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[h].options},this.axisY2[h].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},P.prototype._plotAreaMouseDown=function(t,o){this.isDrag=!0,this.dragStartPoint={x:t,y:o}},P.prototype._plotAreaMouseUp=function(t,o){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var i=o-this.dragStartPoint.y,e=t-this.dragStartPoint.x,f=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),n=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var h=d,d=f,f=h;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(f=d=0;f<this._axes.length;f++)i=this._axes[f],i.logarithmic?i.viewportMinimum<i.minimum?(d=i.minimum/i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum*d,i.sessionVariables.newViewportMaximum=i.viewportMaximum*d,n=!0):i.viewportMaximum>i.maximum&&(d=i.viewportMaximum/i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum/d,i.sessionVariables.newViewportMaximum=i.viewportMaximum/d,n=!0):i.viewportMinimum<i.minimum?(d=i.minimum-i.viewportMinimum,i.sessionVariables.newViewportMinimum=i.viewportMinimum+d,i.sessionVariables.newViewportMaximum=i.viewportMaximum+d,n=!0):i.viewportMaximum>i.maximum&&(d=i.viewportMaximum-i.maximum,i.sessionVariables.newViewportMinimum=i.viewportMinimum-d,i.sessionVariables.newViewportMaximum=i.viewportMaximum-d,n=!0);else if((!f||2<Math.abs(e))&&(!d||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;i=f?this.dragStartPoint.x:this.plotArea.x1,e=d?this.dragStartPoint.y:this.plotArea.y1,f=f?t:this.plotArea.x2,d=d?o:this.plotArea.y2,2<Math.abs(i-f)&&2<Math.abs(e-d)&&this._zoomPanToSelectedRegion(i,e,f,d)&&(n=!0)}n&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),n&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(se(this._zoomButton,this._resetButton),Te(this,this._zoomButton,"pan"),Te(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].renderCrosshair(t,o);if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].renderCrosshair(t,o);if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].renderCrosshair(t,o);if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].renderCrosshair(t,o);if(this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].crosshair.renderLabel()}},P.prototype._plotAreaMouseMove=function(t,o){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var i=0,e=0,n=i=null,n=0<=this.zoomType.indexOf("x"),h=0<=this.zoomType.indexOf("y"),d=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(i=h,h=n,n=i),i=this.dragStartPoint.x-t,e=this.dragStartPoint.y-o,2<Math.abs(i)&&8>Math.abs(i)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var f=0;f<this.axisX.length;f++)this.axisX[f].crosshair&&this.axisX[f].crosshair.enabled&&(this.axisX[f].crosshair.hide(),this.axisX[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[f].options},this.axisX[f].crosshair));for(f=0;f<this.axisX2.length;f++)this.axisX2[f].crosshair&&this.axisX2[f].crosshair.enabled&&(this.axisX2[f].crosshair.hide(),this.axisX2[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[f].options},this.axisX2[f].crosshair));for(f=0;f<this.axisY.length;f++)this.axisY[f].crosshair&&this.axisY[f].crosshair.enabled&&(this.axisY[f].crosshair.hide(),this.axisY[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[f].options},this.axisY[f].crosshair));for(f=0;f<this.axisY2.length;f++)this.axisY2[f].crosshair&&this.axisY2[f].crosshair.enabled&&(this.axisY2[f].crosshair.hide(),this.axisY2[f].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[f].options},this.axisY2[f].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,o);if((!n||2<Math.abs(i)||!h||2<Math.abs(e))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)n={x1:n?this.plotArea.x1+i:this.plotArea.x1,y1:h?this.plotArea.y1+e:this.plotArea.y1,x2:n?this.plotArea.x2+i:this.plotArea.x2,y2:h?this.plotArea.y2+e:this.plotArea.y2},clearTimeout(d._panTimerId),d._panTimerId=setTimeout(function(c,g,x,a){return function(){d._zoomPanToSelectedRegion(c,g,x,a,!0)&&(d._dispatchRangeEvent("rangeChanging","pan"),d.stockChart&&d.stockChart.navigator&&d.stockChart.navigator.enabled&&(d.stockChart._rangeEventParameter.type="rangeChanging",d.stockChart.dispatchEvent("rangeChanging",d.stockChart._rangeEventParameter,d.stockChart)),d.render(),d._dispatchRangeEvent("rangeChanged","pan"),d.stockChart&&d.stockChart.navigator&&d.stockChart.navigator.enabled&&(d.stockChart._rangeEventParameter.type="rangeChanged",d.stockChart.dispatchEvent("rangeChanged",d.stockChart._rangeEventParameter,d.stockChart)),d.dragStartPoint.x=t,d.dragStartPoint.y=o)}}(n.x1,n.y1,n.x2,n.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var e=n?this.dragStartPoint.x:this.plotArea.x1,f=h?this.dragStartPoint.y:this.plotArea.y1,v=n?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,m=h?o-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(e,f,n?t:this.plotArea.x2-this.plotArea.x1,h?o:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(e,f,v,m),this.overlaidCanvasCtx.globalAlpha=i}}}else if(this.toolTip.mouseMoveHandler(t,o),this.plotInfo.axisPlacement!=="none"){if(this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].renderCrosshair(t,o);if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].renderCrosshair(t,o);if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].renderCrosshair(t,o);if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].renderCrosshair(t,o);if(this.axisX&&0<this.axisX.length)for(n=0;n<this.axisX.length;n++)this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&this.axisX[n].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(n=0;n<this.axisX2.length;n++)this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&this.axisX2[n].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(n=0;n<this.axisY.length;n++)this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&this.axisY[n].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(n=0;n<this.axisY2.length;n++)this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&this.axisY2[n].crosshair.renderLabel()}},P.prototype._zoomPanToSelectedRegion=function(t,o,i,e,n){if(t=this.validateRegion(t,o,i,e,n),o=t.axesWithValidRange,i=t.axesRanges,t.isValid)for(e=0;e<o.length;e++)n=i[e],o[e].setViewPortRange(n.val1,n.val2),this.syncCharts&&this.zoomType!="y"&&this.syncCharts(n.val1,n.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:n.val1,maximum:n.val2});return t.isValid},P.prototype.validateRegion=function(t,o,i,e,n){n=n||!1;for(var h=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),f=!1,v=[],m=[],c=[],g=0;g<this._axes.length;g++)(this._axes[g].type==="axisX"&&h||this._axes[g].type==="axisY"&&d)&&m.push(this._axes[g]);for(d=0;d<m.length;d++){var g=m[d],h=!1,M=g.convertPixelToValue({x:t,y:o}),a=g.convertPixelToValue({x:i,y:e});if(M>a)var x=a,a=M,M=x;if(g.scaleBreaks)for(x=0;!h&&x<g.scaleBreaks._appliedBreaks.length;x++)h=g.scaleBreaks._appliedBreaks[x].startValue<=M&&g.scaleBreaks._appliedBreaks[x].endValue>=a;if(isFinite(g.dataInfo.minDiff)){if(x=g.getApparentDifference(M,a,null,!0),!(h||!(this.panEnabled&&g.scaleBreaks&&g.scaleBreaks._appliedBreaks.length)&&(g.logarithmic&&x<Math.pow(g.dataInfo.minDiff,3)||!g.logarithmic&&x<3*Math.abs(g.dataInfo.minDiff))||M<g.minimum||a>g.maximum))v.push(g),c.push({val1:M,val2:a}),f=!0;else if(!n){f=!1;break}}}return{isValid:f,axesWithValidRange:v,axesRanges:c}},P.prototype.preparePlotArea=function(){var t=this.plotArea;if(!O&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var o=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var i=this.axisY[0];t.x1=o.x1<o.x2?o.x1:i.lineCoordinates.x1,t.y1=o.y1<i.lineCoordinates.y1?o.y1:i.lineCoordinates.y1,t.x2=o.x2>i.lineCoordinates.x2?o.x2:i.lineCoordinates.x2,t.y2=o.y1>i.lineCoordinates.y2?o.y1:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(i=this.axisY2[0],t.x1=o.x1<o.x2?o.x1:i.lineCoordinates.x1,t.y1=o.y1<i.lineCoordinates.y1?o.y1:i.lineCoordinates.y1,t.x2=o.x2>i.lineCoordinates.x2?o.x2:i.lineCoordinates.x2,t.y2=o.y2>i.lineCoordinates.y2?o.y2:i.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else o=this.layoutManager.getFreeSpace(),t.x1=o.x1,t.x2=o.x2,t.y1=o.y1,t.y2=o.y2,t.width=o.width,t.height=o.height;O||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Ai(t.x1,t.y1,t.x2,t.y2,2)},P.prototype.renderIndexLabels=function(t){var o=t||this.plotArea.ctx,i=this.plotArea,e=0,n=0,h=0,d=n=h=0,f=0,v=e=0,m=0;for(t=0;t<this._indexLabels.length;t++){var c=this._indexLabels[t],g=c.chartType.toLowerCase(),x,a,d=yt("indexLabelFontColor",c.dataPoint,c.dataSeries),M=yt("indexLabelFontSize",c.dataPoint,c.dataSeries),f=yt("indexLabelFontFamily",c.dataPoint,c.dataSeries),v=yt("indexLabelFontStyle",c.dataPoint,c.dataSeries),m=yt("indexLabelFontWeight",c.dataPoint,c.dataSeries),k=yt("indexLabelBackgroundColor",c.dataPoint,c.dataSeries);x=yt("indexLabelMaxWidth",c.dataPoint,c.dataSeries),a=yt("indexLabelWrap",c.dataPoint,c.dataSeries);var S=yt("indexLabelLineDashType",c.dataPoint,c.dataSeries),b=yt("indexLabelLineColor",c.dataPoint,c.dataSeries),A=T(c.dataPoint.indexLabelLineThickness)?T(c.dataSeries.options.indexLabelLineThickness)?0:c.dataSeries.options.indexLabelLineThickness:c.dataPoint.indexLabelLineThickness,e=0<A?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,w={percent:null,total:null},L=null;(0<=c.dataSeries.type.indexOf("stacked")||c.dataSeries.type==="pie"||c.dataSeries.type==="doughnut")&&(w=this.getPercentAndTotal(c.dataSeries,c.dataPoint)),(c.dataSeries.indexLabelFormatter||c.dataPoint.indexLabelFormatter)&&(L={chart:this,dataSeries:c.dataSeries,dataPoint:c.dataPoint,index:c.indexKeyword,total:w.total,percent:w.percent});var R=c.dataPoint.indexLabelFormatter?c.dataPoint.indexLabelFormatter(L):c.dataPoint.indexLabel?this.replaceKeywordsWithValue(c.dataPoint.indexLabel,c.dataPoint,c.dataSeries,null,c.indexKeyword):c.dataSeries.indexLabelFormatter?c.dataSeries.indexLabelFormatter(L):c.dataSeries.indexLabel?this.replaceKeywordsWithValue(c.dataSeries.indexLabel,c.dataPoint,c.dataSeries,null,c.indexKeyword):null;if(R!==null&&R!==""){var w=yt("indexLabelPlacement",c.dataPoint,c.dataSeries),L=yt("indexLabelOrientation",c.dataPoint,c.dataSeries),B=yt("indexLabelTextAlign",c.dataPoint,c.dataSeries),$=c.direction,h=c.dataSeries.axisX,n=c.dataSeries.axisY,J=!1,k=new zt(o,{x:0,y:0,maxWidth:x||.5*this.width,maxHeight:a?5*M:1.5*M,angle:L==="horizontal"?0:-90,text:R,padding:0,backgroundColor:k,textAlign:B,fontSize:M,fontFamily:f,fontWeight:m,fontColor:d,fontStyle:v,textBaseline:"middle"});if(k.measureText(),c.dataSeries.indexLabelMaxWidth=k.maxWidth,g==="stackedarea100"){if(c.point.x<i.x1||c.point.x>i.x2||c.point.y<i.y1-1||c.point.y>i.y2+1)continue}else if(g==="rangearea"||g==="rangesplinearea"){if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum||Math.max.apply(null,c.dataPoint.y)<n.viewportMinimum||Math.min.apply(null,c.dataPoint.y)>n.viewportMaximum)continue}else if(0<=g.indexOf("line")||0<=g.indexOf("area")||0<=g.indexOf("bubble")||0<=g.indexOf("scatter")){if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum||c.dataPoint.y<n.viewportMinimum||c.dataPoint.y>n.viewportMaximum)continue}else if(0<=g.indexOf("column")||g==="waterfall"||g==="error"&&!c.axisSwapped){if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum||c.bounds.y1>i.y2||c.bounds.y2<i.y1)continue}else if(0<=g.indexOf("bar")||g==="error"){if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum||c.bounds.x1>i.x2||c.bounds.x2<i.x1)continue}else if(g==="candlestick"||g==="ohlc"){if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum||Math.max.apply(null,c.dataPoint.y)<n.viewportMinimum||Math.min.apply(null,c.dataPoint.y)>n.viewportMaximum)continue}else if(c.dataPoint.x<h.viewportMinimum||c.dataPoint.x>h.viewportMaximum)continue;d=f=2,L==="horizontal"?(v=k.width,m=k.height):(m=k.width,v=k.height),this.plotInfo.axisPlacement==="normal"?(0<=g.indexOf("line")||0<=g.indexOf("area")?(w="auto",f=4):0<=g.indexOf("stacked")?w==="auto"&&(w="inside"):(g==="bubble"||g==="scatter")&&(w="inside"),x=c.point.x-v/2+(L==="horizontal"?0:k._lineHeight/2),w!=="inside"?(n=i.y1,h=i.y2,0<$?(a=c.point.y+k._lineHeight/2-m-f-e,a<n&&(a=w==="auto"?Math.max(c.point.y,n)+k._lineHeight/2+f:n+k._lineHeight/2+f,J=a+m>c.point.y)):(a=c.point.y+M/2+f+e,a>h-m&&(a=w==="auto"?Math.min(c.point.y,h)+k._lineHeight/2-m-f:h+k._lineHeight/2-m-f,J=a<c.point.y))):(Math.max(c.bounds.y1,i.y1),h=Math.min(c.bounds.y2,i.y2)-m+k._lineHeight/2,e=0<=g.indexOf("range")||g==="error"?0<$?Math.max(c.bounds.y1,i.y1)+M/2+f:Math.min(c.bounds.y2,i.y2)+M/2-m+f:(Math.max(c.bounds.y1,i.y1)+Math.min(c.bounds.y2,i.y2))/2-m/2+k._lineHeight/2,0<$?(a=e,(g==="bubble"||g==="scatter")&&(a=c.point.y-m/2+k._lineHeight/2,m>c.bounds.y2-c.bounds.y1&&(a-=m/2+f),0>a-k._lineHeight/2&&(a+=Math.abs(a-k._lineHeight/2)<=(c.bounds.y2-c.bounds.y1)/2+f?Math.abs(a-k._lineHeight/2):(c.bounds.y2-c.bounds.y1)/2+f))):(a=Math.min(c.point.y,e),a>h-m-f&&(g==="bubble"||g==="scatter")&&(a=Math.min(c.point.y+f,i.y2-m-f))),a=Math.min(a,h))):(0<=g.indexOf("line")||0<=g.indexOf("area")||0<=g.indexOf("scatter")?(w="auto",d=4):0<=g.indexOf("stacked")?w==="auto"&&(w="inside"):g==="bubble"&&(w="inside"),a=c.point.y+k._lineHeight/2-m/2,w!=="inside"?(h=i.x1,n=i.x2,0>$?(x=c.point.x-v+(L==="horizontal"?0:k._lineHeight/2)-d-e,x<h&&(x=w==="auto"?Math.max(c.point.x,h)+d:h+d,J=x+v>c.point.x)):(x=c.point.x+(L==="horizontal"?0:k._lineHeight/2)+d+e,x>n-v-d-e&&(x=w==="auto"?Math.min(c.point.x,n)-(L==="horizontal"?v:v/2)-d:n-v-d,J=x<c.point.x))):(h=Math.max(c.bounds.x1,i.x1),Math.min(c.bounds.x2,i.x2),e=0<=g.indexOf("range")||g==="error"?0>$?Math.max(c.bounds.x1,i.x1)+k._lineHeight/2+d:Math.min(c.bounds.x2,i.x2)-v/2-d+(L==="horizontal"?0:k._lineHeight/2):(Math.max(c.bounds.x1,i.x1)+Math.min(c.bounds.x2,i.x2))/2-v/2+(L==="horizontal"?0:k._lineHeight/2),x=0>$?e:Math.min(c.point.x,e),x=Math.max(x,h+(L==="horizontal"?0:k._lineHeight/2)))),L==="vertical"&&(a+=m-k._lineHeight/2,g==="bubble"||g==="scatter")&&(x+=k._lineHeight/2-M/2),k.x=x,k.y=a,k.render(!0),A&&w!=="inside"&&(0>g.indexOf("bar")&&(g!=="error"||!c.axisSwapped)&&c.point.x>i.x1&&c.point.x<i.x2||!J)&&(0>g.indexOf("column")&&(g!=="error"||c.axisSwapped)&&c.point.y>i.y1&&c.point.y<i.y2||!J)&&(o.lineWidth=A,o.strokeStyle=b||"gray",o.setLineDash&&o.setLineDash(ot(S,A)),o.beginPath(),o.moveTo(c.point.x,c.point.y),0<=g.indexOf("bar")||g==="error"&&c.axisSwapped?o.lineTo(x+(0<c.direction?-d:v+d)+(L==="vertical"?-M/2:0),a+(L==="vertical"?-m/2:m/2-M/2)-f):0<=g.indexOf("column")||g==="error"&&!c.axisSwapped?o.lineTo(x+v/2-(L==="horizontal"?0:M/2),a+(L==="vertical"?(a-m<c.point.y?0:-m)+f:(a-M/2<c.point.y?m:0)-M/2)):0<=g.indexOf("waterfall")?o.lineTo(x+v/2-(L==="horizontal"?0:M/2),L==="vertical"?0<$&&a<c.point.y?a:0>$&&a-m>c.point.y?a-m:c.point.y:0<$&&a+m-M/2<c.point.y?a+m-M/2:0>$&&a-M/2>c.point.y?a-M/2-2:c.point.y):o.lineTo(x+v/2-(L==="horizontal"?0:M/2),a+(L==="vertical"?a-m<c.point.y?0:-m:(a+m<c.point.y?m:0)-M/2)),o.stroke())}}for(o={source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)c=this._indexLabels[t],k=yt("indexLabelBackgroundColor",c.dataPoint,c.dataSeries),c.dataSeries.indexLabelBackgroundColor=T(k)?O?"transparent":null:k;return o},P.prototype.renderLine=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;i.save();var n=this.plotArea;i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip();for(var h=[],d,f=0;f<t.dataSeriesIndexes.length;f++){var v=t.dataSeriesIndexes[f],m=this.data[v];i.lineWidth=m.lineThickness;var c=m.dataPoints,g="solid";if(i.setLineDash){var x=ot(m.nullDataLineDashType,m.lineThickness),g=m.lineDashType,a=ot(g,m.lineThickness);i.setLineDash(a)}var M=m.id;this._eventManager.objectMap[M]={objectType:"dataSeries",dataSeriesIndex:v},M=F(M),e.strokeStyle=M,e.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var M=m._colorSet,k=M=m.lineColor=m.options.lineColor?m.options.lineColor:M[0];i.strokeStyle=M;var S=!0,b=0,A,w;if(i.beginPath(),0<c.length){for(var L=!1,b=0;b<c.length;b++)if(A=c[b].x.getTime?c[b].x.getTime():c[b].x,!(A<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!L)))if(typeof c[b].y!="number")0<b&&!(m.connectNullData||L||S)&&(i.stroke(),O&&e.stroke()),L=!0;else{A=t.axisX.convertValueToPixel(A),w=t.axisY.convertValueToPixel(c[b].y);var R=m.dataPointIds[b];if(this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:b,x1:A,y1:w},S||L?(!S&&m.connectNullData?(i.setLineDash&&(m.options.nullDataLineDashType||g===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(d.x,d.y),g=m.nullDataLineDashType,i.setLineDash(x)),i.lineTo(A,w),O&&e.lineTo(A,w)):(i.beginPath(),i.moveTo(A,w),O&&(e.beginPath(),e.moveTo(A,w))),L=S=!1):(i.lineTo(A,w),O&&e.lineTo(A,w),b%500==0&&(i.stroke(),i.beginPath(),i.moveTo(A,w),O&&(e.stroke(),e.beginPath(),e.moveTo(A,w)))),d={x:A,y:w},b<c.length-1&&(k!==(c[b].lineColor||M)||g!==(c[b].lineDashType||m.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(A,w),k=c[b].lineColor||M,i.strokeStyle=k,i.setLineDash&&(c[b].lineDashType?(g=c[b].lineDashType,i.setLineDash(ot(g,m.lineThickness))):(g=m.lineDashType,i.setLineDash(a)))),c[b].markerSize!==0&&(0<c[b].markerSize||0<m.markerSize)){var B=m.getMarkerProperties(b,A,w,i);h.push(B),R=F(R),O&&h.push({x:A,y:w,ctx:e,type:B.type,size:B.size,color:R,borderColor:R,borderThickness:B.borderThickness})}(c[b].indexLabel||m.indexLabel||c[b].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:c[b],dataSeries:m,point:{x:A,y:w},direction:0>c[b].y===t.axisY.reversed?1:-1,color:M})}i.stroke(),O&&e.stroke()}}return oe.drawMarkers(h),O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),e.beginPath()),i.restore(),i.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderStepLine=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;i.save();var n=this.plotArea;i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip();for(var h=[],d,f=0;f<t.dataSeriesIndexes.length;f++){var v=t.dataSeriesIndexes[f],m=this.data[v];i.lineWidth=m.lineThickness;var c=m.dataPoints,g="solid";if(i.setLineDash){var x=ot(m.nullDataLineDashType,m.lineThickness),g=m.lineDashType,a=ot(g,m.lineThickness);i.setLineDash(a)}var M=m.id;this._eventManager.objectMap[M]={objectType:"dataSeries",dataSeriesIndex:v},M=F(M),e.strokeStyle=M,e.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var M=m._colorSet,k=M=m.lineColor=m.options.lineColor?m.options.lineColor:M[0];i.strokeStyle=M;var S=!0,b=0,A,w;if(i.beginPath(),0<c.length){for(var L=!1,b=0;b<c.length;b++)if(A=c[b].getTime?c[b].x.getTime():c[b].x,!(A<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!L)))if(typeof c[b].y!="number")0<b&&!(m.connectNullData||L||S)&&(i.stroke(),O&&e.stroke()),L=!0;else{var R=w;A=t.axisX.convertValueToPixel(A),w=t.axisY.convertValueToPixel(c[b].y);var B=m.dataPointIds[b];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:b,x1:A,y1:w},S||L?(!S&&m.connectNullData?(i.setLineDash&&(m.options.nullDataLineDashType||g===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(d.x,d.y),g=m.nullDataLineDashType,i.setLineDash(x)),i.lineTo(A,R),i.lineTo(A,w),O&&(e.lineTo(A,R),e.lineTo(A,w))):(i.beginPath(),i.moveTo(A,w),O&&(e.beginPath(),e.moveTo(A,w))),L=S=!1):(i.lineTo(A,R),O&&e.lineTo(A,R),i.lineTo(A,w),O&&e.lineTo(A,w),b%500==0&&(i.stroke(),i.beginPath(),i.moveTo(A,w),O&&(e.stroke(),e.beginPath(),e.moveTo(A,w)))),d={x:A,y:w},b<c.length-1&&(k!==(c[b].lineColor||M)||g!==(c[b].lineDashType||m.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(A,w),k=c[b].lineColor||M,i.strokeStyle=k,i.setLineDash&&(c[b].lineDashType?(g=c[b].lineDashType,i.setLineDash(ot(g,m.lineThickness))):(g=m.lineDashType,i.setLineDash(a)))),c[b].markerSize!==0&&(0<c[b].markerSize||0<m.markerSize)&&(R=m.getMarkerProperties(b,A,w,i),h.push(R),B=F(B),O&&h.push({x:A,y:w,ctx:e,type:R.type,size:R.size,color:B,borderColor:B,borderThickness:R.borderThickness})),(c[b].indexLabel||m.indexLabel||c[b].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:c[b],dataSeries:m,point:{x:A,y:w},direction:0>c[b].y===t.axisY.reversed?1:-1,color:M})}i.stroke(),O&&e.stroke()}}return oe.drawMarkers(h),O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),e.beginPath()),i.restore(),i.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderSpline=function(t){function o(B){if(B=D(B,2),0<B.length){e.beginPath(),O&&n.beginPath(),e.moveTo(B[0].x,B[0].y),B[0].newStrokeStyle&&(e.strokeStyle=B[0].newStrokeStyle),B[0].newLineDashArray&&e.setLineDash(B[0].newLineDashArray),O&&n.moveTo(B[0].x,B[0].y);for(var $=0;$<B.length-3;$+=3)e.bezierCurveTo(B[$+1].x,B[$+1].y,B[$+2].x,B[$+2].y,B[$+3].x,B[$+3].y),O&&n.bezierCurveTo(B[$+1].x,B[$+1].y,B[$+2].x,B[$+2].y,B[$+3].x,B[$+3].y),(0<$&&$%3e3===0||B[$+3].newStrokeStyle||B[$+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(B[$+3].x,B[$+3].y),B[$+3].newStrokeStyle&&(e.strokeStyle=B[$+3].newStrokeStyle),B[$+3].newLineDashArray&&e.setLineDash(B[$+3].newLineDashArray),O&&(n.stroke(),n.beginPath(),n.moveTo(B[$+3].x,B[$+3].y)));e.stroke(),O&&n.stroke()}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;e.save();var h=this.plotArea;e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip();for(var d=[],f=0;f<t.dataSeriesIndexes.length;f++){var v=t.dataSeriesIndexes[f],m=this.data[v];e.lineWidth=m.lineThickness;var c=m.dataPoints,g="solid";if(e.setLineDash){var x=ot(m.nullDataLineDashType,m.lineThickness),g=m.lineDashType,a=ot(g,m.lineThickness);e.setLineDash(a)}var M=m.id;this._eventManager.objectMap[M]={objectType:"dataSeries",dataSeriesIndex:v},M=F(M),n.strokeStyle=M,n.lineWidth=0<m.lineThickness?Math.max(m.lineThickness,4):0;var M=m._colorSet,k=M=m.lineColor=m.options.lineColor?m.options.lineColor:M[0];e.strokeStyle=M;var S=0,b,A,w=[];if(e.beginPath(),0<c.length){for(A=!1,S=0;S<c.length;S++)if(b=c[S].getTime?c[S].x.getTime():c[S].x,!(b<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!A)))if(typeof c[S].y!="number")0<S&&!A&&(m.connectNullData?e.setLineDash&&0<w.length&&(m.options.nullDataLineDashType||!c[S-1].lineDashType)&&(w[w.length-1].newLineDashArray=x,g=m.nullDataLineDashType):(o(w),w=[])),A=!0;else{b=t.axisX.convertValueToPixel(b),A=t.axisY.convertValueToPixel(c[S].y);var L=m.dataPointIds[S];if(this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:S,x1:b,y1:A},w[w.length]={x:b,y:A},S<c.length-1&&(k!==(c[S].lineColor||M)||g!==(c[S].lineDashType||m.lineDashType))&&(k=c[S].lineColor||M,w[w.length-1].newStrokeStyle=k,e.setLineDash&&(c[S].lineDashType?(g=c[S].lineDashType,w[w.length-1].newLineDashArray=ot(g,m.lineThickness)):(g=m.lineDashType,w[w.length-1].newLineDashArray=a))),c[S].markerSize!==0&&(0<c[S].markerSize||0<m.markerSize)){var R=m.getMarkerProperties(S,b,A,e);d.push(R),L=F(L),O&&d.push({x:b,y:A,ctx:n,type:R.type,size:R.size,color:L,borderColor:L,borderThickness:R.borderThickness})}(c[S].indexLabel||m.indexLabel||c[S].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:c[S],dataSeries:m,point:{x:b,y:A},direction:0>c[S].y===t.axisY.reversed?1:-1,color:M}),A=!1}}o(w)}return oe.drawMarkers(d),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),n.beginPath()),e.restore(),e.beginPath(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,m=0,h,d,f,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0,g=t.axisX.dataInfo.minDiff;for(isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(n.width*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>c&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<m&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),g<m&&(g=m),g>c&&(g=c),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var x=t.dataSeriesIndexes[c],a=this.data[x],M=a.dataPoints;if(0<M.length){for(var k=!!(5<g&&a.bevelEnabled),m=0;m<M.length;m++)if(M[m].getTime?f=M[m].x.getTime():f=M[m].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax)&&typeof M[m].y=="number"){h=t.axisX.convertValueToPixel(f),d=t.axisY.convertValueToPixel(M[m].y),h=t.axisX.reversed?h+t.plotType.totalDataSeries*g/2-(t.previousDataSeriesCount+c)*g<<0:h-t.plotType.totalDataSeries*g/2+(t.previousDataSeriesCount+c)*g<<0;var S=t.axisX.reversed?h-g<<0:h+g<<0,b;0<=M[m].y?b=v:(b=d,d=v),d>b&&(e=d,d=b,b=e),e=M[m].color?M[m].color:a._colorSet[m%a._colorSet.length],ve(i,t.axisX.reversed?S:h,d,t.axisX.reversed?h:S,b,e,0,null,k&&(t.axisY.reversed?0>M[m].y:0<=M[m].y),(t.axisY.reversed?0<=M[m].y:0>M[m].y)&&k,!1,!1,a.fillOpacity),e=a.dataPointIds[m],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:m,x1:h,y1:d,x2:S,y2:b},e=F(e),O&&ve(this._eventManager.ghostCtx,t.axisX.reversed?S:h,d,t.axisX.reversed?h:S,b,e,0,null,!1,!1,!1,!1),(M[m].indexLabel||a.indexLabel||M[m].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:M[m],dataSeries:a,point:{x:h+(S-h)/2,y:0>M[m].y===t.axisY.reversed?d:b},direction:0>M[m].y===t.axisY.reversed?1:-1,bounds:{x1:h,y1:Math.min(d,b),x2:S,y2:Math.max(d,b)},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.yScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:v<t.axisY.bounds.y1?t.axisY.bounds.y1:v>t.axisY.bounds.y2?t.axisY.bounds.y2:v}}},P.prototype.renderStackedColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,h=[],d=[],f=[],v=[],x=0,m,c,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,M=t.axisX.dataInfo.minDiff;for(isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.9*(n.width*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),a=0;a<t.dataSeriesIndexes.length;a++){var k=t.dataSeriesIndexes[a],S=this.data[k],b=S.dataPoints;if(0<b.length){var A=!!(5<M&&S.bevelEnabled);for(i.strokeStyle="#4572A7 ",x=0;x<b.length;x++)if(e=b[x].x.getTime?b[x].x.getTime():b[x].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof b[x].y=="number"){m=t.axisX.convertValueToPixel(e),m=m-t.plotType.plotUnits.length*M/2+t.index*M<<0;var w=m+M<<0,L;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[x].y)f[e]=b[x].y+(f[e]?f[e]:0),0<f[e]&&(c=t.axisY.convertValueToPixel(f[e]),L=typeof h[e]<"u"?h[e]:g,h[e]=c);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=b[x].y)v[e]=b[x].y+(v[e]?v[e]:0),L=t.axisY.convertValueToPixel(v[e]),c=typeof d[e]<"u"?d[e]:g,d[e]=L;else if(c=t.axisY.convertValueToPixel(b[x].y),0<=b[x].y){var R=typeof h[e]<"u"?h[e]:0;c-=R,L=g-R,h[e]=R+(L-c)}else R=d[e]?d[e]:0,L=c+R,c=g+R,d[e]=R+(L-c);e=b[x].color?b[x].color:S._colorSet[x%S._colorSet.length],ve(i,m,t.axisY.reversed?L:c,w,t.axisY.reversed?c:L,e,0,null,A&&(t.axisY.reversed?0>b[x].y:0<=b[x].y),(t.axisY.reversed?0<=b[x].y:0>b[x].y)&&A,!1,!1,S.fillOpacity),e=S.dataPointIds[x],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:x,x1:m,y1:c,x2:w,y2:L},e=F(e),O&&ve(this._eventManager.ghostCtx,m,c,w,L,e,0,null,!1,!1,!1,!1),(b[x].indexLabel||S.indexLabel||b[x].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:b[x],dataSeries:S,point:{x:m+(w-m)/2,y:0<=b[x].y?c:L},direction:0>b[x].y===t.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(c,L),x2:w,y2:Math.max(c,L)},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.yScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:g<t.axisY.bounds.y1?t.axisY.bounds.y1:g>t.axisY.bounds.y2?t.axisY.bounds.y2:g}}},P.prototype.renderStackedColumn100=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,h=[],d=[],f=[],v=[],x=0,m,c,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,M=t.axisX.dataInfo.minDiff;for(isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.9*(n.width*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),a=0;a<t.dataSeriesIndexes.length;a++){var k=t.dataSeriesIndexes[a],S=this.data[k],b=S.dataPoints;if(0<b.length){for(var A=!!(5<M&&S.bevelEnabled),x=0;x<b.length;x++)if(e=b[x].x.getTime?b[x].x.getTime():b[x].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof b[x].y=="number"){m=t.axisX.convertValueToPixel(e),c=t.dataPointYSums[e]!==0?100*(b[x].y/t.dataPointYSums[e]):0,m=m-t.plotType.plotUnits.length*M/2+t.index*M<<0;var w=m+M<<0,L;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[x].y){if(f[e]=c+(typeof f[e]<"u"?f[e]:0),0>=f[e])continue;c=t.axisY.convertValueToPixel(f[e]),L=h[e]?h[e]:g,h[e]=c}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=b[x].y)v[e]=c+(typeof v[e]<"u"?v[e]:0),L=t.axisY.convertValueToPixel(v[e]),c=d[e]?d[e]:g,d[e]=L;else if(c=t.axisY.convertValueToPixel(c),0<=b[x].y){var R=typeof h[e]<"u"?h[e]:0;c-=R,L=g-R,t.dataSeriesIndexes.length-1===a&&1>=Math.abs(n.y1-c)&&(c=n.y1),h[e]=R+(L-c)}else R=typeof d[e]<"u"?d[e]:0,L=c+R,c=g+R,t.dataSeriesIndexes.length-1===a&&1>=Math.abs(n.y2-L)&&(L=n.y2),d[e]=R+(L-c);e=b[x].color?b[x].color:S._colorSet[x%S._colorSet.length],ve(i,m,t.axisY.reversed?L:c,w,t.axisY.reversed?c:L,e,0,null,A&&(t.axisY.reversed?0>b[x].y:0<=b[x].y),(t.axisY.reversed?0<=b[x].y:0>b[x].y)&&A,!1,!1,S.fillOpacity),e=S.dataPointIds[x],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:x,x1:m,y1:c,x2:w,y2:L},e=F(e),O&&ve(this._eventManager.ghostCtx,m,c,w,L,e,0,null,!1,!1,!1,!1),(b[x].indexLabel||S.indexLabel||b[x].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:b[x],dataSeries:S,point:{x:m+(w-m)/2,y:0<=b[x].y?c:L},direction:0>b[x].y===t.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(c,L),x2:w,y2:Math.max(c,L)},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.yScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:g<t.axisY.bounds.y1?t.axisY.bounds.y1:g>t.axisY.bounds.y2?t.axisY.bounds.y2:g}}},P.prototype.renderBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,m=0,h,d,f,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0,g=t.axisX.dataInfo.minDiff;for(isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.9*(n.height*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>c&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<m&&(c=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),g<m&&(g=m),g>c&&(g=c),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),c=0;c<t.dataSeriesIndexes.length;c++){var x=t.dataSeriesIndexes[c],a=this.data[x],M=a.dataPoints;if(0<M.length){var k=!!(5<g&&a.bevelEnabled);for(i.strokeStyle="#4572A7 ",m=0;m<M.length;m++)if(M[m].getTime?f=M[m].x.getTime():f=M[m].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax)&&typeof M[m].y=="number"){d=t.axisX.convertValueToPixel(f),h=t.axisY.convertValueToPixel(M[m].y),d=t.axisX.reversed?d+t.plotType.totalDataSeries*g/2-(t.previousDataSeriesCount+c)*g<<0:d-t.plotType.totalDataSeries*g/2+(t.previousDataSeriesCount+c)*g<<0;var S=t.axisX.reversed?d-g<<0:d+g<<0,b;0<=M[m].y?b=v:(b=h,h=v),e=M[m].color?M[m].color:a._colorSet[m%a._colorSet.length],ve(i,t.axisY.reversed?h:b,t.axisX.reversed?S:d,t.axisY.reversed?b:h,t.axisX.reversed?d:S,e,0,null,k,!1,!1,!1,a.fillOpacity),e=a.dataPointIds[m],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:m,x1:b,y1:d,x2:h,y2:S},e=F(e),O&&ve(this._eventManager.ghostCtx,b,t.axisX.reversed?S:d,h,t.axisX.reversed?d:S,e,0,null,!1,!1,!1,!1),(M[m].indexLabel||a.indexLabel||M[m].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:M[m],dataSeries:a,point:{x:0<=M[m].y?h:b,y:d+(S-d)/2},direction:0>M[m].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(b,h),y1:d,x2:Math.max(b,h),y2:S},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.xScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:v<t.axisY.bounds.x1?t.axisY.bounds.x1:v>t.axisY.bounds.x2?t.axisY.bounds.x2:v}}},P.prototype.renderStackedBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,h=[],d=[],f=[],v=[],x=0,m,c,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,M=t.axisX.dataInfo.minDiff;for(isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.9*(n.height*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),a=0;a<t.dataSeriesIndexes.length;a++){var k=t.dataSeriesIndexes[a],S=this.data[k],b=S.dataPoints;if(0<b.length){var A=!!(5<M&&S.bevelEnabled);for(i.strokeStyle="#4572A7 ",x=0;x<b.length;x++)if(e=b[x].x.getTime?b[x].x.getTime():b[x].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof b[x].y=="number"){c=t.axisX.convertValueToPixel(e),c=c-t.plotType.plotUnits.length*M/2+t.index*M<<0;var w=c+M<<0,L;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[x].y)f[e]=b[x].y+(f[e]?f[e]:0),0<f[e]&&(L=h[e]?h[e]:g,h[e]=m=t.axisY.convertValueToPixel(f[e]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=b[x].y)v[e]=b[x].y+(v[e]?v[e]:0),m=d[e]?d[e]:g,d[e]=L=t.axisY.convertValueToPixel(v[e]);else if(m=t.axisY.convertValueToPixel(b[x].y),0<=b[x].y){var R=h[e]?h[e]:0;L=g+R,m+=R,h[e]=R+(m-L)}else R=d[e]?d[e]:0,L=m-R,m=g-R,d[e]=R+(m-L);e=b[x].color?b[x].color:S._colorSet[x%S._colorSet.length],ve(i,t.axisY.reversed?m:L,c,t.axisY.reversed?L:m,w,e,0,null,A,!1,!1,!1,S.fillOpacity),e=S.dataPointIds[x],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:x,x1:L,y1:c,x2:m,y2:w},e=F(e),O&&ve(this._eventManager.ghostCtx,L,c,m,w,e,0,null,!1,!1,!1,!1),(b[x].indexLabel||S.indexLabel||b[x].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:b[x],dataSeries:S,point:{x:0<=b[x].y?m:L,y:c+(w-c)/2},direction:0>b[x].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(L,m),y1:c,x2:Math.max(L,m),y2:w},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.xScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:g<t.axisY.bounds.x1?t.axisY.bounds.x1:g>t.axisY.bounds.x2?t.axisY.bounds.x2:g}}},P.prototype.renderStackedBar100=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,h=[],d=[],f=[],v=[],x=0,m,c,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,M=t.axisX.dataInfo.minDiff;for(isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.9*(n.height*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip()),a=0;a<t.dataSeriesIndexes.length;a++){var k=t.dataSeriesIndexes[a],S=this.data[k],b=S.dataPoints;if(0<b.length){var A=!!(5<M&&S.bevelEnabled);for(i.strokeStyle="#4572A7 ",x=0;x<b.length;x++)if(e=b[x].x.getTime?b[x].x.getTime():b[x].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof b[x].y=="number"){c=t.axisX.convertValueToPixel(e);var w;w=t.dataPointYSums[e]!==0?100*(b[x].y/t.dataPointYSums[e]):0,c=c-t.plotType.plotUnits.length*M/2+t.index*M<<0;var L=c+M<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[x].y){if(f[e]=w+(f[e]?f[e]:0),0>=f[e])continue;w=h[e]?h[e]:g,h[e]=m=t.axisY.convertValueToPixel(f[e])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=b[x].y)v[e]=w+(v[e]?v[e]:0),m=d[e]?d[e]:g,d[e]=w=t.axisY.convertValueToPixel(v[e]);else if(m=t.axisY.convertValueToPixel(w),0<=b[x].y){var R=h[e]?h[e]:0;w=g+R,m+=R,t.dataSeriesIndexes.length-1===a&&1>=Math.abs(n.x2-m)&&(m=n.x2),h[e]=R+(m-w)}else R=d[e]?d[e]:0,w=m-R,m=g-R,t.dataSeriesIndexes.length-1===a&&1>=Math.abs(n.x1-w)&&(w=n.x1),d[e]=R+(m-w);e=b[x].color?b[x].color:S._colorSet[x%S._colorSet.length],ve(i,t.axisY.reversed?m:w,c,t.axisY.reversed?w:m,L,e,0,null,A,!1,!1,!1,S.fillOpacity),e=S.dataPointIds[x],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:x,x1:w,y1:c,x2:m,y2:L},e=F(e),O&&ve(this._eventManager.ghostCtx,w,c,m,L,e,0,null,!1,!1,!1,!1),(b[x].indexLabel||S.indexLabel||b[x].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:b[x],dataSeries:S,point:{x:0<=b[x].y?m:w,y:c+(L-c)/2},direction:0>b[x].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(w,m),y1:c,x2:Math.max(w,m),y2:L},color:e})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.xScaleAnimation,easingFunction:vt.easing.easeOutQuart,animationBase:g<t.axisY.bounds.x1?t.axisY.bounds.x1:g>t.axisY.bounds.x2?t.axisY.bounds.x2:g}}},P.prototype.renderArea=function(t){var o,i;function e(){R&&(0<a.lineThickness&&h.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?L=w:0>t.axisY.viewportMaximum?L=f.y1:0<t.axisY.viewportMinimum&&(L=w),h.lineTo(S,L),h.lineTo(R.x,L),h.closePath(),h.globalAlpha=a.fillOpacity,h.fill(),h.globalAlpha=1,O&&(d.lineTo(S,L),d.lineTo(R.x,L),d.closePath(),d.fill()),h.beginPath(),h.moveTo(S,b),d.beginPath(),d.moveTo(S,b),R={x:S,y:b})}var n=t.targetCanvasCtx||this.plotArea.ctx,h=O?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,f=t.axisY.lineCoordinates,v=[],m=this.plotArea,c;h.save(),O&&d.save(),h.beginPath(),h.rect(m.x1,m.y1,m.width,m.height),h.clip(),O&&(d.beginPath(),d.rect(m.x1,m.y1,m.width,m.height),d.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var x=t.dataSeriesIndexes[g],a=this.data[x],M=a.dataPoints,v=a.id;this._eventManager.objectMap[v]={objectType:"dataSeries",dataSeriesIndex:x},v=F(v),d.fillStyle=v,v=[],o=!0;var k=0,S,b,A,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),L,R=null;if(0<M.length){var B=a._colorSet[k%a._colorSet.length],$=a.lineColor=a.options.lineColor||B,J=$;if(h.fillStyle=B,h.strokeStyle=$,h.lineWidth=a.lineThickness,i="solid",h.setLineDash){var X=ot(a.nullDataLineDashType,a.lineThickness);i=a.lineDashType;var U=ot(i,a.lineThickness);h.setLineDash(U)}for(var N=!0;k<M.length;k++)if(A=M[k].x.getTime?M[k].x.getTime():M[k].x,!(A<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!N)))if(typeof M[k].y!="number")a.connectNullData||N||o||e(),N=!0;else{S=t.axisX.convertValueToPixel(A),b=t.axisY.convertValueToPixel(M[k].y),o||N?(!o&&a.connectNullData?(h.setLineDash&&(a.options.nullDataLineDashType||i===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(o=S,i=b,S=c.x,b=c.y,e(),h.moveTo(c.x,c.y),S=o,b=i,R=c,i=a.nullDataLineDashType,h.setLineDash(X)),h.lineTo(S,b),O&&d.lineTo(S,b)):(h.beginPath(),h.moveTo(S,b),O&&(d.beginPath(),d.moveTo(S,b)),R={x:S,y:b}),N=o=!1):(h.lineTo(S,b),O&&d.lineTo(S,b),k%250==0&&e()),c={x:S,y:b},k<M.length-1&&(J!==(M[k].lineColor||$)||i!==(M[k].lineDashType||a.lineDashType))&&(e(),J=M[k].lineColor||$,h.strokeStyle=J,h.setLineDash&&(M[k].lineDashType?(i=M[k].lineDashType,h.setLineDash(ot(i,a.lineThickness))):(i=a.lineDashType,h.setLineDash(U))));var W=a.dataPointIds[k];this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:k,x1:S,y1:b},M[k].markerSize!==0&&(0<M[k].markerSize||0<a.markerSize)&&(A=a.getMarkerProperties(k,S,b,h),v.push(A),W=F(W),O&&v.push({x:S,y:b,ctx:d,type:A.type,size:A.size,color:W,borderColor:W,borderThickness:A.borderThickness})),(M[k].indexLabel||a.indexLabel||M[k].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:M[k],dataSeries:a,point:{x:S,y:b},direction:0>M[k].y===t.axisY.reversed?1:-1,color:B})}e(),oe.drawMarkers(v)}}return O&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&h.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&h.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderSplineArea=function(t){function o(){var N=D(A,2);if(0<N.length){if(0<c.lineThickness){e.beginPath(),e.moveTo(N[0].x,N[0].y),N[0].newStrokeStyle&&(e.strokeStyle=N[0].newStrokeStyle),N[0].newLineDashArray&&e.setLineDash(N[0].newLineDashArray);for(var W=0;W<N.length-3;W+=3)e.bezierCurveTo(N[W+1].x,N[W+1].y,N[W+2].x,N[W+2].y,N[W+3].x,N[W+3].y),O&&n.bezierCurveTo(N[W+1].x,N[W+1].y,N[W+2].x,N[W+2].y,N[W+3].x,N[W+3].y),(N[W+3].newStrokeStyle||N[W+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(N[W+3].x,N[W+3].y),N[W+3].newStrokeStyle&&(e.strokeStyle=N[W+3].newStrokeStyle),N[W+3].newLineDashArray&&e.setLineDash(N[W+3].newLineDashArray));e.stroke()}for(e.beginPath(),e.moveTo(N[0].x,N[0].y),O&&(n.beginPath(),n.moveTo(N[0].x,N[0].y)),W=0;W<N.length-3;W+=3)e.bezierCurveTo(N[W+1].x,N[W+1].y,N[W+2].x,N[W+2].y,N[W+3].x,N[W+3].y),O&&n.bezierCurveTo(N[W+1].x,N[W+1].y,N[W+2].x,N[W+2].y,N[W+3].x,N[W+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?S=k:0>t.axisY.viewportMaximum?S=h.y1:0<t.axisY.viewportMinimum&&(S=k),b={x:N[0].x,y:N[0].y},e.lineTo(N[N.length-1].x,S),e.lineTo(b.x,S),e.closePath(),e.globalAlpha=c.fillOpacity,e.fill(),e.globalAlpha=1,O&&(n.lineTo(N[N.length-1].x,S),n.lineTo(b.x,S),n.closePath(),n.fill())}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,h=t.axisY.lineCoordinates,d=[],f=this.plotArea;e.save(),O&&n.save(),e.beginPath(),e.rect(f.x1,f.y1,f.width,f.height),e.clip(),O&&(n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip());for(var v=0;v<t.dataSeriesIndexes.length;v++){var m=t.dataSeriesIndexes[v],c=this.data[m],g=c.dataPoints,d=c.id;this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:m},d=F(d),n.fillStyle=d;var d=[],x=0,a,M,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),S,b=null,A=[];if(0<g.length){var w=c._colorSet[x%c._colorSet.length],L=c.lineColor=c.options.lineColor||w,R=L;e.fillStyle=w,e.strokeStyle=L,e.lineWidth=c.lineThickness;var B="solid";if(e.setLineDash){var $=ot(c.nullDataLineDashType,c.lineThickness),B=c.lineDashType,J=ot(B,c.lineThickness);e.setLineDash(J)}for(M=!1;x<g.length;x++)if(a=g[x].x.getTime?g[x].x.getTime():g[x].x,!(a<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!M)))if(typeof g[x].y!="number")0<x&&!M&&(c.connectNullData?e.setLineDash&&0<A.length&&(c.options.nullDataLineDashType||!g[x-1].lineDashType)&&(A[A.length-1].newLineDashArray=$,B=c.nullDataLineDashType):(o(),A=[])),M=!0;else{a=t.axisX.convertValueToPixel(a),M=t.axisY.convertValueToPixel(g[x].y);var X=c.dataPointIds[x];if(this._eventManager.objectMap[X]={id:X,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:x,x1:a,y1:M},A[A.length]={x:a,y:M},x<g.length-1&&(R!==(g[x].lineColor||L)||B!==(g[x].lineDashType||c.lineDashType))&&(R=g[x].lineColor||L,A[A.length-1].newStrokeStyle=R,e.setLineDash&&(g[x].lineDashType?(B=g[x].lineDashType,A[A.length-1].newLineDashArray=ot(B,c.lineThickness)):(B=c.lineDashType,A[A.length-1].newLineDashArray=J))),g[x].markerSize!==0&&(0<g[x].markerSize||0<c.markerSize)){var U=c.getMarkerProperties(x,a,M,e);d.push(U),X=F(X),O&&d.push({x:a,y:M,ctx:n,type:U.type,size:U.size,color:X,borderColor:X,borderThickness:U.borderThickness})}(g[x].indexLabel||c.indexLabel||g[x].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:g[x],dataSeries:c,point:{x:a,y:M},direction:0>g[x].y===t.axisY.reversed?1:-1,color:w}),M=!1}o(),oe.drawMarkers(d)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderStepArea=function(t){var o,i;function e(){R&&(0<a.lineThickness&&h.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?L=w:0>t.axisY.viewportMaximum?L=f.y1:0<t.axisY.viewportMinimum&&(L=w),h.lineTo(S,L),h.lineTo(R.x,L),h.closePath(),h.globalAlpha=a.fillOpacity,h.fill(),h.globalAlpha=1,O&&(d.lineTo(S,L),d.lineTo(R.x,L),d.closePath(),d.fill()),h.beginPath(),h.moveTo(S,b),d.beginPath(),d.moveTo(S,b),R={x:S,y:b})}var n=t.targetCanvasCtx||this.plotArea.ctx,h=O?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,f=t.axisY.lineCoordinates,v=[],m=this.plotArea,c;h.save(),O&&d.save(),h.beginPath(),h.rect(m.x1,m.y1,m.width,m.height),h.clip(),O&&(d.beginPath(),d.rect(m.x1,m.y1,m.width,m.height),d.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var x=t.dataSeriesIndexes[g],a=this.data[x],M=a.dataPoints,v=a.id;this._eventManager.objectMap[v]={objectType:"dataSeries",dataSeriesIndex:x},v=F(v),d.fillStyle=v,v=[],o=!0;var k=0,S,b,A,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),L,R=null;if(i=!1,0<M.length){var B=a._colorSet[k%a._colorSet.length],$=a.lineColor=a.options.lineColor||B,J=$;h.fillStyle=B,h.strokeStyle=$,h.lineWidth=a.lineThickness;var X="solid";if(h.setLineDash){var U=ot(a.nullDataLineDashType,a.lineThickness),X=a.lineDashType,N=ot(X,a.lineThickness);h.setLineDash(N)}for(;k<M.length;k++)if(A=M[k].x.getTime?M[k].x.getTime():M[k].x,!(A<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!a.connectNullData||!i))){var W=b;typeof M[k].y!="number"?(a.connectNullData||i||o||e(),i=!0):(S=t.axisX.convertValueToPixel(A),b=t.axisY.convertValueToPixel(M[k].y),o||i?(!o&&a.connectNullData?(h.setLineDash&&(a.options.nullDataLineDashType||X===a.lineDashType&&a.lineDashType!==a.nullDataLineDashType)&&(o=S,i=b,S=c.x,b=c.y,e(),h.moveTo(c.x,c.y),S=o,b=i,R=c,X=a.nullDataLineDashType,h.setLineDash(U)),h.lineTo(S,W),h.lineTo(S,b),O&&(d.lineTo(S,W),d.lineTo(S,b))):(h.beginPath(),h.moveTo(S,b),O&&(d.beginPath(),d.moveTo(S,b)),R={x:S,y:b}),i=o=!1):(h.lineTo(S,W),O&&d.lineTo(S,W),h.lineTo(S,b),O&&d.lineTo(S,b),k%250==0&&e()),c={x:S,y:b},k<M.length-1&&(J!==(M[k].lineColor||$)||X!==(M[k].lineDashType||a.lineDashType))&&(e(),J=M[k].lineColor||$,h.strokeStyle=J,h.setLineDash&&(M[k].lineDashType?(X=M[k].lineDashType,h.setLineDash(ot(X,a.lineThickness))):(X=a.lineDashType,h.setLineDash(N)))),A=a.dataPointIds[k],this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:k,x1:S,y1:b},M[k].markerSize!==0&&(0<M[k].markerSize||0<a.markerSize)&&(W=a.getMarkerProperties(k,S,b,h),v.push(W),A=F(A),O&&v.push({x:S,y:b,ctx:d,type:W.type,size:W.size,color:A,borderColor:A,borderThickness:W.borderThickness})),(M[k].indexLabel||a.indexLabel||M[k].indexLabelFormatter||a.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:M[k],dataSeries:a,point:{x:S,y:b},direction:0>M[k].y===t.axisY.reversed?1:-1,color:B}))}e(),oe.drawMarkers(v)}}return O&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&h.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&h.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderStackedArea=function(t){function o(){if(!(1>m.length)){for(0<B.lineThickness&&e.stroke();0<m.length;){var E=m.pop();e.lineTo(E.x,E.y),O&&S.lineTo(E.x,E.y)}e.closePath(),e.globalAlpha=B.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),O&&(S.closePath(),S.fill(),S.beginPath()),m=[]}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=null,h=null,d=[],f=this.plotArea,v=[],m=[],c=[],g=[],x=0,a,M,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),S=this._eventManager.ghostCtx,b,A,w;O&&S.beginPath(),e.save(),O&&S.save(),e.beginPath(),e.rect(f.x1,f.y1,f.width,f.height),e.clip(),O&&(S.beginPath(),S.rect(f.x1,f.y1,f.width,f.height),S.clip());for(var n=[],L=0;L<t.dataSeriesIndexes.length;L++){var R=t.dataSeriesIndexes[L],B=this.data[R],$=B.dataPoints;for(B.dataPointIndexes=[],x=0;x<$.length;x++)R=$[x].x.getTime?$[x].x.getTime():$[x].x,B.dataPointIndexes[R]=x,n[R]||(c.push(R),n[R]=!0);c.sort(_)}for(L=0;L<t.dataSeriesIndexes.length;L++){if(R=t.dataSeriesIndexes[L],B=this.data[R],$=B.dataPoints,A=!0,m=[],x=B.id,this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:R},x=F(x),S.fillStyle=x,0<c.length){var n=B._colorSet[0],J=B.lineColor=B.options.lineColor||n,X=J;if(e.fillStyle=n,e.strokeStyle=J,e.lineWidth=B.lineThickness,w="solid",e.setLineDash){var U=ot(B.nullDataLineDashType,B.lineThickness);w=B.lineDashType;var N=ot(w,B.lineThickness);e.setLineDash(N)}for(var W=!0,x=0;x<c.length;x++){var h=c[x],V=null,V=0<=B.dataPointIndexes[h]?$[B.dataPointIndexes[h]]:{x:h,y:null};if(!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!B.connectNullData||!W)))if(typeof V.y!="number")B.connectNullData||W||A||o(),W=!0;else{a=t.axisX.convertValueToPixel(h);var H=v[h]?v[h]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(g[h]=V.y+(g[h]?g[h]:0),0>=g[h]&&t.axisY.logarithmic)continue;M=t.axisY.convertValueToPixel(g[h])}else M=t.axisY.convertValueToPixel(V.y),M-=H;if(m.push({x:a,y:k-H}),v[h]=k-M,A||W?(!A&&B.connectNullData?(e.setLineDash&&(B.options.nullDataLineDashType||w===B.lineDashType&&B.lineDashType!==B.nullDataLineDashType)&&(A=m.pop(),w=m[m.length-1],o(),e.moveTo(b.x,b.y),m.push(w),m.push(A),w=B.nullDataLineDashType,e.setLineDash(U)),e.lineTo(a,M),O&&S.lineTo(a,M)):(e.beginPath(),e.moveTo(a,M),O&&(S.beginPath(),S.moveTo(a,M))),W=A=!1):(e.lineTo(a,M),O&&S.lineTo(a,M),x%250==0&&(o(),e.moveTo(a,M),O&&S.moveTo(a,M),m.push({x:a,y:k-H}))),b={x:a,y:M},x<$.length-1&&(X!==($[x].lineColor||J)||w!==($[x].lineDashType||B.lineDashType))&&(o(),e.beginPath(),e.moveTo(a,M),m.push({x:a,y:k-H}),X=$[x].lineColor||J,e.strokeStyle=X,e.setLineDash&&($[x].lineDashType?(w=$[x].lineDashType,e.setLineDash(ot(w,B.lineThickness))):(w=B.lineDashType,e.setLineDash(N)))),0<=B.dataPointIndexes[h]){var q=B.dataPointIds[B.dataPointIndexes[h]];this._eventManager.objectMap[q]={id:q,objectType:"dataPoint",dataSeriesIndex:R,dataPointIndex:B.dataPointIndexes[h],x1:a,y1:M}}0<=B.dataPointIndexes[h]&&V.markerSize!==0&&(0<V.markerSize||0<B.markerSize)&&(H=B.getMarkerProperties(B.dataPointIndexes[h],a,M,e),d.push(H),h=F(q),O&&d.push({x:a,y:M,ctx:S,type:H.type,size:H.size,color:h,borderColor:h,borderThickness:H.borderThickness})),(V.indexLabel||B.indexLabel||V.indexLabelFormatter||B.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:V,dataSeries:B,point:{x:a,y:M},direction:0>V.y===t.axisY.reversed?1:-1,color:n})}}o(),e.moveTo(a,M),O&&S.moveTo(a,M)}delete B.dataPointIndexes}return oe.drawMarkers(d),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(f.x1,f.y1,f.width,f.height),S.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderStackedArea100=function(t){function o(){for(0<B.lineThickness&&e.stroke();0<m.length;){var Vt=m.pop();e.lineTo(Vt.x,Vt.y),O&&w.lineTo(Vt.x,Vt.y)}e.closePath(),e.globalAlpha=B.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),O&&(w.closePath(),w.fill(),w.beginPath()),m=[]}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=null,h=null,d=this.plotArea,f=[],v=[],m=[],c=[],g=[],x=0,a,M,k,S,b,A=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;e.save(),O&&w.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),O&&(w.beginPath(),w.rect(d.x1,d.y1,d.width,d.height),w.clip());for(var n=[],L=0;L<t.dataSeriesIndexes.length;L++){var R=t.dataSeriesIndexes[L],B=this.data[R],$=B.dataPoints;for(B.dataPointIndexes=[],x=0;x<$.length;x++)R=$[x].x.getTime?$[x].x.getTime():$[x].x,B.dataPointIndexes[R]=x,n[R]||(c.push(R),n[R]=!0);c.sort(_)}for(L=0;L<t.dataSeriesIndexes.length;L++){if(R=t.dataSeriesIndexes[L],B=this.data[R],$=B.dataPoints,S=!0,n=B.id,this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:R},n=F(n),w.fillStyle=n,m=[],0<c.length){var n=B._colorSet[x%B._colorSet.length],J=B.lineColor=B.options.lineColor||n,X=J;if(e.fillStyle=n,e.strokeStyle=J,e.lineWidth=B.lineThickness,b="solid",e.setLineDash){var U=ot(B.nullDataLineDashType,B.lineThickness);b=B.lineDashType;var N=ot(b,B.lineThickness);e.setLineDash(N)}for(var W=!0,x=0;x<c.length;x++){var h=c[x],V=null,V=0<=B.dataPointIndexes[h]?$[B.dataPointIndexes[h]]:{x:h,y:null};if(!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!B.connectNullData||!W)))if(typeof V.y!="number")B.connectNullData||W||S||o(),W=!0;else{var H;H=t.dataPointYSums[h]!==0?100*(V.y/t.dataPointYSums[h]):0,a=t.axisX.convertValueToPixel(h);var q=v[h]?v[h]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(g[h]=H+(g[h]?g[h]:0),0>=g[h]&&t.axisY.logarithmic)continue;M=t.axisY.convertValueToPixel(g[h])}else M=t.axisY.convertValueToPixel(H),M-=q;if(m.push({x:a,y:A-q}),v[h]=A-M,S||W?(!S&&B.connectNullData?(e.setLineDash&&(B.options.nullDataLineDashType||b===B.lineDashType&&B.lineDashType!==B.nullDataLineDashType)&&(S=m.pop(),b=m[m.length-1],o(),e.moveTo(k.x,k.y),m.push(b),m.push(S),b=B.nullDataLineDashType,e.setLineDash(U)),e.lineTo(a,M),O&&w.lineTo(a,M)):(e.beginPath(),e.moveTo(a,M),O&&(w.beginPath(),w.moveTo(a,M))),W=S=!1):(e.lineTo(a,M),O&&w.lineTo(a,M),x%250==0&&(o(),e.moveTo(a,M),O&&w.moveTo(a,M),m.push({x:a,y:A-q}))),k={x:a,y:M},x<$.length-1&&(X!==($[x].lineColor||J)||b!==($[x].lineDashType||B.lineDashType))&&(o(),e.beginPath(),e.moveTo(a,M),m.push({x:a,y:A-q}),X=$[x].lineColor||J,e.strokeStyle=X,e.setLineDash&&($[x].lineDashType?(b=$[x].lineDashType,e.setLineDash(ot(b,B.lineThickness))):(b=B.lineDashType,e.setLineDash(N)))),0<=B.dataPointIndexes[h]){var E=B.dataPointIds[B.dataPointIndexes[h]];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:R,dataPointIndex:B.dataPointIndexes[h],x1:a,y1:M}}0<=B.dataPointIndexes[h]&&V.markerSize!==0&&(0<V.markerSize||0<B.markerSize)&&(q=B.getMarkerProperties(B.dataPointIndexes[h],a,M,e),f.push(q),h=F(E),O&&f.push({x:a,y:M,ctx:w,type:q.type,size:q.size,color:h,borderColor:h,borderThickness:q.borderThickness})),(V.indexLabel||B.indexLabel||V.indexLabelFormatter||B.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:V,dataSeries:B,point:{x:a,y:M},direction:0>V.y===t.axisY.reversed?1:-1,color:n})}}o(),e.moveTo(a,M),O&&w.moveTo(a,M)}delete B.dataPointIndexes}return oe.drawMarkers(f),O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),w.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderBubble=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,n=0,h,d;i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(e.x1,e.y1,e.width,e.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var f=-1/0,v=1/0,m=0;m<t.dataSeriesIndexes.length;m++)for(var c=t.dataSeriesIndexes[m],g=this.data[c],x=g.dataPoints,a=0,n=0;n<x.length;n++)h=x[n].getTime?h=x[n].x.getTime():h=x[n].x,h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax||typeof x[n].z>"u"||(a=x[n].z,a>f&&(f=a),a<v&&(v=a));for(var M=25*Math.PI,k=Math.max(Math.pow(.25*Math.min(e.height,e.width)/2,2)*Math.PI,M),m=0;m<t.dataSeriesIndexes.length;m++)if(c=t.dataSeriesIndexes[m],g=this.data[c],x=g.dataPoints,0<x.length){for(i.strokeStyle="#4572A7 ",n=0;n<x.length;n++)if(h=x[n].getTime?h=x[n].x.getTime():h=x[n].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&typeof x[n].y=="number"){h=t.axisX.convertValueToPixel(h),d=t.axisY.convertValueToPixel(x[n].y);var a=x[n].z,S=2*Math.max(Math.sqrt((f===v?k/2:M+(k-M)/(f-v)*(a-v))/Math.PI)<<0,1),a=g.getMarkerProperties(n,i);a.size=S,i.globalAlpha=g.fillOpacity,oe.drawMarker(h,d,i,a.type,a.size,a.color,a.borderColor,a.borderThickness),i.globalAlpha=1;var b=g.dataPointIds[n];this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:n,x1:h,y1:d,size:S},S=F(b),O&&oe.drawMarker(h,d,this._eventManager.ghostCtx,a.type,a.size,S,S,a.borderThickness),(x[n].indexLabel||g.indexLabel||x[n].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:x[n],dataSeries:g,point:{x:h,y:d},direction:1,bounds:{x1:h-a.size/2,y1:d-a.size/2,x2:h+a.size/2,y2:d+a.size/2},color:null})}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderScatter=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,n=0,h,d;i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(e.x1,e.y1,e.width,e.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var v=t.dataSeriesIndexes[f],m=this.data[v],c=m.dataPoints;if(0<c.length){i.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(e.height,e.width)/2,2);for(var g=0,x=0,n=0;n<c.length;n++)if(h=c[n].getTime?h=c[n].x.getTime():h=c[n].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&typeof c[n].y=="number"){h=t.axisX.convertValueToPixel(h),d=t.axisY.convertValueToPixel(c[n].y);var a=m.getMarkerProperties(n,h,d,i);i.globalAlpha=m.fillOpacity,oe.drawMarker(a.x,a.y,a.ctx,a.type,a.size,a.color,a.borderColor,a.borderThickness),i.globalAlpha=1,Math.sqrt((g-h)*(g-h)+(x-d)*(x-d))<Math.min(a.size,5)&&c.length>Math.min(this.plotArea.width,this.plotArea.height)||(g=m.dataPointIds[n],this._eventManager.objectMap[g]={id:g,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:n,x1:h,y1:d},g=F(g),O&&oe.drawMarker(a.x,a.y,this._eventManager.ghostCtx,a.type,a.size,g,g,a.borderThickness),(c[n].indexLabel||m.indexLabel||c[n].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:c[n],dataSeries:m,point:{x:h,y:d},direction:1,bounds:{x1:h-a.size/2,y1:d-a.size/2,x2:h+a.size/2,y2:d+a.size/2},color:null}),g=h,x=d)}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderCandlestick=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var x=null,a=null,n=this.plotArea,h=0,d,f,v,m,c,g,x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,M=t.axisX.dataInfo.minDiff;isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.7*n.width*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&e.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip());for(var k=0;k<t.dataSeriesIndexes.length;k++){var S=t.dataSeriesIndexes[k],b=this.data[S],A=b.dataPoints;if(0<A.length){for(var w=!!(5<M&&b.bevelEnabled),h=0;h<A.length;h++)if(A[h].getTime?g=A[h].x.getTime():g=A[h].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax)&&!T(A[h].y)&&A[h].y.length&&typeof A[h].y[0]=="number"&&typeof A[h].y[1]=="number"&&typeof A[h].y[2]=="number"&&typeof A[h].y[3]=="number"){d=t.axisX.convertValueToPixel(g),f=t.axisY.convertValueToPixel(A[h].y[0]),v=t.axisY.convertValueToPixel(A[h].y[1]),m=t.axisY.convertValueToPixel(A[h].y[2]),c=t.axisY.convertValueToPixel(A[h].y[3]);var L=d-M/2<<0,R=L+M<<0,a=b.options.fallingColor?b.fallingColor:b._colorSet[0],x=A[h].color?A[h].color:b._colorSet[0],B=Math.round(Math.max(1,.15*M)),$=B%2===0?0:.5,J=b.dataPointIds[h];this._eventManager.objectMap[J]={id:J,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:h,x1:L,y1:f,x2:R,y2:v,x3:d,y3:m,x4:d,y4:c,borderThickness:B,color:x},i.strokeStyle=x,i.beginPath(),i.lineWidth=B,e.lineWidth=Math.max(B,4),b.type==="candlestick"?(i.moveTo(d-$,v),i.lineTo(d-$,Math.min(f,c)),i.stroke(),i.moveTo(d-$,Math.max(f,c)),i.lineTo(d-$,m),i.stroke(),ve(i,L,Math.min(f,c),R,Math.max(f,c),A[h].y[0]<=A[h].y[3]?b.risingColor:a,B,x,w,w,!1,!1,b.fillOpacity),O&&(x=F(J),e.strokeStyle=x,e.moveTo(d-$,v),e.lineTo(d-$,Math.min(f,c)),e.stroke(),e.moveTo(d-$,Math.max(f,c)),e.lineTo(d-$,m),e.stroke(),ve(e,L,Math.min(f,c),R,Math.max(f,c),x,0,null,!1,!1,!1,!1))):b.type==="ohlc"&&(i.moveTo(d-$,v),i.lineTo(d-$,m),i.stroke(),i.beginPath(),i.moveTo(d,f),i.lineTo(L,f),i.stroke(),i.beginPath(),i.moveTo(d,c),i.lineTo(R,c),i.stroke(),O&&(x=F(J),e.strokeStyle=x,e.moveTo(d-$,v),e.lineTo(d-$,m),e.stroke(),e.beginPath(),e.moveTo(d,f),e.lineTo(L,f),e.stroke(),e.beginPath(),e.moveTo(d,c),e.lineTo(R,c),e.stroke())),(A[h].indexLabel||b.indexLabel||A[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:A[h],dataSeries:b,point:{x:L+(R-L)/2,y:t.axisY.reversed?m:v},direction:1,bounds:{x1:L,y1:Math.min(v,m),x2:R,y2:Math.max(v,m)},color:x})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),e.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderBoxAndWhisker=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var x=null,n=this.plotArea,a=0,h,d,f,v,m,c,g,x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,a=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,M=t.axisX.dataInfo.minDiff;isFinite(M)||(M=.3*Math.abs(t.axisX.range)),M=this.options.dataPointWidth?this.dataPointWidth:.7*n.width*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&x>a&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,a)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&a<x&&(a=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x)),M<x&&(M=x),M>a&&(M=a),i.save(),O&&e.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(e.beginPath(),e.rect(n.x1,n.y1,n.width,n.height),e.clip());for(var k=!1,k=!!t.axisY.reversed,S=0;S<t.dataSeriesIndexes.length;S++){var b=t.dataSeriesIndexes[S],A=this.data[b],w=A.dataPoints;if(0<w.length){for(var L=!!(5<M&&A.bevelEnabled),a=0;a<w.length;a++)if(w[a].getTime?g=w[a].x.getTime():g=w[a].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax)&&!T(w[a].y)&&w[a].y.length&&typeof w[a].y[0]=="number"&&typeof w[a].y[1]=="number"&&typeof w[a].y[2]=="number"&&typeof w[a].y[3]=="number"&&typeof w[a].y[4]=="number"&&w[a].y.length===5){h=t.axisX.convertValueToPixel(g),d=t.axisY.convertValueToPixel(w[a].y[0]),f=t.axisY.convertValueToPixel(w[a].y[1]),v=t.axisY.convertValueToPixel(w[a].y[2]),m=t.axisY.convertValueToPixel(w[a].y[3]),c=t.axisY.convertValueToPixel(w[a].y[4]);var R=h-M/2<<0,B=h+M/2<<0,x=w[a].color?w[a].color:A._colorSet[0],$=Math.round(Math.max(1,.15*M)),J=$%2===0?0:.5,X=w[a].whiskerColor?w[a].whiskerColor:w[a].color?A.whiskerColor?A.whiskerColor:w[a].color:A.whiskerColor?A.whiskerColor:x,U=typeof w[a].whiskerThickness=="number"?w[a].whiskerThickness:typeof A.options.whiskerThickness=="number"?A.whiskerThickness:$,N=w[a].whiskerDashType?w[a].whiskerDashType:A.whiskerDashType,W=T(w[a].whiskerLength)?T(A.options.whiskerLength)?M:A.whiskerLength:w[a].whiskerLength,W=typeof W=="number"?0>=W?0:W>=M?M:W:typeof W=="string"?parseInt(W)*M/100>M?M:parseInt(W)*M/100:M,V=Math.round(U)%2===1?.5:0,H=w[a].stemColor?w[a].stemColor:w[a].color?A.stemColor?A.stemColor:w[a].color:A.stemColor?A.stemColor:x,q=typeof w[a].stemThickness=="number"?w[a].stemThickness:typeof A.options.stemThickness=="number"?A.stemThickness:$,E=Math.round(q)%2===1?.5:0,Vt=w[a].stemDashType?w[a].stemDashType:A.stemDashType,Et=w[a].lineColor?w[a].lineColor:w[a].color?A.lineColor?A.lineColor:w[a].color:A.lineColor?A.lineColor:x,Gt=typeof w[a].lineThickness=="number"?w[a].lineThickness:typeof A.options.lineThickness=="number"?A.lineThickness:$,$t=w[a].lineDashType?w[a].lineDashType:A.lineDashType,mt=Math.round(Gt)%2===1?.5:0,xe=A.upperBoxColor,Xt=A.lowerBoxColor,Rt=T(A.options.fillOpacity)?1:A.fillOpacity,xt=A.dataPointIds[a];this._eventManager.objectMap[xt]={id:xt,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:a,x1:R,y1:d,x2:B,y2:f,x3:h,y3:v,x4:h,y4:m,y5:c,borderThickness:$,color:x,stemThickness:q,stemColor:H,whiskerThickness:U,whiskerLength:W,whiskerColor:X,lineThickness:Gt,lineColor:Et},i.save(),0<q&&(i.beginPath(),i.strokeStyle=H,i.lineWidth=q,i.setLineDash&&i.setLineDash(ot(Vt,q)),i.moveTo(h-E,f),i.lineTo(h-E,d),i.stroke(),i.moveTo(h-E,m),i.lineTo(h-E,v),i.stroke()),i.restore(),e.lineWidth=Math.max($,4),i.beginPath(),ve(i,R,Math.min(c,f),B,Math.max(f,c),Xt,0,x,k?L:!1,k?!1:L,!1,!1,Rt),i.beginPath(),ve(i,R,Math.min(v,c),B,Math.max(c,v),xe,0,x,k?!1:L,k?L:!1,!1,!1,Rt),i.beginPath(),i.lineWidth=$,i.strokeStyle=x,i.rect(R-J,Math.min(f,v)-J,B-R+2*J,Math.max(f,v)-Math.min(f,v)+2*J),i.stroke(),i.save(),0<Gt&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(ot($t,Gt)),i.strokeStyle=Et,i.lineWidth=Gt,i.moveTo(R,c-mt),i.lineTo(B,c-mt),i.stroke()),i.restore(),i.save(),0<U&&(i.beginPath(),i.setLineDash&&i.setLineDash(ot(N,U)),i.strokeStyle=X,i.lineWidth=U,i.moveTo(h-W/2<<0,m-V),i.lineTo(h+W/2<<0,m-V),i.stroke(),i.moveTo(h-W/2<<0,d+V),i.lineTo(h+W/2<<0,d+V),i.stroke()),i.restore(),O&&(x=F(xt),e.strokeStyle=x,e.lineWidth=q,0<q&&(e.moveTo(h-J-E,f),e.lineTo(h-J-E,Math.max(d,m)),e.stroke(),e.moveTo(h-J-E,Math.min(d,m)),e.lineTo(h-J-E,v),e.stroke()),ve(e,R,Math.max(f,v),B,Math.min(f,v),x,0,null,!1,!1,!1,!1),0<U&&(e.beginPath(),e.lineWidth=U,e.moveTo(h+W/2,m-V),e.lineTo(h-W/2,m-V),e.stroke(),e.moveTo(h+W/2,d+V),e.lineTo(h-W/2,d+V),e.stroke())),(w[a].indexLabel||A.indexLabel||w[a].indexLabelFormatter||A.indexLabelFormatter)&&this._indexLabels.push({chartType:A.type,dataPoint:w[a],dataSeries:A,point:{x:R+(B-R)/2,y:t.axisY.reversed?d:m},direction:1,bounds:{x1:R,y1:Math.min(d,m),x2:B,y2:Math.max(d,m)},color:x})}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),e.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,v=0,h,d,f,v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.9*(n.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),m<v&&(m=v),m>h&&(m=h),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var g=t.dataSeriesIndexes[c],x=this.data[g],a=x.dataPoints;if(0<a.length){for(var M=!!(5<m&&x.bevelEnabled),v=0;v<a.length;v++)if(a[v].getTime?f=a[v].x.getTime():f=a[v].x,!(f<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax)&&!T(a[v].y)&&a[v].y.length&&typeof a[v].y[0]=="number"&&typeof a[v].y[1]=="number"){e=t.axisX.convertValueToPixel(f),h=t.axisY.convertValueToPixel(a[v].y[0]),d=t.axisY.convertValueToPixel(a[v].y[1]);var k=t.axisX.reversed?e+t.plotType.totalDataSeries*m/2-(t.previousDataSeriesCount+c)*m<<0:e-t.plotType.totalDataSeries*m/2+(t.previousDataSeriesCount+c)*m<<0,S=t.axisX.reversed?k-m<<0:k+m<<0,e=a[v].color?a[v].color:x._colorSet[v%x._colorSet.length];if(h>d){var b=h;h=d,d=b}b=x.dataPointIds[v],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:v,x1:k,y1:h,x2:S,y2:d},ve(i,t.axisX.reversed?S:k,h,t.axisX.reversed?k:S,d,e,0,e,M,M,!1,!1,x.fillOpacity),e=F(b),O&&ve(this._eventManager.ghostCtx,t.axisX.reversed?S:k,h,t.axisX.reversed?k:S,d,e,0,null,!1,!1,!1,!1),(a[v].indexLabel||x.indexLabel||a[v].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:a[v],dataSeries:x,indexKeyword:0,point:{x:k+(S-k)/2,y:a[v].y[1]>=a[v].y[0]?d:h},direction:a[v].y[1]>=a[v].y[0]?-1:1,bounds:{x1:k,y1:Math.min(h,d),x2:S,y2:Math.max(h,d)},color:e}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:a[v],dataSeries:x,indexKeyword:1,point:{x:k+(S-k)/2,y:a[v].y[1]>=a[v].y[0]?h:d},direction:a[v].y[1]>=a[v].y[0]?1:-1,bounds:{x1:k,y1:Math.min(h,d),x2:S,y2:Math.max(h,d)},color:e}))}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderError=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o,e=t.axisY._position?!(t.axisY._position==="left"||t.axisY._position==="right"):!1;if(!(0>=t.dataSeriesIndexes.length)){var n=null,h=!1,d=this.plotArea,f=0,v,m,c,g,x,a,M,k=t.axisX.dataInfo.minDiff;isFinite(k)||(k=.3*Math.abs(t.axisX.range)),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(d.x1,d.y1,d.width,d.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var S=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/ig)||!this.data[b].visible||this.data[b].type.match(/(stacked)/ig)&&S||S++;for(var A=0;A<t.dataSeriesIndexes.length;A++){var w=t.dataSeriesIndexes[A],L=this.data[w],R=L.dataPoints,B=T(L._linkedSeries)?!1:!!(L._linkedSeries.type.match(/(bar|column)/ig)&&L._linkedSeries.visible),$=0;if(B)for(n=L._linkedSeries.id,b=0;b<n;b++)!this.data[b].type.match(/(bar|column)/ig)||!this.data[b].visible||this.data[b].type.match(/(stacked)/ig)&&$||(this.data[b].type.match(/(range)/ig)&&(h=!0),$++);if(n=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(B?S:1)))<<0:.3*this.width,h&&(f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(B?S:1)))<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:.9*((e?d.height:d.width)*(t.axisX.logarithmic?Math.log(k)/Math.log(t.axisX.range):Math.abs(k)/Math.abs(t.axisX.range))/(B?S:1))<<0,this.dataPointMaxWidth&&n>f&&(n=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<n&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,n)),b<n&&(b=n),b>f&&(b=f),0<R.length)for(var J=L._colorSet,f=0;f<R.length;f++){var n=L.lineColor=L.options.color?L.options.color:J[0],X={color:R[f].whiskerColor?R[f].whiskerColor:R[f].color?L.whiskerColor?L.whiskerColor:R[f].color:L.whiskerColor?L.whiskerColor:n,thickness:T(R[f].whiskerThickness)?L.whiskerThickness:R[f].whiskerThickness,dashType:R[f].whiskerDashType?R[f].whiskerDashType:L.whiskerDashType,length:T(R[f].whiskerLength)?T(L.options.whiskerLength)?b:L.options.whiskerLength:R[f].whiskerLength,trimLength:T(R[f].whiskerLength)&&T(L.options.whiskerLength)?50:0};X.length=typeof X.length=="number"?0>=X.length?0:X.length>=b?b:X.length:typeof X.length=="string"?parseInt(X.length)*b/100>b?b:parseInt(X.length)*b/100>b:b,X.thickness=typeof X.thickness=="number"?0>X.thickness?0:Math.round(X.thickness):2;var U={color:R[f].stemColor?R[f].stemColor:R[f].color?L.stemColor?L.stemColor:R[f].color:L.stemColor?L.stemColor:n,thickness:R[f].stemThickness?R[f].stemThickness:L.stemThickness,dashType:R[f].stemDashType?R[f].stemDashType:L.stemDashType};if(U.thickness=typeof U.thickness=="number"?0>U.thickness?0:Math.round(U.thickness):2,R[f].getTime?M=R[f].x.getTime():M=R[f].x,!(M<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&!T(R[f].y)&&R[f].y.length&&typeof R[f].y[0]=="number"&&typeof R[f].y[1]=="number"){var N=t.axisX.convertValueToPixel(M);e?m=N:v=N,N=t.axisY.convertValueToPixel(R[f].y[0]),e?c=N:x=N,N=t.axisY.convertValueToPixel(R[f].y[1]),e?g=N:a=N,e?(x=t.axisX.reversed?m+(B?S:1)*b/2-(B?$-1:0)*b<<0:m-(B?S:1)*b/2+(B?$-1:0)*b<<0,a=t.axisX.reversed?x-b<<0:x+b<<0):(c=t.axisX.reversed?v+(B?S:1)*b/2-(B?$-1:0)*b<<0:v-(B?S:1)*b/2+(B?$-1:0)*b<<0,g=t.axisX.reversed?c-b<<0:c+b<<0),!e&&x>a&&(N=x,x=a,a=N),e&&c>g&&(N=c,c=g,g=N),N=L.dataPointIds[f],this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:f,x1:Math.min(c,g),y1:Math.min(x,a),x2:Math.max(g,c),y2:Math.max(a,x),isXYSwapped:e,stemProperties:U,whiskerProperties:X},j(i,Math.min(c,g),Math.min(x,a),Math.max(g,c),Math.max(a,x),n,X,U,e),O&&j(this._eventManager.ghostCtx,c,x,g,a,n,X,U,e),(R[f].indexLabel||L.indexLabel||R[f].indexLabelFormatter||L.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:R[f],dataSeries:L,indexKeyword:0,point:{x:e?R[f].y[1]>=R[f].y[0]?c:g:c+(g-c)/2,y:e?x+(a-x)/2:R[f].y[1]>=R[f].y[0]?a:x},direction:R[f].y[1]>=R[f].y[0]?-1:1,bounds:{x1:e?Math.min(c,g):c,y1:e?x:Math.min(x,a),x2:e?Math.max(c,g):g,y2:e?a:Math.max(x,a)},color:n,axisSwapped:e}),this._indexLabels.push({chartType:"error",dataPoint:R[f],dataSeries:L,indexKeyword:1,point:{x:e?R[f].y[1]>=R[f].y[0]?g:c:c+(g-c)/2,y:e?x+(a-x)/2:R[f].y[1]>=R[f].y[0]?x:a},direction:R[f].y[1]>=R[f].y[0]?1:-1,bounds:{x1:e?Math.min(c,g):c,y1:e?x:Math.min(x,a),x2:e?Math.max(c,g):g,y2:e?a:Math.max(x,a)},color:n,axisSwapped:e}))}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,n=this.plotArea,m=0,h,d,f,v,m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0;var c=t.axisX.dataInfo.minDiff;isFinite(c)||(c=.3*Math.abs(t.axisX.range)),c=this.options.dataPointWidth?this.dataPointWidth:.9*(n.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>h&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<m&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),c<m&&(c=m),c>h&&(c=h),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var x=t.dataSeriesIndexes[g],a=this.data[x],M=a.dataPoints;if(0<M.length){var k=!!(5<c&&a.bevelEnabled);for(i.strokeStyle="#4572A7 ",m=0;m<M.length;m++)if(M[m].getTime?v=M[m].x.getTime():v=M[m].x,!(v<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax)&&!T(M[m].y)&&M[m].y.length&&typeof M[m].y[0]=="number"&&typeof M[m].y[1]=="number"){h=t.axisY.convertValueToPixel(M[m].y[0]),d=t.axisY.convertValueToPixel(M[m].y[1]),f=t.axisX.convertValueToPixel(v),f=t.axisX.reversed?f+t.plotType.totalDataSeries*c/2-(t.previousDataSeriesCount+g)*c<<0:f-t.plotType.totalDataSeries*c/2+(t.previousDataSeriesCount+g)*c<<0;var S=t.axisX.reversed?f-c<<0:f+c<<0;h>d&&(e=h,h=d,d=e),e=M[m].color?M[m].color:a._colorSet[m%a._colorSet.length],ve(i,h,t.axisX.reversed?S:f,d,t.axisX.reversed?f:S,e,0,null,k,!1,!1,!1,a.fillOpacity),e=a.dataPointIds[m],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:m,x1:h,y1:f,x2:d,y2:S},e=F(e),O&&ve(this._eventManager.ghostCtx,h,t.axisX.reversed?S:f,d,t.axisX.reversed?f:S,e,0,null,!1,!1,!1,!1),(M[m].indexLabel||a.indexLabel||M[m].indexLabelFormatter||a.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:M[m],dataSeries:a,indexKeyword:0,point:{x:M[m].y[1]>=M[m].y[0]?h:d,y:f+(S-f)/2},direction:M[m].y[1]>=M[m].y[0]?-1:1,bounds:{x1:Math.min(h,d),y1:f,x2:Math.max(h,d),y2:S},color:e}),this._indexLabels.push({chartType:"rangeBar",dataPoint:M[m],dataSeries:a,indexKeyword:1,point:{x:M[m].y[1]>=M[m].y[0]?d:h,y:f+(S-f)/2},direction:M[m].y[1]>=M[m].y[0]?1:-1,bounds:{x1:Math.min(h,d),y1:f,x2:Math.max(h,d),y2:S},color:e}))}}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}},P.prototype.renderRangeArea=function(t){function o(){if(A){for(var W=null,V=v.length-1;0<=V;V--)W=v[V],e.lineTo(W.x,W.y2),n.lineTo(W.x,W.y2);if(e.closePath(),e.globalAlpha=c.fillOpacity,e.fill(),e.globalAlpha=1,n.fill(),0<c.lineThickness){for(e.beginPath(),e.moveTo(W.x,W.y2),V=0;V<v.length;V++)W=v[V],e.lineTo(W.x,W.y2);for(e.moveTo(v[0].x,v[0].y1),V=0;V<v.length;V++)W=v[V],e.lineTo(W.x,W.y1);e.stroke()}e.beginPath(),e.moveTo(M,k),n.beginPath(),n.moveTo(M,k),A={x:M,y:k},v=[],v.push({x:M,y1:k,y2:S})}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,h=[],d=this.plotArea;e.save(),O&&n.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),O&&(n.beginPath(),n.rect(d.x1,d.y1,d.width,d.height),n.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var v=[],m=t.dataSeriesIndexes[f],c=this.data[m],g=c.dataPoints,h=c.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:m},h=F(h),n.fillStyle=h;var h=[],x=!0,a=0,M,k,S,b,A=null;if(0<g.length){var w=c._colorSet[a%c._colorSet.length],L=c.lineColor=c.options.lineColor||w,R=L;e.fillStyle=w,e.strokeStyle=L,e.lineWidth=c.lineThickness;var B="solid";if(e.setLineDash){var $=ot(c.nullDataLineDashType,c.lineThickness),B=c.lineDashType,J=ot(B,c.lineThickness);e.setLineDash(J)}for(var X=!0;a<g.length;a++)if(b=g[a].x.getTime?g[a].x.getTime():g[a].x,!(b<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!X)))if(g[a].y!==null&&g[a].y.length&&typeof g[a].y[0]=="number"&&typeof g[a].y[1]=="number"){if(M=t.axisX.convertValueToPixel(b),k=t.axisY.convertValueToPixel(g[a].y[0]),S=t.axisY.convertValueToPixel(g[a].y[1]),x||X?(c.connectNullData&&!x?(e.setLineDash&&(c.options.nullDataLineDashType||B===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(v[v.length-1].newLineDashArray=J,B=c.nullDataLineDashType,e.setLineDash($)),e.lineTo(M,k),O&&n.lineTo(M,k),v.push({x:M,y1:k,y2:S})):(e.beginPath(),e.moveTo(M,k),A={x:M,y:k},v=[],v.push({x:M,y1:k,y2:S}),O&&(n.beginPath(),n.moveTo(M,k))),X=x=!1):(e.lineTo(M,k),v.push({x:M,y1:k,y2:S}),O&&n.lineTo(M,k),a%250==0&&o()),b=c.dataPointIds[a],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:a,x1:M,y1:k,y2:S},a<g.length-1&&(R!==(g[a].lineColor||L)||B!==(g[a].lineDashType||c.lineDashType))&&(o(),R=g[a].lineColor||L,v[v.length-1].newStrokeStyle=R,e.strokeStyle=R,e.setLineDash&&(g[a].lineDashType?(B=g[a].lineDashType,v[v.length-1].newLineDashArray=ot(B,c.lineThickness),e.setLineDash(v[v.length-1].newLineDashArray)):(B=c.lineDashType,v[v.length-1].newLineDashArray=J,e.setLineDash(J)))),g[a].markerSize!==0&&(0<g[a].markerSize||0<c.markerSize)){var U=c.getMarkerProperties(a,M,S,e);h.push(U);var N=F(b);O&&h.push({x:M,y:S,ctx:n,type:U.type,size:U.size,color:N,borderColor:N,borderThickness:U.borderThickness}),U=c.getMarkerProperties(a,M,k,e),h.push(U),N=F(b),O&&h.push({x:M,y:k,ctx:n,type:U.type,size:U.size,color:N,borderColor:N,borderThickness:U.borderThickness})}(g[a].indexLabel||c.indexLabel||g[a].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:g[a],dataSeries:c,indexKeyword:0,point:{x:M,y:k},direction:g[a].y[0]>g[a].y[1]===t.axisY.reversed?-1:1,color:w}),this._indexLabels.push({chartType:"rangeArea",dataPoint:g[a],dataSeries:c,indexKeyword:1,point:{x:M,y:S},direction:g[a].y[0]>g[a].y[1]===t.axisY.reversed?1:-1,color:w}))}else X||x||o(),X=!0;o(),oe.drawMarkers(h)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderRangeSplineArea=function(t){function o(U,N){var W=D(k,2);if(0<W.length){if(0<m.lineThickness){e.strokeStyle=N,e.setLineDash&&e.setLineDash(U),e.beginPath(),e.moveTo(W[0].x,W[0].y);for(var V=0;V<W.length-3;V+=3)(W[V].newStrokeStyle||W[V].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[V].x,W[V].y),W[V].newStrokeStyle&&(e.strokeStyle=W[V].newStrokeStyle),W[V].newLineDashArray&&e.setLineDash(W[V].newLineDashArray)),e.bezierCurveTo(W[V+1].x,W[V+1].y,W[V+2].x,W[V+2].y,W[V+3].x,W[V+3].y)}for(e.beginPath(),e.moveTo(W[0].x,W[0].y),O&&(n.beginPath(),n.moveTo(W[0].x,W[0].y)),V=0;V<W.length-3;V+=3)e.bezierCurveTo(W[V+1].x,W[V+1].y,W[V+2].x,W[V+2].y,W[V+3].x,W[V+3].y),O&&n.bezierCurveTo(W[V+1].x,W[V+1].y,W[V+2].x,W[V+2].y,W[V+3].x,W[V+3].y);for(W=D(S,2),e.lineTo(S[S.length-1].x,S[S.length-1].y),V=W.length-1;2<V;V-=3)e.bezierCurveTo(W[V-1].x,W[V-1].y,W[V-2].x,W[V-2].y,W[V-3].x,W[V-3].y),O&&n.bezierCurveTo(W[V-1].x,W[V-1].y,W[V-2].x,W[V-2].y,W[V-3].x,W[V-3].y);if(e.closePath(),e.globalAlpha=m.fillOpacity,e.fill(),O&&(n.closePath(),n.fill()),e.globalAlpha=1,0<m.lineThickness){e.strokeStyle=N,e.setLineDash&&e.setLineDash(U),e.beginPath(),e.moveTo(W[0].x,W[0].y);for(var H=V=0;V<W.length-3;V+=3,H++)(k[H].newStrokeStyle||k[H].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[V].x,W[V].y),k[H].newStrokeStyle&&(e.strokeStyle=k[H].newStrokeStyle),k[H].newLineDashArray&&e.setLineDash(k[H].newLineDashArray)),e.bezierCurveTo(W[V+1].x,W[V+1].y,W[V+2].x,W[V+2].y,W[V+3].x,W[V+3].y);for(W=D(k,2),e.moveTo(W[0].x,W[0].y),H=V=0;V<W.length-3;V+=3,H++)(k[H].newStrokeStyle||k[H].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[V].x,W[V].y),k[H].newStrokeStyle&&(e.strokeStyle=k[H].newStrokeStyle),k[H].newLineDashArray&&e.setLineDash(k[H].newLineDashArray)),e.bezierCurveTo(W[V+1].x,W[V+1].y,W[V+2].x,W[V+2].y,W[V+3].x,W[V+3].y);e.stroke()}e.beginPath()}}var i=t.targetCanvasCtx||this.plotArea.ctx,e=O?this._preRenderCtx:i;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx,h=[],d=this.plotArea;e.save(),O&&n.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),O&&(n.beginPath(),n.rect(d.x1,d.y1,d.width,d.height),n.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var v=t.dataSeriesIndexes[f],m=this.data[v],c=m.dataPoints,h=m.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:v},h=F(h),n.fillStyle=h;var h=[],g=0,x,a,M,k=[],S=[];if(0<c.length){var b=m._colorSet[g%m._colorSet.length],A=m.lineColor=m.options.lineColor||b,w=A;e.fillStyle=b,e.lineWidth=m.lineThickness;var L="solid",R;if(e.setLineDash){var B=ot(m.nullDataLineDashType,m.lineThickness),L=m.lineDashType;R=ot(L,m.lineThickness)}for(a=!1;g<c.length;g++)if(x=c[g].x.getTime?c[g].x.getTime():c[g].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!a)))if(c[g].y!==null&&c[g].y.length&&typeof c[g].y[0]=="number"&&typeof c[g].y[1]=="number"){x=t.axisX.convertValueToPixel(x),a=t.axisY.convertValueToPixel(c[g].y[0]),M=t.axisY.convertValueToPixel(c[g].y[1]);var $=m.dataPointIds[g];if(this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:g,x1:x,y1:a,y2:M},k[k.length]={x,y:a},S[S.length]={x,y:M},g<c.length-1&&(w!==(c[g].lineColor||A)||L!==(c[g].lineDashType||m.lineDashType))&&(w=c[g].lineColor||A,k[k.length-1].newStrokeStyle=w,e.setLineDash&&(c[g].lineDashType?(L=c[g].lineDashType,k[k.length-1].newLineDashArray=ot(L,m.lineThickness)):(L=m.lineDashType,k[k.length-1].newLineDashArray=R))),c[g].markerSize!==0&&(0<c[g].markerSize||0<m.markerSize)){var J=m.getMarkerProperties(g,x,a,e);h.push(J);var X=F($);O&&h.push({x,y:a,ctx:n,type:J.type,size:J.size,color:X,borderColor:X,borderThickness:J.borderThickness}),J=m.getMarkerProperties(g,x,M,e),h.push(J),X=F($),O&&h.push({x,y:M,ctx:n,type:J.type,size:J.size,color:X,borderColor:X,borderThickness:J.borderThickness})}(c[g].indexLabel||m.indexLabel||c[g].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[g],dataSeries:m,indexKeyword:0,point:{x,y:a},direction:c[g].y[0]<=c[g].y[1]?-1:1,color:b}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:c[g],dataSeries:m,indexKeyword:1,point:{x,y:M},direction:c[g].y[0]<=c[g].y[1]?1:-1,color:b})),a=!1}else 0<g&&!a&&(m.connectNullData?e.setLineDash&&0<k.length&&(m.options.nullDataLineDashType||!c[g-1].lineDashType)&&(k[k.length-1].newLineDashArray=B,L=m.nullDataLineDashType):(o(R,A),k=[],S=[])),a=!0;o(R,A),oe.drawMarkers(h)}}return O&&(i.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:i,dest:this.plotArea.ctx,animationCallback:vt.xClipAnimation,easingFunction:vt.easing.linear,animationBase:0}}},P.prototype.renderWaterfall=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,i=O?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx,n=null,h=this.plotArea,g=0,d,f,v,m,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0;var x=t.axisX.dataInfo.minDiff;isFinite(x)||(x=.3*Math.abs(t.axisX.range)),x=this.options.dataPointWidth?this.dataPointWidth:.6*(h.width*(t.axisX.logarithmic?Math.log(x)/Math.log(t.axisX.range):Math.abs(x)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&g>f&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<g&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),x<g&&(x=g),x>f&&(x=f),i.save(),O&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(h.x1,h.y1,h.width,h.height),i.clip(),O&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var a=0;a<t.dataSeriesIndexes.length;a++){var M=t.dataSeriesIndexes[a],k=this.data[M],S=k.dataPoints,n=k._colorSet[0];k.risingColor=k.options.risingColor?k.options.risingColor:n,k.fallingColor=k.options.fallingColor?k.options.fallingColor:"#e40a0a";var b=typeof k.options.lineThickness=="number"?Math.round(k.lineThickness):1,A=Math.round(b)%2===1?-.5:0;if(0<S.length)for(var w=!!(5<x&&k.bevelEnabled),L=!1,R=null,B=null,g=0;g<S.length;g++)if(S[g].getTime?m=S[g].x.getTime():m=S[g].x,typeof S[g].y!="number"){if(0<g&&!L&&k.connectNullData)var $=k.options.nullDataLineDashType||!S[g-1].lineDashType?k.nullDataLineDashType:S[g-1].lineDashType;L=!0}else{d=t.axisX.convertValueToPixel(m),f=k.dataPointEOs[g].cumulativeSum===0?c:t.axisY.convertValueToPixel(k.dataPointEOs[g].cumulativeSum),v=k.dataPointEOs[g].cumulativeSumYStartValue===0?c:t.axisY.convertValueToPixel(k.dataPointEOs[g].cumulativeSumYStartValue),d=t.axisX.reversed?d+t.plotType.totalDataSeries*x/2-(t.previousDataSeriesCount+a)*x<<0:d-t.plotType.totalDataSeries*x/2+(t.previousDataSeriesCount+a)*x<<0;var J=t.axisX.reversed?d-x<<0:d+x<<0;f>v&&(n=f,f=v,v=n),t.axisY.reversed&&(n=f,f=v,v=n),n=k.dataPointIds[g],this._eventManager.objectMap[n]={id:n,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:g,x1:d,y1:f,x2:J,y2:v};var U=S[g].color?S[g].color:0<S[g].y?k.risingColor:k.fallingColor;ve(i,t.axisX.reversed?J:d,t.axisY.reversed?v:f,t.axisX.reversed?d:J,t.axisY.reversed?f:v,U,0,U,w,w,!1,!1,k.fillOpacity),n=F(n),O&&ve(this._eventManager.ghostCtx,t.axisX.reversed?J:d,f,t.axisX.reversed?d:J,v,n,0,null,!1,!1,!1,!1);var X,U=d;X=typeof S[g].isIntermediateSum<"u"&&S[g].isIntermediateSum===!0||typeof S[g].isCumulativeSum<"u"&&S[g].isCumulativeSum===!0?0<S[g].y?f:v:0<S[g].y?v:f,0<g&&R&&(!L||k.connectNullData)&&(L&&i.setLineDash&&i.setLineDash(ot($,b)),i.beginPath(),i.moveTo(R,B-A),i.lineTo(U,X-A),0<b&&i.stroke(),O&&(e.beginPath(),e.moveTo(R,B-A),e.lineTo(U,X-A),0<b&&e.stroke())),L=!1,R=J,B=0<S[g].y?f:v,U=S[g].lineDashType?S[g].lineDashType:k.options.lineDashType?k.options.lineDashType:"shortDash",i.strokeStyle=S[g].lineColor?S[g].lineColor:k.options.lineColor?k.options.lineColor:"#9e9e9e",i.lineWidth=b,i.setLineDash&&(U=ot(U,b),i.setLineDash(U)),(S[g].indexLabel||k.indexLabel||S[g].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:S[g],dataSeries:k,point:{x:d+(J-d)/2,y:0<=S[g].y?f:v},direction:0>S[g].y===t.axisY.reversed?1:-1,bounds:{x1:d,y1:Math.min(f,v),x2:J,y2:Math.max(f,v)},color:n})}}return O&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:vt.fadeInAnimation,easingFunction:vt.easing.easeInQuad,animationBase:0}}};var Ge=function(t,o,i,e,n,h,d,f,v){if(!(0>i)){if(typeof f>"u"&&(f=1),!O){var m=Number((d%(2*Math.PI)).toFixed(8));Number((h%(2*Math.PI)).toFixed(8))===m&&(d-=1e-4)}t.save(),t.globalAlpha=f,n==="pie"?(t.beginPath(),t.moveTo(o.x,o.y),t.arc(o.x,o.y,i,h,d,!1),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):n==="doughnut"&&(t.beginPath(),t.arc(o.x,o.y,i,h,d,!1),0<=v&&t.arc(o.x,o.y,v*i,d,h,!0),t.closePath(),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};P.prototype.renderPie=function(t){function o(){if(m&&c){var X=0,U=0,N=0,W=0;T(m.options.indexLabelMaxWidth)&&(m.indexLabelMaxWidth=.33*x.width);for(var V=0;V<c.length;V++){var H=c[V],q=m.dataPointIds[V];a[V].id=q,a[V].objectType="dataPoint",a[V].dataPointIndex=V,a[V].dataSeriesIndex=0;var E=a[V],Et={percent:null,total:null},Vt=null,Et=v.getPercentAndTotal(m,H);(m.indexLabelFormatter||H.indexLabelFormatter)&&(Vt={chart:v.options,dataSeries:m,dataPoint:H,total:Et.total,percent:Et.percent}),Et=H.indexLabelFormatter?H.indexLabelFormatter(Vt):H.indexLabel?v.replaceKeywordsWithValue(H.indexLabel,H,m,V):m.indexLabelFormatter?m.indexLabelFormatter(Vt):m.indexLabel?v.replaceKeywordsWithValue(m.indexLabel,H,m,V):H.label?H.label:"",v._eventManager.objectMap[q]=E,E.center={x:w.x,y:w.y},E.y=H.y,E.radius=B,E.percentInnerRadius=J,E.indexLabelText=Et,E.indexLabelPlacement=m.indexLabelPlacement,E.indexLabelLineColor=H.indexLabelLineColor?H.indexLabelLineColor:m.options.indexLabelLineColor?m.options.indexLabelLineColor:H.color?H.color:m._colorSet[V%m._colorSet.length],E.indexLabelLineThickness=T(H.indexLabelLineThickness)?m.indexLabelLineThickness:H.indexLabelLineThickness,E.indexLabelLineDashType=H.indexLabelLineDashType?H.indexLabelLineDashType:m.indexLabelLineDashType,E.indexLabelFontColor=H.indexLabelFontColor?H.indexLabelFontColor:m.indexLabelFontColor,E.indexLabelFontStyle=H.indexLabelFontStyle?H.indexLabelFontStyle:m.indexLabelFontStyle,E.indexLabelFontWeight=H.indexLabelFontWeight?H.indexLabelFontWeight:m.indexLabelFontWeight,E.indexLabelFontSize=T(H.indexLabelFontSize)?m.indexLabelFontSize:H.indexLabelFontSize,E.indexLabelFontFamily=H.indexLabelFontFamily?H.indexLabelFontFamily:m.indexLabelFontFamily,E.indexLabelBackgroundColor=H.indexLabelBackgroundColor?H.indexLabelBackgroundColor:m.options.indexLabelBackgroundColor?m.options.indexLabelBackgroundColor:m.indexLabelBackgroundColor,E.indexLabelMaxWidth=H.indexLabelMaxWidth?H.indexLabelMaxWidth:m.indexLabelMaxWidth,E.indexLabelWrap=typeof H.indexLabelWrap<"u"?H.indexLabelWrap:m.indexLabelWrap,E.indexLabelTextAlign=H.indexLabelTextAlign?H.indexLabelTextAlign:m.indexLabelTextAlign?m.indexLabelTextAlign:"left",E.startAngle=V===0?m.startAngle?m.startAngle/180*Math.PI:0:a[V-1].endAngle,E.startAngle=(E.startAngle+2*Math.PI)%(2*Math.PI),E.endAngle=E.startAngle+2*Math.PI/L*Math.abs(H.y),H=(E.endAngle+E.startAngle)/2,H=(H+2*Math.PI)%(2*Math.PI),E.midAngle=H,E.midAngle>Math.PI/2-b&&E.midAngle<Math.PI/2+b?((X===0||a[N].midAngle>E.midAngle)&&(N=V),X++):E.midAngle>3*Math.PI/2-b&&E.midAngle<3*Math.PI/2+b&&((U===0||a[W].midAngle>E.midAngle)&&(W=V),U++),E.hemisphere=H>Math.PI/2&&H<=3*Math.PI/2?"left":"right",E.indexLabelTextBlock=new zt(v.plotArea.ctx,{fontSize:E.indexLabelFontSize,fontFamily:E.indexLabelFontFamily,fontColor:E.indexLabelFontColor,fontStyle:E.indexLabelFontStyle,fontWeight:E.indexLabelFontWeight,textAlign:E.indexLabelTextAlign,backgroundColor:E.indexLabelBackgroundColor,maxWidth:E.indexLabelMaxWidth,maxHeight:E.indexLabelWrap?5*E.indexLabelFontSize:1.5*E.indexLabelFontSize,text:E.indexLabelText,padding:0,textBaseline:"middle"}),E.indexLabelTextBlock.measureText()}for(q=H=0,Et=!1,V=0;V<c.length;V++)E=a[(N+V)%c.length],1<X&&E.midAngle>Math.PI/2-b&&E.midAngle<Math.PI/2+b&&(H<=X/2&&!Et?(E.hemisphere="right",H++):(E.hemisphere="left",Et=!0));for(Et=!1,V=0;V<c.length;V++)E=a[(W+V)%c.length],1<U&&E.midAngle>3*Math.PI/2-b&&E.midAngle<3*Math.PI/2+b&&(q<=U/2&&!Et?(E.hemisphere="left",q++):(E.hemisphere="right",Et=!0))}}function i(X,U){var N=v.plotArea.ctx;for(N.clearRect(x.x1,x.y1,x.width,x.height),N.fillStyle=v.backgroundColor,N.fillRect(x.x1,x.y1,x.width,x.height),N=0;N<c.length;N++){var W=a[N].startAngle,V=a[N].endAngle;if(V>W){var H=.07*B*Math.cos(a[N].midAngle),q=.07*B*Math.sin(a[N].midAngle),E=!1;c[N].exploded?(1e-9<Math.abs(a[N].center.x-(w.x+H))||1e-9<Math.abs(a[N].center.y-(w.y+q)))&&(a[N].center.x=w.x+H*X,a[N].center.y=w.y+q*X,E=!0):(0<Math.abs(a[N].center.x-w.x)||0<Math.abs(a[N].center.y-w.y))&&(a[N].center.x=w.x+H*(1-X),a[N].center.y=w.y+q*(1-X),E=!0),E&&U&&(H={},H.dataSeries=m,H.dataPoint=m.dataPoints[N],H.index=N,v.toolTip.highlightObjects([H])),Ge(v.plotArea.ctx,a[N].center,a[N].radius,c[N].color?c[N].color:m._colorSet[N%m._colorSet.length],m.type,W,V,m.fillOpacity,a[N].percentInnerRadius)}}for(N=v.plotArea.ctx,N.save(),N.fillStyle="black",N.strokeStyle="grey",N.textBaseline="middle",N.lineJoin="round",W=W=0;W<c.length;W++)V=a[W],V.indexLabelText&&(V.indexLabelTextBlock.y-=V.indexLabelTextBlock.height/2-V.indexLabelTextBlock.fontSize/2,H=0,H=V.hemisphere==="left"?m.indexLabelPlacement!=="inside"?-(V.indexLabelTextBlock.width+g):-V.indexLabelTextBlock.width/2:m.indexLabelPlacement!=="inside"?g:-V.indexLabelTextBlock.width/2,V.indexLabelTextBlock.x+=H,V.indexLabelTextBlock.render(!0),V.indexLabelTextBlock.x-=H,V.indexLabelTextBlock.y+=V.indexLabelTextBlock.height/2-V.indexLabelTextBlock.fontSize/2,V.indexLabelPlacement!=="inside"&&0<V.indexLabelLineThickness&&(H=V.center.x+B*Math.cos(V.midAngle),q=V.center.y+B*Math.sin(V.midAngle),N.strokeStyle=V.indexLabelLineColor,N.lineWidth=V.indexLabelLineThickness,N.setLineDash&&N.setLineDash(ot(V.indexLabelLineDashType,V.indexLabelLineThickness)),N.beginPath(),N.moveTo(H,q),N.lineTo(V.indexLabelTextBlock.x,V.indexLabelTextBlock.y),N.lineTo(V.indexLabelTextBlock.x+(V.hemisphere==="left"?-g:g),V.indexLabelTextBlock.y),N.stroke()),N.lineJoin="miter");N.save()}function e(X,U){var N=0,N=X.indexLabelTextBlock.y-X.indexLabelTextBlock.height/2,W=X.indexLabelTextBlock.y+X.indexLabelTextBlock.height/2,V=U.indexLabelTextBlock.y-U.indexLabelTextBlock.height/2,H=U.indexLabelTextBlock.y+U.indexLabelTextBlock.height/2;return N=U.indexLabelTextBlock.y>X.indexLabelTextBlock.y?V-W:N-H}function n(X){for(var U=null,N=1;N<c.length;N++)if(U=(X+N+a.length)%a.length,a[U].hemisphere!==a[X].hemisphere){U=null;break}else{if(a[U].indexLabelText&&U!==X&&(0>e(a[U],a[X])||(a[X].hemisphere==="right"?a[U].indexLabelTextBlock.y>=a[X].indexLabelTextBlock.y:a[U].indexLabelTextBlock.y<=a[X].indexLabelTextBlock.y)))break;U=null}return U}function h(X,U,N){if(N=(N||0)+1,1e3<N)return 0;U=U||0;var W=0,V=w.y-1*k,H=w.y+1*k;if(0<=X&&X<c.length){var q=a[X];if(0>U&&q.indexLabelTextBlock.y<V||0<U&&q.indexLabelTextBlock.y>H)return 0;var E=0,Vt=0,Vt=E=E=0;for(0>U?q.indexLabelTextBlock.y-q.indexLabelTextBlock.height/2>V&&q.indexLabelTextBlock.y-q.indexLabelTextBlock.height/2+U<V&&(U=-(V-(q.indexLabelTextBlock.y-q.indexLabelTextBlock.height/2+U))):q.indexLabelTextBlock.y+q.indexLabelTextBlock.height/2<V&&q.indexLabelTextBlock.y+q.indexLabelTextBlock.height/2+U>H&&(U=q.indexLabelTextBlock.y+q.indexLabelTextBlock.height/2+U-H),U=q.indexLabelTextBlock.y+U,V=0,V=q.hemisphere==="right"?w.x+Math.sqrt(Math.pow(k,2)-Math.pow(U-w.y,2)):w.x-Math.sqrt(Math.pow(k,2)-Math.pow(U-w.y,2)),Vt=w.x+B*Math.cos(q.midAngle),E=w.y+B*Math.sin(q.midAngle),E=Math.sqrt(Math.pow(V-Vt,2)+Math.pow(U-E,2)),Vt=Math.acos(B/k),E=Math.acos((k*k+B*B-E*E)/(2*B*k)),U=E<Vt?U-q.indexLabelTextBlock.y:0,V=null,H=1;H<c.length;H++)if(V=(X-H+a.length)%a.length,a[V].hemisphere!==a[X].hemisphere){V=null;break}else{if(a[V].indexLabelText&&a[V].hemisphere===a[X].hemisphere&&V!==X&&(0>e(a[V],a[X])||(a[X].hemisphere==="right"?a[V].indexLabelTextBlock.y<=a[X].indexLabelTextBlock.y:a[V].indexLabelTextBlock.y>=a[X].indexLabelTextBlock.y)))break;V=null}Vt=V,E=n(X),H=V=0,0>U?(H=q.hemisphere==="right"?Vt:E,W=U,H!==null&&(Vt=-U,U=q.indexLabelTextBlock.y-q.indexLabelTextBlock.height/2-(a[H].indexLabelTextBlock.y+a[H].indexLabelTextBlock.height/2),U-Vt<M&&(V=-Vt,H=h(H,V,N+1),+H.toFixed(A)>+V.toFixed(A)&&(W=U>M?-(U-M):-(Vt-(H-V)))))):0<U&&(H=q.hemisphere==="right"?E:Vt,W=U,H!==null&&(Vt=U,U=a[H].indexLabelTextBlock.y-a[H].indexLabelTextBlock.height/2-(q.indexLabelTextBlock.y+q.indexLabelTextBlock.height/2),U-Vt<M&&(V=Vt,H=h(H,V,N+1),+H.toFixed(A)<+V.toFixed(A)&&(W=U>M?U-M:Vt-(V-H))))),W&&(N=q.indexLabelTextBlock.y+W,U=0,U=q.hemisphere==="right"?w.x+Math.sqrt(Math.pow(k,2)-Math.pow(N-w.y,2)):w.x-Math.sqrt(Math.pow(k,2)-Math.pow(N-w.y,2)),q.midAngle>Math.PI/2-b&&q.midAngle<Math.PI/2+b?(V=(X-1+a.length)%a.length,V=a[V],X=a[(X+1+a.length)%a.length],q.hemisphere==="left"&&V.hemisphere==="right"&&U>V.indexLabelTextBlock.x?U=V.indexLabelTextBlock.x-15:q.hemisphere==="right"&&X.hemisphere==="left"&&U<X.indexLabelTextBlock.x&&(U=X.indexLabelTextBlock.x+15)):q.midAngle>3*Math.PI/2-b&&q.midAngle<3*Math.PI/2+b&&(V=(X-1+a.length)%a.length,V=a[V],X=a[(X+1+a.length)%a.length],q.hemisphere==="right"&&V.hemisphere==="left"&&U<V.indexLabelTextBlock.x?U=V.indexLabelTextBlock.x+15:q.hemisphere==="left"&&X.hemisphere==="right"&&U>X.indexLabelTextBlock.x&&(U=X.indexLabelTextBlock.x-15)),q.indexLabelTextBlock.y=N,q.indexLabelTextBlock.x=U,q.indexLabelAngle=Math.atan2(q.indexLabelTextBlock.y-w.y,q.indexLabelTextBlock.x-w.x))}return W}function d(){var X=v.plotArea.ctx;X.fillStyle="grey",X.strokeStyle="grey",X.font="16px Arial",X.textBaseline="middle";for(var W=X=0,U=0,N=!0,W=0;10>W&&(1>W||0<U);W++){if((m.radius||!m.radius&&typeof m.innerRadius<"u"&&m.innerRadius!==null&&B-U<=$)&&(N=!1),N&&(B-=U),U=0,m.indexLabelPlacement!=="inside"){for(k=B*S,X=0;X<c.length;X++){var V=a[X];V.indexLabelTextBlock.x=w.x+k*Math.cos(V.midAngle),V.indexLabelTextBlock.y=w.y+k*Math.sin(V.midAngle),V.indexLabelAngle=V.midAngle,V.radius=B,V.percentInnerRadius=J}for(var H,q,X=0;X<c.length;X++){var V=a[X],E=n(X);if(E!==null){H=a[X],q=a[E];var Vt=0,Vt=e(H,q)-M;if(0>Vt){for(var Gt=q=0,Et=0;Et<c.length;Et++)Et!==X&&a[Et].hemisphere===V.hemisphere&&(a[Et].indexLabelTextBlock.y<V.indexLabelTextBlock.y?q++:Gt++);q=Vt/(q+Gt||1)*Gt;var Gt=-1*(Vt-q),$t=Et=0;V.hemisphere==="right"?(Et=h(X,q),Gt=-1*(Vt-Et),$t=h(E,Gt),+$t.toFixed(A)<+Gt.toFixed(A)&&+Et.toFixed(A)<=+q.toFixed(A)&&h(X,-(Gt-$t))):(Et=h(E,q),Gt=-1*(Vt-Et),$t=h(X,Gt),+$t.toFixed(A)<+Gt.toFixed(A)&&+Et.toFixed(A)<=+q.toFixed(A)&&h(E,-(Gt-$t)))}}}}else for(X=0;X<c.length;X++)V=a[X],k=m.type==="pie"?.7*B:.85*B,E=w.x+k*Math.cos(V.midAngle),q=w.y+k*Math.sin(V.midAngle),V.indexLabelTextBlock.x=E,V.indexLabelTextBlock.y=q;for(X=0;X<c.length;X++)V=a[X],E=V.indexLabelTextBlock.measureText(),E.height!==0&&E.width!==0&&(E=E=0,V.hemisphere==="right"?(E=x.x2-(V.indexLabelTextBlock.x+V.indexLabelTextBlock.width+g),E*=-1):E=x.x1-(V.indexLabelTextBlock.x-V.indexLabelTextBlock.width-g),0<E&&(!N&&V.indexLabelText&&(q=V.hemisphere==="right"?x.x2-V.indexLabelTextBlock.x:V.indexLabelTextBlock.x-x.x1,.3*V.indexLabelTextBlock.maxWidth>q?V.indexLabelText="":V.indexLabelTextBlock.maxWidth=.85*q,.3*V.indexLabelTextBlock.maxWidth<q&&(V.indexLabelTextBlock.x-=V.hemisphere==="right"?2:-2)),Math.abs(V.indexLabelTextBlock.y-V.indexLabelTextBlock.height/2-w.y)<B||Math.abs(V.indexLabelTextBlock.y+V.indexLabelTextBlock.height/2-w.y)<B)&&(E/=Math.abs(Math.cos(V.indexLabelAngle)),9<E&&(E*=.3),E>U&&(U=E)),E=E=0,0<V.indexLabelAngle&&V.indexLabelAngle<Math.PI?(E=x.y2-(V.indexLabelTextBlock.y+V.indexLabelTextBlock.height/2+5),E*=-1):E=x.y1-(V.indexLabelTextBlock.y-V.indexLabelTextBlock.height/2-5),0<E&&(!N&&V.indexLabelText&&(q=0<V.indexLabelAngle&&V.indexLabelAngle<Math.PI?-1:1,h(X,E*q)===0&&h(X,2*q)),Math.abs(V.indexLabelTextBlock.x-w.x)<B&&(E/=Math.abs(Math.sin(V.indexLabelAngle)),9<E&&(E*=.3),E>U&&(U=E))));var mt=function(xe,Xt,Rt){for(var xt=[],de=0;xt.push(a[Xt]),Xt!==Rt;Xt=(Xt+1+c.length)%c.length);for(xt.sort(function(qe,ke){return qe.y-ke.y}),Xt=0;Xt<xt.length&&(Rt=xt[Xt],de<.7*xe);Xt++)de+=Rt.indexLabelTextBlock.height,Rt.indexLabelTextBlock.text="",Rt.indexLabelText="",Rt.indexLabelTextBlock.measureText()};(function(){for(var xe=-1,Xt=-1,Rt=0,xt=!1,de=0;de<c.length;de++)if(xt=!1,H=a[de],H.indexLabelText){var qe=n(de);if(qe!==null){var ke=a[qe];Vt=0,Vt=e(H,ke);var yi;if(yi=0>Vt){yi=H.indexLabelTextBlock.x;var pi=H.indexLabelTextBlock.y-H.indexLabelTextBlock.height/2,Z=H.indexLabelTextBlock.y+H.indexLabelTextBlock.height/2,En=ke.indexLabelTextBlock.y-ke.indexLabelTextBlock.height/2,_e=ke.indexLabelTextBlock.x+ke.indexLabelTextBlock.width,pn=ke.indexLabelTextBlock.y+ke.indexLabelTextBlock.height/2;yi=!(H.indexLabelTextBlock.x+H.indexLabelTextBlock.width<ke.indexLabelTextBlock.x-g||yi>_e+g||pi>pn+g||Z<En-g)}yi?(0>xe&&(xe=de),qe!==xe&&(Xt=qe,Rt+=-Vt),de%Math.max(c.length/10,3)===0&&(xt=!0)):xt=!0,xt&&0<Rt&&0<=xe&&0<=Xt&&(mt(Rt,xe,Xt),Xt=xe=-1,Rt=0)}}0<Rt&&mt(Rt,xe,Xt)})()}}function f(){if(v.plotArea.layoutManager.reset(),v.title&&(v.title.dockInsidePlotArea||v.title.horizontalAlign==="center"&&v.title.verticalAlign==="center")&&v.title.render(),v.subtitles)for(var X=0;X<v.subtitles.length;X++){var U=v.subtitles[X];(U.dockInsidePlotArea||U.horizontalAlign==="center"&&U.verticalAlign==="center")&&U.render()}v.legend&&(v.legend.dockInsidePlotArea||v.legend.horizontalAlign==="center"&&v.legend.verticalAlign==="center")&&(v.legend.setLayout(),v.legend.render())}var v=this;if(!(0>=t.dataSeriesIndexes.length)){var m=this.data[t.dataSeriesIndexes[0]],c=m.dataPoints,g=10,x=this.plotArea,a=m.dataPointEOs,M=2,k,S=1.3,b=20/180*Math.PI,A=6,w={x:(x.x2+x.x1)/2,y:(x.y2+x.y1)/2},L=0;t=!1;for(var R=0;R<c.length;R++)L+=Math.abs(c[R].y),!t&&typeof c[R].indexLabel<"u"&&c[R].indexLabel!==null&&0<c[R].indexLabel.toString().length&&(t=!0),!t&&typeof c[R].label<"u"&&c[R].label!==null&&0<c[R].label.toString().length&&(t=!0);if(L!==0){t=t||typeof m.indexLabel<"u"&&m.indexLabel!==null&&0<m.indexLabel.toString().length;var B=m.indexLabelPlacement!=="inside"&&t?.75*Math.min(x.width,x.height)/2:.92*Math.min(x.width,x.height)/2;m.radius&&(B=Gi(m.radius,B));var $=typeof m.innerRadius<"u"&&m.innerRadius!==null?Gi(m.innerRadius,B):.7*B;m.radius=B,m.type==="doughnut"&&(m.innerRadius=$);var J=Math.min($/B,(B-1)/B);this.pieDoughnutClickHandler=function(X){v.isAnimating||!T(X.dataSeries.explodeOnClick)&&!X.dataSeries.explodeOnClick||(X=X.dataPoint,X.exploded=!X.exploded,1<this.dataPoints.length&&v._animator.animate(0,500,function(U){i(U,!0),f(),v.dispatchEvent("dataAnimationIterationEnd",{chart:v}),v.dispatchEvent("dataAnimationEnd",{chart:v})}))},o(),d(),d(),d(),d(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(X){var U=v.plotArea.ctx;U.clearRect(x.x1,x.y1,x.width,x.height),U.fillStyle=v.backgroundColor,U.fillRect(x.x1,x.y1,x.width,x.height);for(var U=a[0].startAngle+2*Math.PI*X,N=0;N<c.length;N++){var W=N===0?a[N].startAngle:V,V=W+(a[N].endAngle-a[N].startAngle),H=!1;V>U&&(V=U,H=!0);var q=c[N].color?c[N].color:m._colorSet[N%m._colorSet.length];if(V>W&&Ge(v.plotArea.ctx,a[N].center,a[N].radius,q,m.type,W,V,m.fillOpacity,a[N].percentInnerRadius),H)break}f(),v.dispatchEvent("dataAnimationIterationEnd",{chart:v}),1<=X&&v.dispatchEvent("dataAnimationEnd",{chart:v})},function(){v.disableToolTip=!1,v._animator.animate(0,v.animatedRender?500:0,function(X){i(X,!1),f(),v.dispatchEvent("dataAnimationIterationEnd",{chart:v})}),v.dispatchEvent("dataAnimationEnd",{chart:v})})}}};var Xe=function(t,o,i,e){typeof i>"u"&&(i=1),0>=Math.round(o.y4-o.y1)||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(o.x1),Math.round(o.y1)),t.lineTo(Math.round(o.x2),Math.round(o.y2)),t.lineTo(Math.round(o.x3),Math.round(o.y3)),t.lineTo(Math.round(o.x4),Math.round(o.y4)),o.x5!=="undefined"&&(t.lineTo(Math.round(o.x5),Math.round(o.y5)),t.lineTo(Math.round(o.x6),Math.round(o.y6))),t.closePath(),t.fillStyle=e||o.color,t.fill(),t.globalAplha=1,t.restore())};P.prototype.renderFunnel=function(t){function o(){for(var et=0,tt=[],lt=0;lt<A.length;lt++){if(typeof A[lt].y>"u")return-1;A[lt].y=typeof A[lt].y=="number"?A[lt].y:0,et+=Math.abs(A[lt].y)}if(et===0)return-1;for(lt=tt[0]=0;lt<A.length;lt++)tt.push(Math.abs(A[lt].y)*$/et);return tt}function i(){var et=Et,tt=Gt,lt=mt,te=xe,ht,At;ht=W,At=V-q,te=Math.abs((At-ht)*(tt-et+(te-lt))/2),lt=xe-mt,ht=At-ht,At=lt*(At-V),At=Math.abs(At),At=te+At;for(var te=[],Be=0,le=0;le<A.length;le++){if(typeof A[le].y>"u")return-1;A[le].y=typeof A[le].y=="number"?A[le].y:0,Be+=Math.abs(A[le].y)}if(Be===0)return-1;for(var ie=te[0]=0,pt=0,ce,Se,tt=tt-et,ie=!1,le=0;le<A.length;le++)et=Math.abs(A[le].y)*At/Be,ie?ce=Number(lt.toFixed(3))==0?0:et/lt:(Se=ke*ke*tt*tt-4*Math.abs(ke)*et,0>Se?(Se=lt,ie=(tt+Se)*(ht-pt)/2,et-=ie,ce=ht-pt,pt+=ht-pt,ce+=Se==0?0:et/Se,pt+=et/Se,ie=!0):(ce=(Math.abs(ke)*tt-Math.sqrt(Se))/2,Se=tt-2*ce/Math.abs(ke),pt+=ce,pt>ht&&(pt-=ce,Se=lt,ie=(tt+Se)*(ht-pt)/2,et-=ie,ce=ht-pt,pt+=ht-pt,ce+=et/Se,pt+=et/Se,ie=!0),tt=Se)),te.push(ce);return te}function e(){if(b&&A){for(var et,tt,lt,te,ht,At,Be,le,pt,ce,Se,ie,Mt,Wt,ft,Kt=[],Le=[],Ke={percent:null,total:null},Ee=null,Bt=0;Bt<A.length;Bt++)ft=xt[Bt],ft=typeof ft.x5<"u"?(ft.y2+ft.y4)/2:(ft.y2+ft.y3)/2,ft=a(ft).x2+1,Kt[Bt]=N-ft-Vt;ft=.5*Vt;for(var Bt=0,Ve=A.length-1;Bt<A.length||0<=Ve;Bt++,Ve--)tt=b.reversed?A[Ve]:A[Bt],et=tt.color?tt.color:b.reversed?b._colorSet[(A.length-1-Bt)%b._colorSet.length]:b._colorSet[Bt%b._colorSet.length],lt=tt.indexLabelPlacement||b.indexLabelPlacement||"outside",Wt=tt.indexLabelTextAlign||b.indexLabelTextAlign||"left",te=tt.indexLabelBackgroundColor||b.indexLabelBackgroundColor||(O?"transparent":null),ht=tt.indexLabelFontColor||b.indexLabelFontColor||"#979797",At=T(tt.indexLabelFontSize)?b.indexLabelFontSize:tt.indexLabelFontSize,Be=tt.indexLabelFontStyle||b.indexLabelFontStyle||"normal",le=tt.indexLabelFontFamily||b.indexLabelFontFamily||"arial",pt=tt.indexLabelFontWeight||b.indexLabelFontWeight||"normal",et=tt.indexLabelLineColor||b.options.indexLabelLineColor||et,ce=typeof tt.indexLabelLineThickness=="number"?tt.indexLabelLineThickness:typeof b.indexLabelLineThickness=="number"?b.indexLabelLineThickness:2,Se=tt.indexLabelLineDashType||b.indexLabelLineDashType||"solid",ie=typeof tt.indexLabelWrap<"u"?tt.indexLabelWrap:typeof b.indexLabelWrap<"u"?b.indexLabelWrap:!0,Mt=b.dataPointIds[Bt],S._eventManager.objectMap[Mt]={id:Mt,objectType:"dataPoint",dataPointIndex:Bt,dataSeriesIndex:0,funnelSection:xt[b.reversed?A.length-1-Bt:Bt]},b.indexLabelPlacement==="inside"&&(Kt[Bt]=Bt!==qe?b.reversed?xt[Bt].x2-xt[Bt].x1:xt[Bt].x3-xt[Bt].x4:xt[Bt].x3-xt[Bt].x6,20>Kt[Bt]&&(Kt[Bt]=Bt!==qe&&b.reversed?xt[Bt].x3-xt[Bt].x4:xt[Bt].x2-xt[Bt].x1,Kt[Bt]/=2)),Mt=tt.indexLabelMaxWidth?tt.indexLabelMaxWidth:b.options.indexLabelMaxWidth?b.indexLabelMaxWidth:Kt[Bt],(Mt>Kt[Bt]||0>Mt)&&(Mt=Kt[Bt]),Le[Bt]=b.indexLabelPlacement==="inside"?ie?Math.max(xt[Bt].height,At):1.5*At:!1,Ke=S.getPercentAndTotal(b,tt),(b.indexLabelFormatter||tt.indexLabelFormatter)&&(Ee={chart:S.options,dataSeries:b,dataPoint:tt,total:Ke.total,percent:Ke.percent}),tt=tt.indexLabelFormatter?tt.indexLabelFormatter(Ee):tt.indexLabel?S.replaceKeywordsWithValue(tt.indexLabel,tt,b,Bt):b.indexLabelFormatter?b.indexLabelFormatter(Ee):b.indexLabel?S.replaceKeywordsWithValue(b.indexLabel,tt,b,Bt):tt.label?tt.label:"",0>=ce&&(ce=0),1e3>Mt&&1e3-Mt<ft&&(Mt+=1e3-Mt),T(b.options.indexLabelMaxWidth)&&(b.indexLabelMaxWidth=T(b.indexLabelMaxWidth)?Mt:Math.max(Mt,b.indexLabelMaxWidth)),H.roundRect||y(H),lt=new zt(H,{fontSize:At,fontFamily:le,fontColor:ht,fontStyle:Be,fontWeight:pt,horizontalAlign:lt,textAlign:Wt,backgroundColor:te,maxWidth:Mt,maxHeight:Le[Bt]===!1?ie?4.28571429*At:1.5*At:Le[Bt],text:tt,padding:pi,textBaseline:"middle"}),lt.measureText(),lt.height=lt.height===2*lt.padding?0:lt.height,lt.width=lt.width===2*lt.padding?0:lt.width,Z.push({textBlock:lt,id:b.reversed?Ve:Bt,isDirty:!1,lineColor:et,lineThickness:ce,lineDashType:Se,height:lt.height<lt.maxHeight?lt.height:lt.maxHeight,width:lt.width<lt.maxWidth?lt.width:lt.maxWidth})}}function n(){var et,tt,lt,te,ht,At=[];ht=!1,lt=0;for(var Be,le=N-Gt-Vt/2,le=b.options.indexLabelMaxWidth?b.indexLabelMaxWidth>le?le:b.indexLabelMaxWidth:le,pt=Z.length-1;0<=pt;pt--)Be=A[Z[pt].id],lt=Z[pt],te=lt.textBlock,tt=(et=x(pt)<xt.length?Z[x(pt)]:null)?et.textBlock:null,lt=lt.height,et&&te.y+lt+pi>tt.y&&(ht=!0),lt=Be.indexLabelMaxWidth||le,(lt>le||0>lt)&&(lt=le),At.push(lt);if(ht)for(pt=Z.length-1;0<=pt;pt--)et=xt[pt],Z[pt].textBlock.maxWidth=At[At.length-(pt+1)],Z[pt].textBlock.measureText(),Z[pt].textBlock.height=Z[pt].textBlock.height===2*Z[pt].textBlock.padding?0:Z[pt].textBlock.height,Z[pt].textBlock.width=Z[pt].textBlock.width===2*Z[pt].textBlock.padding?0:Z[pt].textBlock.width,Z[pt].textBlock.x=N-le,lt=Z[pt].textBlock.height<Z[pt].textBlock.maxHeight?Z[pt].textBlock.height:Z[pt].textBlock.maxHeight,ht=Z[pt].textBlock.width<Z[pt].textBlock.maxWidth?Z[pt].textBlock.width:Z[pt].textBlock.maxWidth,Z[pt].height=lt,Z[pt].width=ht,lt=typeof et.x5<"u"?(et.y2+et.y4)/2:(et.y2+et.y3)/2,Z[pt].textBlock.y=lt-Z[pt].height/2,b.reversed?(Z[pt].textBlock.y+Z[pt].height>$t+L&&(Z[pt].textBlock.y=$t+L-Z[pt].height),Z[pt].textBlock.y<Rt-L&&(Z[pt].textBlock.y=Rt-L)):(Z[pt].textBlock.y<$t-L&&(Z[pt].textBlock.y=$t-L),Z[pt].textBlock.y+Z[pt].height>Rt+L&&(Z[pt].textBlock.y=Rt+L-Z[pt].height))}function h(){var et,tt,lt,te;if(b.indexLabelPlacement!=="inside")for(var ht=0;ht<xt.length;ht++)Z[ht].textBlock.text.length==0?Z[ht].isDirty=!0:(et=xt[ht],lt=typeof et.x5<"u"?(et.y2+et.y4)/2:(et.y2+et.y3)/2,tt=b.reversed?typeof et.x5<"u"&&lt>Xt?a(lt).x2+1:(et.x2+et.x3)/2+1:typeof et.x5<"u"?lt<Xt?a(lt).x2+1:(et.x4+et.x3)/2+1:(et.x2+et.x3)/2+1,Z[ht].textBlock.x=tt+Vt,Z[ht].textBlock.y=lt-Z[ht].height/2,b.reversed?(Z[ht].textBlock.y+Z[ht].height>$t+L&&(Z[ht].textBlock.y=$t+L-Z[ht].height),Z[ht].textBlock.y<Rt-L&&(Z[ht].textBlock.y=Rt-L)):(Z[ht].textBlock.y<$t-L&&(Z[ht].textBlock.y=$t-L),Z[ht].textBlock.y+Z[ht].height>Rt+L&&(Z[ht].textBlock.y=Rt+L-Z[ht].height)));else for(ht=0;ht<xt.length;ht++)Z[ht].textBlock.text.length==0?Z[ht].isDirty=!0:(et=xt[ht],tt=et.height,lt=Z[ht].height,te=Z[ht].width,tt>=lt?(tt=ht!=qe?(et.x4+et.x3)/2-te/2:(et.x5+et.x4)/2-te/2,lt=ht!=qe?(et.y1+et.y3)/2-lt/2:(et.y1+et.y4)/2-lt/2,Z[ht].textBlock.x=tt,Z[ht].textBlock.y=lt):Z[ht].isDirty=!0)}function d(){function et(Mt,Wt){var ft;if(0>Mt||Mt>=Z.length)return 0;var Kt,Le=Z[Mt].textBlock;return 0>Wt?(Wt*=-1,Kt=g(Mt),ft=f(Kt,Mt),ft>=Wt?(Le.y-=Wt,Wt):Mt==0?(0<ft&&(Le.y-=ft),ft):(ft+=et(Kt,-(Wt-ft)),0<ft&&(Le.y-=ft),ft)):(Kt=x(Mt),ft=f(Mt,Kt),ft>=Wt?(Le.y+=Wt,Wt):Mt==xt.length-1?(0<ft&&(Le.y+=ft),ft):(ft+=et(Kt,Wt-ft),0<ft&&(Le.y+=ft),ft))}function tt(){var Mt,Wt,ft,Kt,Le=0,Ke;Kt=(V-W+2*L)/ce,Ke=ce;for(var Ee,Bt=1;Bt<Ke;Bt++){ft=Bt*Kt;for(var Ve=Z.length-1;0<=Ve;Ve--)!Z[Ve].isDirty&&Z[Ve].textBlock.y<ft&&Z[Ve].textBlock.y+Z[Ve].height>ft&&(Ee=x(Ve),!(Ee>=Z.length-1)&&Z[Ve].textBlock.y+Z[Ve].height+pi>Z[Ee].textBlock.y&&(Z[Ve].textBlock.y=Z[Ve].textBlock.y+Z[Ve].height-ft>ft-Z[Ve].textBlock.y?ft+1:ft-Z[Ve].height-1))}for(Ee=xt.length-1;0<Ee;Ee--)if(!Z[Ee].isDirty){if(ft=g(Ee),0>ft&&(ft=0,Z[ft].isDirty))break;if(Z[Ee].textBlock.y<Z[ft].textBlock.y+Z[ft].height){for(Wt=Wt||Ee,Kt=Ee,Ke=0;Z[Kt].textBlock.y<Z[ft].textBlock.y+Z[ft].height+pi;){if(Mt=Mt||Z[Kt].textBlock.y+Z[Kt].height,Ke+=Z[Kt].height,Ke+=pi,Kt=ft,0>=Kt){Kt=0,Ke+=Z[Kt].height;break}if(ft=g(Kt),0>ft){Kt=0,Ke+=Z[Kt].height;break}}if(Kt!=Ee){Le=Z[Kt].textBlock.y,Mt-=Le,Mt=Ke-Mt,Le=lt(Mt,Wt,Kt);break}}}return Le}function lt(Mt,Wt,ft){var Kt=[],Le=0,Ke=0;for(Mt=Math.abs(Mt);ft<=Wt;ft++)Kt.push(xt[ft]);for(Kt.sort(function(Ee,Bt){return Ee.height-Bt.height}),ft=0;ft<Kt.length&&(Wt=Kt[ft],Le<Mt);ft++)Ke++,Le+=Z[Wt.id].height+pi,Z[Wt.id].textBlock.text="",Z[Wt.id].indexLabelText="",Z[Wt.id].isDirty=!0,Z[Wt.id].textBlock.measureText();return Ke}for(var te,ht,At,Be,le,pt,ce=1,Se=0;Se<2*ce;Se++){for(var ie=Z.length-1;0<=ie&&(0<=g(ie)&&g(ie),At=Z[ie],Be=At.textBlock,pt=(le=x(ie)<xt.length?Z[x(ie)]:null)?le.textBlock:null,te=+At.height.toFixed(6),ht=+Be.y.toFixed(6),!(!At.isDirty&&le&&ht+te+pi>+pt.y.toFixed(6)&&(te=Be.y+te+pi-pt.y,ht=et(ie,-te),ht<te&&(0<ht&&(te-=ht),ht=et(x(ie),te),ht!=te))));ie--);tt()}}function f(et,tt){return(tt<xt.length?Z[tt].textBlock.y:b.reversed?$t+L:Rt+L)-(0>et?b.reversed?Rt-L:$t-L:Z[et].textBlock.y+Z[et].height+pi)}function v(et,tt,lt){var te,ht,At,Be=[],le=L,pt=[];if(tt!==-1&&(0<=_e.indexOf(tt)?(ht=_e.indexOf(tt),_e.splice(ht,1)):(_e.push(tt),_e=_e.sort(function(ie,Mt){return ie-Mt}))),_e.length===0)Be=pn;else{ht=L*(_e.length!=1||_e[0]!=0&&_e[0]!=xt.length-1?2:1)/m();for(var ce=0;ce<xt.length;ce++){if(_e.length==1&&_e[0]==0){if(ce===0){Be.push(pn[ce]),te=le;continue}}else ce===0&&(te=-1*le);Be.push(pn[ce]+te),(0<=_e.indexOf(ce)||ce<xt.length&&0<=_e.indexOf(ce+1))&&(te+=ht)}}At=function(){for(var ie=[],Mt=0;Mt<xt.length;Mt++)ie.push(Be[Mt]-xt[Mt].y1);return ie}();var Se={startTime:new Date().getTime(),duration:lt||500,easingFunction:function(ie,Mt,Wt,ft){return vt.easing.easeOutQuart(ie,Mt,Wt,ft)},changeSection:function(ie){for(var Mt,Wt,ft=0;ft<xt.length;ft++)Mt=At[ft],Wt=xt[ft],Mt*=ie,typeof pt[ft]>"u"&&(pt[ft]=0),0>pt&&(pt*=-1),Wt.y1+=Mt-pt[ft],Wt.y2+=Mt-pt[ft],Wt.y3+=Mt-pt[ft],Wt.y4+=Mt-pt[ft],Wt.y5&&(Wt.y5+=Mt-pt[ft],Wt.y6+=Mt-pt[ft]),pt[ft]=Mt}};et._animator.animate(0,lt,function(ie){var Mt=et.plotArea.ctx||et.ctx;En=!0,Mt.clearRect(w.x1,w.y1,w.x2-w.x1,w.y2-w.y1),Mt.fillStyle=et.backgroundColor,Mt.fillRect(w.x1,w.y1,w.width,w.height),Se.changeSection(ie,tt);var Wt={};for(Wt.dataSeries=b,Wt.dataPoint=b.reversed?b.dataPoints[A.length-1-tt]:b.dataPoints[tt],Wt.index=b.reversed?A.length-1-tt:tt,et.toolTip.highlightObjects([Wt]),Wt=0;Wt<xt.length;Wt++)Xe(Mt,xt[Wt],b.fillOpacity);k(Mt),X&&(b.indexLabelPlacement!=="inside"?c(Mt):h(),M(Mt)),1<=ie&&(En=!1)},null,vt.easing.easeOutQuart)}function m(){for(var et=0,tt=0;tt<xt.length-1;tt++)(0<=_e.indexOf(tt)||0<=_e.indexOf(tt+1))&&et++;return et}function c(et){for(var tt,lt,te,ht,At=0;At<xt.length;At++)ht=Z[At].lineThickness%2===1?.5:0,lt=((xt[At].y2+xt[At].y4)/2<<0)+ht,tt=a(lt).x2-1,te=Z[At].textBlock.x,ht=(Z[At].textBlock.y+Z[At].height/2<<0)+ht,Z[At].isDirty||Z[At].lineThickness==0||(et.strokeStyle=Z[At].lineColor,et.lineWidth=Z[At].lineThickness,et.setLineDash&&et.setLineDash(ot(Z[At].lineDashType,Z[At].lineThickness)),et.beginPath(),et.moveTo(tt,lt),et.lineTo(te,ht),et.stroke())}function g(et){for(et-=1;-1<=et&&et!=-1&&Z[et].isDirty;et--);return et}function x(et){for(et+=1;et<=xt.length&&et!=xt.length&&Z[et].isDirty;et++);return et}function a(et){for(var tt,lt=0;lt<A.length;lt++)if(xt[lt].y1<et&&xt[lt].y4>et){tt=xt[lt];break}return tt?(et=tt.y6&&et>tt.y6?tt.x3+(tt.x4-tt.x3)/(tt.y4-tt.y3)*(et-tt.y3):tt.x2+(tt.x3-tt.x2)/(tt.y3-tt.y2)*(et-tt.y2),{x1:et,x2:et}):-1}function M(et){for(var tt=0;tt<xt.length;tt++)Z[tt].isDirty||(et&&(Z[tt].textBlock.ctx=et),Z[tt].textBlock.y+=Z[tt].textBlock._lineHeight/2,Z[tt].textBlock.render(!0),Z[tt].textBlock.y-=Z[tt].textBlock._lineHeight/2)}function k(et){if(S.plotArea.layoutManager.reset(),et.roundRect||y(et),S.title&&(S.title.dockInsidePlotArea||S.title.horizontalAlign==="center"&&S.title.verticalAlign==="center")&&(S.title.ctx=et,S.title.render()),S.subtitles)for(var tt=0;tt<S.subtitles.length;tt++){var lt=S.subtitles[tt];(lt.dockInsidePlotArea||lt.horizontalAlign==="center"&&lt.verticalAlign==="center")&&(S.subtitles.ctx=et,lt.render())}S.legend&&(S.legend.dockInsidePlotArea||S.legend.horizontalAlign==="center"&&S.legend.verticalAlign==="center")&&(S.legend.ctx=et,S.legend.setLayout(),S.legend.render()),He.fNg&&He.fNg(S)}var S=this;if(!(0>=t.dataSeriesIndexes.length)){for(var b=this.data[t.dataSeriesIndexes[0]],A=b.dataPoints,w=this.plotArea,L=.025*w.width,R=.01*w.width,B=0,$=w.height-2*L,J=Math.min(w.width-2*R,2.8*w.height),X=!1,U=0;U<A.length;U++)!X&&typeof A[U].indexLabel<"u"&&A[U].indexLabel!==null&&0<A[U].indexLabel.toString().length&&(X=!0),!X&&typeof A[U].label<"u"&&A[U].label!==null&&0<A[U].label.toString().length&&(X=!0),(!X&&typeof b.indexLabelFormatter=="function"||typeof A[U].indexLabelFormatter=="function")&&(X=!0);X=X||typeof b.indexLabel<"u"&&b.indexLabel!==null&&0<b.indexLabel.toString().length,b.indexLabelPlacement!=="inside"&&X||(R=(w.width-.75*J)/2);var U=w.x1+R,N=w.x2-R,W=w.y1+L,V=w.y2-L,H=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(b.length!=0&&b.dataPoints&&b.visible&&A.length!==0){var q,E;t=75*J/100;var Vt=30*(N-t)/100;b.type==="funnel"?(q=T(b.options.neckHeight)?.35*$:b.neckHeight,E=T(b.options.neckWidth)?.25*t:b.neckWidth,typeof q=="string"&&q.match(/%$/)?(q=parseInt(q),q=q*$/100):q=parseInt(q),typeof E=="string"&&E.match(/%$/)?(E=parseInt(E),E=E*t/100):E=parseInt(E),q>$?q=$:0>=q&&(q=0),E>t?E=t-.5:0>=E&&(E=0)):b.type==="pyramid"&&(E=q=0,b.reversed=!b.reversed);var R=U+t/2,Et=U,Gt=U+t,$t=b.reversed?V:W,mt=R-E/2,xe=R+E/2,Xt=b.reversed?W+q:V-q,Rt=b.reversed?W:V;t=[];var R=[],xt=[],J=[],de=W,qe,ke=(Xt-$t)/(mt-Et),yi=-ke,U=(b.valueRepresents?b.valueRepresents:"height")==="area"?i():o();if(U!==-1){if(b.reversed)for(J.push(de),E=U.length-1;0<E;E--)de+=U[E],J.push(de);else for(E=0;E<U.length;E++)de+=U[E],J.push(de);if(b.reversed)for(E=0;E<U.length;E++)J[E]<Xt?(t.push(mt),R.push(xe),qe=E):(t.push((J[E]-$t+ke*Et)/ke),R.push((J[E]-$t+yi*Gt)/yi));else for(E=0;E<U.length;E++)J[E]<Xt?(t.push((J[E]-$t+ke*Et)/ke),R.push((J[E]-$t+yi*Gt)/yi),qe=E):(t.push(mt),R.push(xe));for(E=0;E<U.length-1;E++)de=b.reversed?A[A.length-1-E].color?A[A.length-1-E].color:b._colorSet[(A.length-1-E)%b._colorSet.length]:A[E].color?A[E].color:b._colorSet[E%b._colorSet.length],E===qe?xt.push({x1:t[E],y1:J[E],x2:R[E],y2:J[E],x3:xe,y3:Xt,x4:R[E+1],y4:J[E+1],x5:t[E+1],y5:J[E+1],x6:mt,y6:Xt,id:E,height:J[E+1]-J[E],color:de}):xt.push({x1:t[E],y1:J[E],x2:R[E],y2:J[E],x3:R[E+1],y3:J[E+1],x4:t[E+1],y4:J[E+1],id:E,height:J[E+1]-J[E],color:de});var pi=2,Z=[],En=!1,_e=[],pn=[],U=!1;for(t=t=0,it(_e),E=0;E<A.length;E++)A[E].exploded&&(U=!0,b.reversed?_e.push(A.length-1-E):_e.push(E));if(H.clearRect(w.x1,w.y1,w.width,w.height),H.fillStyle=S.backgroundColor,H.fillRect(w.x1,w.y1,w.width,w.height),X&&b.visible&&(e(),h(),b.indexLabelPlacement!=="inside")){for(n(),d(),E=0;E<A.length;E++)Z[E].isDirty||(t=Z[E].textBlock.x+Z[E].width,t=(N-t)/2,E==0&&(B=t),B>t&&(B=t));for(E=0;E<xt.length;E++)xt[E].x1+=B,xt[E].x2+=B,xt[E].x3+=B,xt[E].x4+=B,xt[E].x5&&(xt[E].x5+=B,xt[E].x6+=B),Z[E].textBlock.x+=B}for(E=0;E<xt.length;E++)B=xt[E],Xe(H,B,b.fillOpacity),pn.push(B.y1);if(k(H),X&&b.visible&&(b.indexLabelPlacement==="inside"||S.animationEnabled||c(H),S.animationEnabled||M()),!X)for(E=0;E<A.length;E++)B=b.dataPointIds[E],t={id:B,objectType:"dataPoint",dataPointIndex:E,dataSeriesIndex:0,funnelSection:xt[b.reversed?A.length-1-E:E]},S._eventManager.objectMap[B]=t;return(!S.animationEnabled&&U||S.animationEnabled&&!S.animatedRender)&&v(S,-1,0),this.funnelPyramidClickHandler=function(ht){var At=-1;!En&&!S.isAnimating&&(T(ht.dataSeries.explodeOnClick)||ht.dataSeries.explodeOnClick)&&(At=b.reversed?A.length-1-ht.dataPointIndex:ht.dataPointIndex,0<=At)&&(ht=At,(b.type==="funnel"||b.type==="pyramid")&&(b.reversed?A[A.length-1-ht].exploded=!A[A.length-1-ht].exploded:A[ht].exploded=!A[ht].exploded),v(S,At,500))},{source:H,dest:this.plotArea.ctx,animationCallback:function(ht,At){vt.fadeInAnimation(ht,At),1<=ht&&(v(S,-1,500),k(S.plotArea.ctx||S.ctx))},easingFunction:vt.easing.easeInQuad,animationBase:0}}}}},P.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),P.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,P.prototype.set=function(t,o,i){i=typeof i>"u"?!0:i,t==="options"?(this.options=o,i&&this.render()):P.base.set.call(this,t,o,i)},P.prototype.exportChart=function(t){t=typeof t>"u"?{}:t;var o=t.format?t.format:"png",i=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+o);var e=this.canvas;if(e&&o&&i){i=i+"."+o,t="image/"+o;var e=e.toDataURL(t),n=!1,h=document.createElement("a");if(h.download=i,h.href=e,typeof Blob<"u"&&new Blob){for(var d=e.replace(/^data:[a-z\/]*;base64,/,""),d=atob(d),f=new ArrayBuffer(d.length),f=new Uint8Array(f),v=0;v<d.length;v++)f[v]=d.charCodeAt(v);o=new Blob([f.buffer],{type:"image/"+o});try{window.navigator.msSaveBlob(o,i),n=!0}catch{h.dataset.downloadurl=[t,h.download,h.href].join(":"),h.href=window.URL.createObjectURL(o)}}if(!n)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),h.dispatchEvent?h.dispatchEvent(event):h.fireEvent&&h.fireEvent("onclick")}catch{o=window.open(),o.document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),o.document.close()}}},P.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),o=document.createElement("iframe");o.setAttribute("class","canvasjs-chart-print-frame"),Ht(o,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),o.style.height=this.height+"px",this._canvasJSContainer.appendChild(o);var i=this,e=o.contentWindow||o.contentDocument.document||o.contentDocument;e.document.open(),e.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+t+'"/><body/></html>'),e.document.body&&e.document.body.style&&(e.document.body.style.margin="0px 0px 0px 0px",e.document.body.style.padding="0px 0px 0px 0px"),e.document.close(),setTimeout(function(){e.focus(),e.print(),setTimeout(function(){i._canvasJSContainer.removeChild(o)},1e3)},500)},P.prototype.getPercentAndTotal=function(t,o){var i=null,e=null,n=i=null;if(0<=t.type.indexOf("stacked"))e=0,i=o.x.getTime?o.x.getTime():o.x,i in t.plotUnit.yTotals&&(e=t.plotUnit.yTotals[i],i=t.plotUnit.yAbsTotals[i],n=isNaN(o.y)||i===0?0:100*(o.y/i));else if(t.type==="pie"||t.type==="doughnut"||t.type==="funnel"||t.type==="pyramid"){for(i=e=0;i<t.dataPoints.length;i++)isNaN(t.dataPoints[i].y)||(e+=t.dataPoints[i].y);n=isNaN(o.y)?0:100*(o.y/e)}return{percent:n,total:e}},P.prototype.replaceKeywordsWithValue=function(t,o,i,e,n){var h=this;if(n=typeof n>"u"?0:n,(0<=i.type.indexOf("stacked")||i.type==="pie"||i.type==="doughnut"||i.type==="funnel"||i.type==="pyramid")&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var v="#percent",f="#total",d=this.getPercentAndTotal(i,o),f=isNaN(d.total)?f:d.total,v=isNaN(d.percent)?v:d.percent;do{if(d="",i.percentFormatString)d=i.percentFormatString;else{var d="#,##0.",m=Math.max(Math.ceil(Math.log(1/Math.abs(v))/Math.LN10),2);(isNaN(m)||!isFinite(m))&&(m=2);for(var c=0;c<m;c++)d+="#";i.percentFormatString=d}t=t.replace("#percent",Ce(v,d,h._cultureInfo)),t=t.replace("#total",Ce(f,i.yValueFormatString?i.yValueFormatString:"#,##0.########",h._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(g){if(g[0]==='"'&&g[g.length-1]==='"'||g[0]==="'"&&g[g.length-1]==="'")return g.slice(1,g.length-1);g=u(g.slice(1,g.length-1)),g=g.replace("#index",n);var x=null;try{var a=g.match(/(.*?)\s*\[\s*(.*?)\s*\]/);a&&0<a.length&&(x=u(a[2]),g=u(a[1]))}catch{}if(a=null,g==="color")return i.type==="waterfall"?o.color?o.color:0<o.y?i.risingColor:i.fallingColor:i.type==="error"?i.color?i.color:i._colorSet[x%i._colorSet.length]:o.color?o.color:i.color?i.color:i._colorSet[e%i._colorSet.length];if(o.hasOwnProperty(g))a=o;else if(i.hasOwnProperty(g))a=i;else return"";return a=a[g],x!==null&&(a=a[x]),g==="x"?(i.axisX&&i.axisX.valueType==="dateTime"||i.xValueType==="dateTime"||o.x&&o.x.getTime)&&!i.axisX.logarithmic?Qi(a,o.xValueFormatString?o.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString=h.axisX&&h.axisX.autoValueFormatString?h.axisX.autoValueFormatString:"DD MMM YY",h._cultureInfo):Ce(a,o.xValueFormatString?o.xValueFormatString:i.xValueFormatString?i.xValueFormatString:i.xValueFormatString="#,##0.########",h._cultureInfo):g==="y"?Ce(a,o.yValueFormatString?o.yValueFormatString:i.yValueFormatString?i.yValueFormatString:i.yValueFormatString="#,##0.########",h._cultureInfo):g==="z"?Ce(a,o.zValueFormatString?o.zValueFormatString:i.zValueFormatString?i.zValueFormatString:i.zValueFormatString="#,##0.########",h._cultureInfo):a})},r(at,re),at.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,o=t.layoutManager.getFreeSpace(),i=null,e=0,n=0,h=0,d=0,f=this.markerMargin=this.chart.options.legend&&!T(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var v=[],m=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",i=this.verticalAlign,h=this.maxWidth=this.maxWidth!==null?this.maxWidth:o.width,d=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*o.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(i=this.horizontalAlign),h=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*o.width,d=this.maxHeight=this.maxHeight!==null?this.maxHeight:o.height),this.errorMarkerColor=[];for(var c=0;c<this.dataSeries.length;c++){var g=this.dataSeries[c];if(g.dataPoints&&g.dataPoints.length)if(g.type!=="pie"&&g.type!=="doughnut"&&g.type!=="funnel"&&g.type!=="pyramid"){var x=g.legendMarkerType=g.legendMarkerType?g.legendMarkerType:g.type!=="line"&&g.type!=="stepLine"&&g.type!=="spline"&&g.type!=="scatter"&&g.type!=="bubble"||!g.markerType?g.type==="error"&&g._linkedSeries?g._linkedSeries.legendMarkerType?g._linkedSeries.legendMarkerType:rt.getDefaultLegendMarker(g._linkedSeries.type):rt.getDefaultLegendMarker(g.type):g.markerType,a=g.legendText?g.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:g,dataPoint:null}):g.name,M=g.legendMarkerColor=g.legendMarkerColor?g.legendMarkerColor:g.markerColor?g.markerColor:g.type==="error"?T(g.whiskerColor)?g._colorSet[0]:g.whiskerColor:g._colorSet[0],k=g.markerSize||g.type!=="line"&&g.type!=="stepLine"&&g.type!=="spline"?.75*this.lineHeight:0,S=g.legendMarkerBorderColor?g.legendMarkerBorderColor:g.markerBorderColor,b=g.legendMarkerBorderThickness?g.legendMarkerBorderThickness:g.markerBorderThickness?Math.max(1,Math.round(.2*k)):0;g.type==="error"&&this.errorMarkerColor.push(M),a=this.chart.replaceKeywordsWithValue(a,g.dataPoints[0],g,c),x={markerType:x,markerColor:M,text:a,textBlock:null,chartType:g.type,markerSize:k,lineColor:g._colorSet[0],dataSeriesIndex:g.index,dataPointIndex:null,markerBorderColor:S,markerBorderThickness:b},v.push(x)}else for(var A=0;A<g.dataPoints.length;A++){var w=g.dataPoints[A],x=w.legendMarkerType?w.legendMarkerType:g.legendMarkerType?g.legendMarkerType:rt.getDefaultLegendMarker(g.type),a=w.legendText?w.legendText:g.legendText?g.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:g,dataPoint:w}):w.name?w.name:"DataPoint: "+(A+1),M=w.legendMarkerColor?w.legendMarkerColor:g.legendMarkerColor?g.legendMarkerColor:w.color?w.color:g.color?g.color:g._colorSet[A%g._colorSet.length],k=.75*this.lineHeight,S=w.legendMarkerBorderColor?w.legendMarkerBorderColor:g.legendMarkerBorderColor?g.legendMarkerBorderColor:w.markerBorderColor?w.markerBorderColor:g.markerBorderColor,b=w.legendMarkerBorderThickness?w.legendMarkerBorderThickness:g.legendMarkerBorderThickness?g.legendMarkerBorderThickness:w.markerBorderThickness||g.markerBorderThickness?Math.max(1,Math.round(.2*k)):0,a=this.chart.replaceKeywordsWithValue(a,w,g,A),x={markerType:x,markerColor:M,text:a,textBlock:null,chartType:g.type,markerSize:k,dataSeriesIndex:c,dataPointIndex:A,markerBorderColor:S,markerBorderThickness:b};(w.showInLegend||g.showInLegend&&w.showInLegend!==!1)&&v.push(x)}}if(this.reversed===!0&&v.reverse(),0<v.length){for(g=null,a=w=A=0,w=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,h):this.itemMaxWidth=Math.min(this.itemWidth,h):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,h):this.itemMaxWidth=h,k=k===0?.75*this.lineHeight:k,w=(this.itemMaxWidth?this.itemMaxWidth:w)-(k+f),c=0;c<v.length;c++)x=v[c],M=w,(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine")&&(M-=2*.1*this.lineHeight),0>=d||typeof d>"u"||0>=M||typeof M>"u"||(this.orientation==="horizontal"?(x.textBlock=new zt(this.ctx,{x:0,y:0,maxWidth:M,maxHeight:this.itemWrap?d:this.lineHeight,angle:0,text:x.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),x.textBlock.measureText(),this.itemWidth!==null&&(x.textBlock.width=this.itemWidth-(k+f+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!g||g.width+Math.round(x.textBlock.width+k+f+(g.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))>h)&&(g={items:[],width:0},m.push(g),this.height+=a,a=0),a=Math.max(a,x.textBlock.height?x.textBlock.height:this.lineHeight),x.textBlock.x=g.width,x.textBlock.y=0,g.width+=Math.round(x.textBlock.width+k+f+(g.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0)),g.items.push(x),this.width=Math.max(g.width,this.width)):(x.textBlock=new zt(this.ctx,{x:0,y:0,maxWidth:w,maxHeight:this.itemWrap===!0?d:1.5*this.fontSize,angle:0,text:x.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),x.textBlock.measureText(),this.itemWidth!==null&&(x.textBlock.width=this.itemWidth-(k+f+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<d-this.lineHeight?(g={items:[],width:0},m.push(g)):(g=m[A],A=(A+1)%m.length),g&&(this.height+=x.textBlock.height?x.textBlock.height:this.lineHeight,x.textBlock.x=g.width,x.textBlock.y=0,g.width+=Math.round(x.textBlock.width+k+f+(g.width===0?0:this.horizontalSpacing)+(x.chartType==="line"||x.chartType==="spline"||x.chartType==="stepLine"?2*.1*this.lineHeight:0)),g.items.push(x),this.width=Math.max(g.width,this.width))));this.height=this.itemWrap===!1?m.length*this.lineHeight:this.height+a,this.height=Math.min(d,this.height),this.width=Math.min(h,this.width)}for(this.verticalAlign==="top"?(n=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y1):this.verticalAlign==="center"?(n=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y1+o.height/2-this.height/2):this.verticalAlign==="bottom"&&(n=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y2-this.height),this.items=v,c=0;c<this.items.length;c++)x=v[c],x.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[x.id]={id:x.id,objectType:"legendItem",legendItemIndex:c,dataSeriesIndex:x.dataSeriesIndex,dataPointIndex:x.dataPointIndex};this.markerSize=k,this.rows=m,0<v.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:n,y1:e,x2:n+this.width,y2:e+this.height}},at.prototype.render=function(){var t=this.bounds.x1,o=this.bounds.y1,i=this.markerMargin,e=this.maxWidth,n=this.maxHeight,h=this.markerSize,d=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,o,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var f=0,v=0;v<d.length;v++){for(var m=d[v],c=0,g=0;g<m.items.length;g++){var x=m.items[g],a=x.textBlock.x+t+(g===0?.2*h:this.horizontalSpacing),M=o+f,k=a;if(this.chart.data[x.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,o,e,Math.max(n-n%this.lineHeight,0)),this.ctx.clip(),(x.chartType==="line"||x.chartType==="stepLine"||x.chartType==="spline")&&(this.ctx.strokeStyle=x.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(a-.1*this.lineHeight,M+this.lineHeight/2),this.ctx.lineTo(a+.85*this.lineHeight,M+this.lineHeight/2),this.ctx.stroke(),k-=.1*this.lineHeight),x.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=h/8,this.ctx.beginPath();var S=a-.08*this.lineHeight+.1*this.lineHeight,b=M+.15*this.lineHeight,A=.7*this.lineHeight,w=A+.02*this.lineHeight;this.ctx.moveTo(S,b),this.ctx.lineTo(S+A,b),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(S+A/2,b),this.ctx.lineTo(S+A/2,b+w),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(S,b+w),this.ctx.lineTo(S+A,b+w),this.ctx.stroke(),this.errorMarkerColor.shift()}oe.drawMarker(a+h/2,M+this.lineHeight/2,this.ctx,x.markerType,x.chartType==="error"||x.chartType==="line"||x.chartType==="spline"?x.markerSize/2:x.markerSize,x.markerColor,x.markerBorderColor,x.markerBorderThickness),x.textBlock.x=a+i+h,(x.chartType==="line"||x.chartType==="stepLine"||x.chartType==="spline")&&(x.textBlock.x+=.1*this.lineHeight),x.textBlock.y=Math.round(M+this.lineHeight/2),x.textBlock.render(!0),this.ctx.restore(),c=0<g?Math.max(c,x.textBlock.height?x.textBlock.height:this.lineHeight):x.textBlock.height?x.textBlock.height:this.lineHeight,this.chart.data[x.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),a=F(x.id),this.ghostCtx.fillStyle=a,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(k,x.textBlock.y-this.lineHeight/2,x.textBlock.x+x.textBlock.width-k,x.textBlock.height?x.textBlock.height:this.lineHeight),x.x1=this.chart._eventManager.objectMap[x.id].x1=k,x.y1=this.chart._eventManager.objectMap[x.id].y1=x.textBlock.y-this.lineHeight/2,x.x2=this.chart._eventManager.objectMap[x.id].x2=x.textBlock.x+x.textBlock.width,x.y2=this.chart._eventManager.objectMap[x.id].y2=x.textBlock.y+(x.textBlock.height?x.textBlock.height:this.lineHeight)-this.lineHeight/2}f+=c}},r(rt,re),rt.prototype.getDefaultAxisPlacement=function(){var t=this.type;return t==="column"||t==="line"||t==="stepLine"||t==="spline"||t==="area"||t==="stepArea"||t==="splineArea"||t==="stackedColumn"||t==="stackedLine"||t==="bubble"||t==="scatter"||t==="stackedArea"||t==="stackedColumn100"||t==="stackedLine100"||t==="stackedArea100"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"normal":t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="rangeBar"?"xySwapped":t==="pie"||t==="doughnut"||t==="funnel"||t==="pyramid"?"none":(t!=="error"&&window.console.log("Unknown Chart Type: "+t),null)},rt.getDefaultLegendMarker=function(t){return t==="column"||t==="stackedColumn"||t==="stackedLine"||t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="bubble"||t==="scatter"||t==="stackedColumn100"||t==="stackedLine100"||t==="stepArea"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeBar"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"square":t==="line"||t==="stepLine"||t==="spline"||t==="pie"||t==="doughnut"?"circle":t==="area"||t==="splineArea"||t==="stackedArea"||t==="stackedArea100"||t==="funnel"||t==="pyramid"?"triangle":t==="error"?"none":(window.console.log("Unknown Chart Type: "+t),null)},rt.prototype.getDataPointAtX=function(t,o){if(!this.dataPoints||this.dataPoints.length===0)return null;var i={dataPoint:null,distance:1/0,index:NaN},e=null,n=0,h=0,d=1,f=1/0,v=0,m=0,c=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),c=1<c?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,c=0<c?Math.min(Math.max((this.dataPoints.length-1)/c*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(h=0<d?c+n:c-n,0<=h&&h<this.dataPoints.length){var e=this.dataPoints[h],g=this.axisX.logarithmic?e.x>t?e.x/t:t/e.x:Math.abs(e.x-t);if(g<i.distance&&(i.dataPoint=e,i.distance=g,i.index=h),e=g,e<=f?f=e:0<d?v++:m++,1e3<v&&1e3<m)break}else if(0>c-n&&c+n>=this.dataPoints.length)break;d===-1?(n++,d=1):d=-1}return o||(i.dataPoint.x.getTime?i.dataPoint.x.getTime():i.dataPoint.x)!==(t.getTime?t.getTime():t)?o&&i.dataPoint!==null?i:null:i},rt.prototype.getDataPointAtXY=function(t,o,i){if(!this.dataPoints||this.dataPoints.length===0||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||o<this.chart.plotArea.y1||o>this.chart.plotArea.y2)return null;i=i||!1;var e=[],n=0,h=0,d=1,f=!1,v=1/0,m=0,c=0,x=0;if(this.chart.plotInfo.axisPlacement!=="none")if(x=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:o}),this.axisX.logarithmic)var g=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),x=1<g?Math.min(Math.max((this.dataPoints.length-1)/g*Math.log(x/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else g=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,x=0<g?Math.min(Math.max((this.dataPoints.length-1)/g*(x-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(h=0<d?x+n:x-n,0<=h&&h<this.dataPoints.length){var g=this.chart._eventManager.objectMap[this.dataPointIds[h]],a=this.dataPoints[h],M=null;if(g){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=g.x1&&t<=g.x2&&o>=g.y1&&o<=g.y2&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(g.x1-t),Math.abs(g.x2-t),Math.abs(g.y1-o),Math.abs(g.y2-o))}),f=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var k=yt("markerSize",a,this)||4,S=i?20:k,M=Math.sqrt(Math.pow(g.x1-t,2)+Math.pow(g.y1-o,2));M<=S&&e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:M}),g=Math.abs(g.x1-t),g<=v?v=g:0<d?m++:c++,M<=k/2&&(f=!0);break;case"rangeArea":case"rangeSplineArea":k=yt("markerSize",a,this)||4,S=i?20:k,M=Math.min(Math.sqrt(Math.pow(g.x1-t,2)+Math.pow(g.y1-o,2)),Math.sqrt(Math.pow(g.x1-t,2)+Math.pow(g.y2-o,2))),M<=S&&e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:M}),g=Math.abs(g.x1-t),g<=v?v=g:0<d?m++:c++,M<=k/2&&(f=!0);break;case"bubble":k=g.size,M=Math.sqrt(Math.pow(g.x1-t,2)+Math.pow(g.y1-o,2)),M<=k/2&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:M}),f=!0);break;case"pie":case"doughnut":k=g.center,S=this.type==="doughnut"?g.percentInnerRadius*g.radius:0,M=Math.sqrt(Math.pow(k.x-t,2)+Math.pow(k.y-o,2)),M<g.radius&&M>S&&(M=Math.atan2(o-k.y,t-k.x),0>M&&(M+=2*Math.PI),M=Number(((180*(M/Math.PI)%360+360)%360).toFixed(12)),k=Number(((180*(g.startAngle/Math.PI)%360+360)%360).toFixed(12)),S=Number(((180*(g.endAngle/Math.PI)%360+360)%360).toFixed(12)),S===0&&1<g.endAngle&&(S=360),k>=S&&a.y!==0&&!T(a.y)&&(S+=360,M<k&&(M+=360)),M>k&&M<S&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:0}),f=!0));break;case"funnel":case"pyramid":M=g.funnelSection,o>M.y1&&o<M.y4&&(M.y6?o>M.y6?(h=M.x6+(M.x5-M.x6)/(M.y5-M.y6)*(o-M.y6),M=M.x3+(M.x4-M.x3)/(M.y4-M.y3)*(o-M.y3)):(h=M.x1+(M.x6-M.x1)/(M.y6-M.y1)*(o-M.y1),M=M.x2+(M.x3-M.x2)/(M.y3-M.y2)*(o-M.y2)):(h=M.x1+(M.x4-M.x1)/(M.y4-M.y1)*(o-M.y1),M=M.x2+(M.x3-M.x2)/(M.y3-M.y2)*(o-M.y2)),t>h&&t<M&&(e.push({dataPoint:a,dataPointIndex:g.dataPointIndex,dataSeries:this,distance:0}),f=!0));break;case"boxAndWhisker":(t>=g.x1-g.borderThickness/2&&t<=g.x2+g.borderThickness/2&&o>=g.y4-g.borderThickness/2&&o<=g.y1+g.borderThickness/2||Math.abs(g.x2-t+g.x1-t)<g.borderThickness&&o>=g.y1&&o<=g.y4)&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(g.x1-t),Math.abs(g.x2-t),Math.abs(g.y2-o),Math.abs(g.y3-o))}),f=!0);break;case"candlestick":(t>=g.x1-g.borderThickness/2&&t<=g.x2+g.borderThickness/2&&o>=g.y2-g.borderThickness/2&&o<=g.y3+g.borderThickness/2||Math.abs(g.x2-t+g.x1-t)<g.borderThickness&&o>=g.y1&&o<=g.y4)&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(g.x1-t),Math.abs(g.x2-t),Math.abs(g.y2-o),Math.abs(g.y3-o))}),f=!0);break;case"ohlc":(Math.abs(g.x2-t+g.x1-t)<g.borderThickness&&o>=g.y2&&o<=g.y3||t>=g.x1&&t<=(g.x2+g.x1)/2&&o>=g.y1-g.borderThickness/2&&o<=g.y1+g.borderThickness/2||t>=(g.x1+g.x2)/2&&t<=g.x2&&o>=g.y4-g.borderThickness/2&&o<=g.y4+g.borderThickness/2)&&(e.push({dataPoint:a,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(g.x1-t),Math.abs(g.x2-t),Math.abs(g.y2-o),Math.abs(g.y3-o))}),f=!0)}if(f||1e3<m&&1e3<c)break}}else if(0>x-n&&x+n>=this.dataPoints.length)break;d===-1?(n++,d=1):d=-1}for(t=null,o=0;o<e.length;o++)t?e[o].distance<=t.distance&&(t=e[o]):t=e[o];return t},rt.prototype.getMarkerProperties=function(t,o,i,e){var n=this.dataPoints,h=n[t].markerColor?n[t].markerColor:this.markerColor?this.markerColor:n[t].color?n[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],d=n[t].markerBorderColor?n[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,f=T(n[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:n[t].markerBorderThickness,v=n[t].markerType?n[t].markerType:this.markerType;return t=T(n[t].markerSize)?this.markerSize:n[t].markerSize,{x:o,y:i,ctx:e,type:v,size:t,color:h,borderColor:d,borderThickness:f}},r(G,re),G.prototype.createExtraLabelsForLog=function(t){if(t=(t||0)+1,!(5<t)){var o=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(o/this.viewportMinimum)<this.noTicks-1){for(var i=G.getNiceNumber((o-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),e=Math.ceil(this.viewportMinimum/i)*i;e<o;e+=i)e<this.viewportMinimum||this.logLabelValues.push(e);this.logLabelValues.sort(_),this.createExtraLabelsForLog(t)}}},G.prototype.createLabels=function(){var t,o,i=0,d=0,e,n=0,h=0,d=0,d=this.interval,f=0,v,m=.6*this.chart.height,c;t=!1;var g=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],x=g.length?T(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(e=this.viewportMaximum,this.labels){t=Math.ceil(d);for(var d=Math.ceil(this.intervalStartPosition),a=!1,i=d;i<this.viewportMaximum;i+=t)if(this.labels[i])a=!0;else{a=!1;break}a&&(this.interval=t,this.intervalStartPosition=d)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),d=0,a=x;d<this.logLabelValues.length;d++)if(i=this.logLabelValues[d],i<this.viewportMinimum)d++;else{for(;a<g.length&&i>g[a].endValue;a++);t=a<g.length&&i>=g[a].startValue&&i<=g[a].endValue,c=i,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:c,label:this.labels[c]?this.labels[c]:null}):this.type==="axisX"&&this.labels[c]?this.labels[c]:Ce(c,this.valueFormatString,this.chart._cultureInfo),t=new zt(this.ctx,{x:0,y:0,maxWidth:n,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:c,textBlock:t,effectiveHeight:null}))}for(a=x,i=this.intervalStartPosition;i<=e;i=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval:(this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval).toFixed(12))){for(;a<g.length&&i>g[a].endValue;a++);t=a<g.length&&i>=g[a].startValue&&i<=g[a].endValue,c=i,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:c,label:this.labels[c]?this.labels[c]:null}):this.type==="axisX"&&this.labels[c]?this.labels[c]:Ce(c,this.valueFormatString,this.chart._cultureInfo),t=new zt(this.ctx,{x:0,y:0,maxWidth:n,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:c,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),e=p(new Date(this.viewportMaximum),this.interval,this.intervalType),a=x,i=this.intervalStartPosition;i<e;p(i,d,this.intervalType)){for(t=i.getTime();a<g.length&&t>g[a].endValue;a++);c=t,t=a<g.length&&t>=g[a].startValue&&t<=g[a].endValue,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(c),label:this.labels[c]?this.labels[c]:null}):this.type==="axisX"&&this.labels[c]?this.labels[c]:Qi(c,this.valueFormatString,this.chart._cultureInfo),t=new zt(this.ctx,{x:0,y:0,maxWidth:n,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:c,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(f=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*It[this.intervalType+"Duration"]*this.interval,n=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(h=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):(this._position==="left"||this._position==="right")&&(f=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*It[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(n=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),h=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),d=0;d<this._labels.length;d++){t=this._labels[d].textBlock,t.maxWidth=n,t.maxHeight=h;var M=t.measureText();v=M.height}if(e=[],x=g=0,this.labelAutoFit||this.options.labelAutoFit){if(T(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(n=.9*f>>0,x=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){t=this._labels[i].textBlock;for(var k,a=t.text.split(" "),d=0;d<a.length;d++)c=a[d],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,c=this.ctx.measureText(c),c.width>x&&(k=i,x=c.width)}for(i=0,i=this.intervalStartPosition<this.viewportMinimum?1:0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){for(t=this._labels[i].textBlock,M=t.measureText(),a=i+1;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){o=this._labels[a].textBlock,o=o.measureText();break}if(e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d=n*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),T(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:Math.min((d-n*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),c=(m-(v+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!T(this.options.labelWrap))this.labelWrap?T(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(n,x),c),this.sessionVariables.labelWrap=this.labelWrap,o&&M.width+o.width>>0>2*n&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>n?-25:this.sessionVariables.labelAngle):T(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=n,o&&M.width+o.width>>0>2*n&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=c)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>n?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=this.labelWrap);else if(T(this.options.labelWrap)){if(!T(this.options.labelMaxWidth))this.options.labelMaxWidth<n?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h);else if(!T(o)){if(d=M.width+o.width>>0,a=this.labelFontSize,x<n)d-2*n>g&&(g=d-2*n,d>=2*n&&d<2.2*n?(this.sessionVariables.labelMaxWidth=n,T(this.options.labelFontSize)&&12<a&&(a=Math.floor(12/13*a),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?a:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=2.2*n&&d<2.8*n?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelFontSize=a):d>=2.8*n&&d<3.2*n?(this.sessionVariables.labelMaxWidth=Math.max(n,x),this.sessionVariables.labelWrap=!0,T(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?a:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=3.2*n&&d<3.6*n?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*n&&d<5*n?(T(this.options.labelFontSize)&&12<a&&(a=Math.floor(12/13*a),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?a:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=c):d>5*n&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelFontSize=a,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle));else if(k===i&&(k===0&&x+this._labels[k+1].textBlock.measureText().width-2*n>g||k===this._labels.length-1&&x+this._labels[k-1].textBlock.measureText().width-2*n>g||0<k&&k<this._labels.length-1&&x+this._labels[k+1].textBlock.measureText().width-2*n>g&&x+this._labels[k-1].textBlock.measureText().width-2*n>g))g=k===0?x+this._labels[k+1].textBlock.measureText().width-2*n:x+this._labels[k-1].textBlock.measureText().width-2*n,this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?a:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=c;else if(g===0)for(this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?a:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(n,x),c),M=t.measureText(),d<this._labels.length-1&&(a=d+1,o=this._labels[a].textBlock,o.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(n,x),c),o=o.measureText(),M.width+o.width>>0>2*n&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:Math.min((d-n*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),c=this.labelAngle!=0?(m-(v+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):n,this.sessionVariables.labelMaxHeight=this.labelWrap?(m-c*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,T(this.options.labelWrap)?T(this.options.labelWrap)&&(this.labelWrap&&!T(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:c,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=c,this.sessionVariables.labelMaxHeight=d<.9*f?.9*f:d,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:c):(T(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:c,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=h)}for(d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(i=0;i<this._labels.length;i++)t=this._labels[i].textBlock,t.maxWidth=this.labelMaxWidth=T(this.options.labelMaxWidth)?T(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=n:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=T(this.options.labelFontSize)?T(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=T(this.options.labelAngle)?T(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=T(this.options.labelWrap)?T(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=T(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=h:this.sessionVariables.labelMaxHeight,t.measureText();else if(this._position==="left"||this._position==="right")if(n=T(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,h=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=T(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){for(t=this._labels[i].textBlock,M=t.measureText(),a=i+1;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){o=this._labels[a].textBlock,o=o.measureText();break}e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),d=n*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),T(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?T(this.options.labelWrap)?T(this.options.labelWrap)&&(T(this.options.labelMaxWidth)?T(o)||(f=M.height+o.height>>0,f-2*h>x&&(x=f-2*h,f>=2*h&&f<2.4*h?(T(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):f>=2.4*h&&f<2.8*h?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):f>=2.8*h&&f<3.2*h?(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=!0,T(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=T(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):f>=3.2*h&&f<3.6*h?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):f>3.6*h&&f<10*h?(T(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=T(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):f>10*h&&f<50*h&&(T(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=T(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=n,this.sessionVariables.labelAngle=T(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:n,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?n:Math.min((d-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),h),T(this.options.labelWrap)?T(this.options.labelWrap)&&(this.labelWrap&&!T(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:n,this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:d,T(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:d,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=n):(this.sessionVariables.labelMaxHeight=h,T(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(i=0;i<this._labels.length;i++)t=this._labels[i].textBlock,t.maxWidth=this.labelMaxWidth=T(this.options.labelMaxWidth)?T(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=n:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=T(this.options.labelFontSize)?T(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=T(this.options.labelAngle)?T(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=T(this.options.labelWrap)?T(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=T(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=h:this.sessionVariables.labelMaxHeight,t.measureText()}for(i=0;i<this.stripLines.length;i++){var n=this.stripLines[i],S;n.labelPlacement==="outside"?(h=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(T(n.options.labelWrap)&&!T(this.sessionVariables.stripLineLabelMaxHeight)?S=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=S=n.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),(this._position==="left"||this._position==="right")&&(T(n.options.labelWrap)&&!T(this.sessionVariables.stripLineLabelMaxHeight)?S=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=S=n.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),T(n.labelBackgroundColor)&&(n.labelBackgroundColor="#EEEEEE")):(h=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,S=T(n.options.labelWrap)||n.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,T(n.labelBackgroundColor)&&(T(n.startValue)&&n.startValue!==0?n.labelBackgroundColor=O?"transparent":null:n.labelBackgroundColor="#EEEEEE")),t=new zt(this.ctx,{x:0,y:0,backgroundColor:n.labelBackgroundColor,borderColor:n.labelBorderColor,borderThickness:n.labelBorderThickness,cornerRadius:n.labelCornerRadius,maxWidth:n.options.labelMaxWidth?n.options.labelMaxWidth:h,maxHeight:S,angle:this.labelAngle,text:n.labelFormatter?n.labelFormatter({chart:this.chart,axis:this,stripLine:n}):n.label,textAlign:this.labelTextAlign,fontSize:n.labelPlacement==="outside"?n.options.labelFontSize?n.labelFontSize:this.labelFontSize:n.labelFontSize,fontFamily:n.labelPlacement==="outside"?n.options.labelFontFamily?n.labelFontFamily:this.labelFontFamily:n.labelFontFamily,fontWeight:n.labelPlacement==="outside"?n.options.labelFontWeight?n.labelFontWeight:this.labelFontWeight:n.labelFontWeight,fontColor:n.labelFontColor||n.color,fontStyle:n.labelPlacement==="outside"?n.options.labelFontStyle?n.labelFontStyle:this.fontWeight:n.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:n.value,textBlock:t,effectiveHeight:null,stripLine:n})}},G.prototype.createLabelsAndCalculateWidth=function(){var t=0,o=0;this._labels=[],this._stripLineLabels=[];var i=this.chart.isNavigator?0:5;if(this._position==="left"||this._position==="right"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(o=0;o<this._labels.length;o++){var e=this._labels[o].textBlock,n=e.measureText(),h=0,h=this.labelAngle===0?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle));t<h&&(this.labelEffectiveWidth=t=h),this._labels[o].effectiveWidth=h}for(o=0;o<this._stripLineLabels.length;o++)this._stripLineLabels[o].stripLine.labelPlacement==="outside"&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(e=this._stripLineLabels[o].textBlock,n=e.measureText(),h=this.labelAngle===0?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(n.height-e.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(h+=this.tickLength),this.labelPlacement==="inside"&&(t+=0<this._index?h:0),t<h&&(t=h),this.stripLineLabelEffectiveWidth=this._stripLineLabels[o].effectiveWidth=h)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+i},G.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var o,i=0,e=this.chart.isNavigator?0:5;if(this._position==="bottom"||this._position==="top"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(i=0;i<this._labels.length;i++){o=this._labels[i].textBlock;var n=o.measureText(),h=0,h=this.labelAngle===0?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle));t<h&&(this.labelEffectiveHeight=t=h),this._labels[i].effectiveHeight=h}for(i=0;i<this._stripLineLabels.length;i++)this._stripLineLabels[i].stripLine.labelPlacement==="outside"&&this._stripLineLabels[i].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[i].stripLine.value<=this.viewportMaximum&&(o=this._stripLineLabels[i].textBlock,n=o.measureText(),h=this.labelAngle===0?n.height:n.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n.height-o.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(h+=this.tickLength),this.labelPlacement==="inside"&&(t+=0<this._index?h:0),t<h&&(t=h),this.stripLineLabelEffectiveHeight=this._stripLineLabels[i].effectiveHeight=h)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+e},G.setLayout=function(t,o,i,e,n,h){var d,f,v,m,c=t[0]?t[0].chart:o[0].chart,g=c.isNavigator?0:10,x=c._axes;if(t&&0<t.length)for(var a=0;a<t.length;a++)t[a]&&t[a].calculateAxisParameters();if(o&&0<o.length)for(a=0;a<o.length;a++)o[a].calculateAxisParameters();if(i&&0<i.length)for(a=0;a<i.length;a++)i[a].calculateAxisParameters();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateAxisParameters();for(a=0;a<x.length;a++)if(x[a]&&x[a].scaleBreaks&&x[a].scaleBreaks._appliedBreaks.length)for(var M=x[a].scaleBreaks._appliedBreaks,k=0;k<M.length&&!(M[k].startValue>x[a].viewportMaximum);k++)M[k].endValue<x[a].viewportMinimum||(T(x[a].scaleBreaks.firstBreakIndex)&&(x[a].scaleBreaks.firstBreakIndex=k),M[k].startValue>=x[a].viewPortMinimum&&(x[a].scaleBreaks.lastBreakIndex=k));for(var S=k=0,b=0,A=0,w=0,L=0,R=0,B,$,J=f=0,X,U,N,M=X=U=N=!1,a=0;a<x.length;a++)x[a]&&x[a].title&&(x[a]._titleTextBlock=new zt(x[a].ctx,{text:x[a].title,horizontalAlign:"center",fontSize:x[a].titleFontSize,fontFamily:x[a].titleFontFamily,fontWeight:x[a].titleFontWeight,fontColor:x[a].titleFontColor,fontStyle:x[a].titleFontStyle,borderColor:x[a].titleBorderColor,borderThickness:x[a].titleBorderThickness,backgroundColor:x[a].titleBackgroundColor,cornerRadius:x[a].titleCornerRadius,textBaseline:"middle"}));for(a=0;a<x.length;a++)if(x[a].title)switch(x[a]._position){case"left":x[a]._titleTextBlock.maxWidth=x[a].titleMaxWidth||h.height,x[a]._titleTextBlock.maxHeight=x[a].titleWrap?.8*h.width:1.5*x[a].titleFontSize,x[a]._titleTextBlock.angle=-90;break;case"right":x[a]._titleTextBlock.maxWidth=x[a].titleMaxWidth||h.height,x[a]._titleTextBlock.maxHeight=x[a].titleWrap?.8*h.width:1.5*x[a].titleFontSize,x[a]._titleTextBlock.angle=90;break;default:x[a]._titleTextBlock.maxWidth=x[a].titleMaxWidth||h.width,x[a]._titleTextBlock.maxHeight=x[a].titleWrap?.8*h.height:1.5*x[a].titleFontSize,x[a]._titleTextBlock.angle=0}if(n==="normal"){for(var A=[],w=[],L=[],R=[],W=[],V=[],H=[],q=[];4>k;){var E=0,Vt=0,Et=0,Gt=0,$t=n=0,mt=0,xe=0,Xt=0,Rt=0,xt=0,de=0;if(i&&0<i.length)for(L=[],a=xt=0;a<i.length;a++)L.push(Math.ceil(i[a]?i[a].createLabelsAndCalculateWidth():0)),xt+=L[a],mt+=i[a]&&!c.isNavigator?i[a].margin:0;else L.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(H.push(L),e&&0<e.length)for(R=[],a=de=0;a<e.length;a++)R.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateWidth():0)),de+=R[a],xe+=e[a]?e[a].margin:0;else R.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(q.push(R),d=Math.round(h.x1+xt+mt),v=Math.round(h.x2-de-xe>c.width-g?c.width-g:h.x2-de-xe),t&&0<t.length)for(A=[],a=Xt=0;a<t.length;a++)t[a]&&(t[a].lineCoordinates={}),t[a].lineCoordinates.width=Math.abs(v-d),t[a].title&&(t[a]._titleTextBlock.maxWidth=0<t[a].titleMaxWidth&&t[a].titleMaxWidth<t[a].lineCoordinates.width?t[a].titleMaxWidth:t[a].lineCoordinates.width),A.push(Math.ceil(t[a]?t[a].createLabelsAndCalculateHeight():0)),Xt+=A[a],n+=t[a]&&!c.isNavigator?t[a].margin:0;else A.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(W.push(A),o&&0<o.length)for(w=[],a=Rt=0;a<o.length;a++)o[a]&&(o[a].lineCoordinates={}),o[a].lineCoordinates.width=Math.abs(v-d),o[a].title&&(o[a]._titleTextBlock.maxWidth=0<o[a].titleMaxWidth&&o[a].titleMaxWidth<o[a].lineCoordinates.width?o[a].titleMaxWidth:o[a].lineCoordinates.width),w.push(Math.ceil(o[a]?o[a].createLabelsAndCalculateHeight():0)),Rt+=w[a],$t+=o[a]&&!c.isNavigator?o[a].margin:0;else w.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(V.push(w),t&&0<t.length)for(a=0;a<t.length;a++)t[a]&&(t[a].lineCoordinates.x1=d,v=Math.round(h.x2-de-xe>c.width-g?c.width-g:h.x2-de-xe),t[a]._labels&&1<t[a]._labels.length&&(f=m=0,m=t[a]._labels[1],f=t[a].valueType==="dateTime"?t[a]._labels[t[a]._labels.length-2]:t[a]._labels[t[a]._labels.length-1],S=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),b=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle))),!t[a]||!t[a].labelAutoFit||T(B)||T($)||c.isNavigator||c.stockChart||(f=0,0<t[a].labelAngle?$+b>v&&(f+=0<t[a].labelAngle?$+b-v-de:0):0>t[a].labelAngle?B-S<d&&B-S<t[a].viewportMinimum&&(J=d-(mt+t[a].tickLength+L+B-S+t[a].labelFontSize/2)):t[a].labelAngle===0&&($+b>v&&(f=$+b/2-v-de),B-S<d&&B-S<t[a].viewportMinimum&&(J=d-mt-t[a].tickLength-L-B+S/2)),t[a].viewportMaximum===t[a].maximum&&t[a].viewportMinimum===t[a].minimum&&0<t[a].labelAngle&&0<f?v-=f:t[a].viewportMaximum===t[a].maximum&&t[a].viewportMinimum===t[a].minimum&&0>t[a].labelAngle&&0<J?d+=J:t[a].viewportMaximum===t[a].maximum&&t[a].viewportMinimum===t[a].minimum&&t[a].labelAngle===0&&(0<J&&(d+=J),0<f&&(v-=f))),c.panEnabled?Xt=T(c.sessionVariables.axisX.height)?c.sessionVariables.axisX.height=Xt:c.sessionVariables.axisX.height:c.sessionVariables.axisX.height=Xt,f=Math.round(h.y2-Xt-n+E),m=Math.round(h.y2),t[a].lineCoordinates.x2=v,t[a].lineCoordinates.width=v-d,t[a].lineCoordinates.y1=f,t[a].lineCoordinates.y2=f,t[a].labelPlacement==="inside"&&0<a&&(t[a].lineCoordinates.y1=t[a-1].lineCoordinates.y2+E+(t[a].labelEffectiveHeight||0),t[a].lineCoordinates.y2=t[a].lineCoordinates.y1+t[a].lineThickness/2),t[a].tickPlacement==="inside"&&0<a&&(t[a].lineCoordinates.y1+=t[a].tickLength,t[a].lineCoordinates.y2=t[a].lineCoordinates.y1+t[a].lineThickness/2),t[a].bounds={x1:d,y1:f,x2:v,y2:m-(Xt+n-A[a]-E),width:v-d},t[a].bounds.height=t[a].bounds.y2-t[a].bounds.y1),E+=A[a]+t[a].margin;if(o&&0<o.length)for(a=0;a<o.length;a++)o[a].lineCoordinates.x1=Math.round(h.x1+xt+mt),o[a].lineCoordinates.x2=Math.round(h.x2-de-xe>c.width-g?c.width-g:h.x2-de-xe),o[a].lineCoordinates.width=Math.abs(v-d),o[a]._labels&&1<o[a]._labels.length&&(m=o[a]._labels[1],f=o[a].valueType==="dateTime"?o[a]._labels[o[a]._labels.length-2]:o[a]._labels[o[a]._labels.length-1],S=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),b=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle))),c.panEnabled?Rt=T(c.sessionVariables.axisX2.height)?c.sessionVariables.axisX2.height=Rt:c.sessionVariables.axisX2.height:c.sessionVariables.axisX2.height=Rt,f=Math.round(h.y1),m=o[a].lineCoordinates.y1=f+Rt+$t-Vt,o[a].lineCoordinates.y2=f,o[a].labelPlacement==="inside"&&0<a&&(o[a].lineCoordinates.y1=o[a-1].lineCoordinates.y1-Vt-(o[a].labelEffectiveHeight||0)),o[a].tickPlacement==="inside"&&0<a&&(o[a].lineCoordinates.y1-=o[a].tickLength),o[a].bounds={x1:d,y1:f+(Rt+$t-w[a]-Vt),x2:v,y2:m,width:v-d},o[a].bounds.height=o[a].bounds.y2-o[a].bounds.y1,Vt+=w[a]+o[a].margin;if(i&&0<i.length)for(a=0;a<i.length;a++)mt=c.isNavigator?0:10,i[a]&&(d=Math.round(t[0]?t[0].lineCoordinates.x1:o[0].lineCoordinates.x1),mt=i[a]._labels&&0<i[a]._labels.length?i[a]._labels[i[a]._labels.length-1].textBlock.height/2:g,f=Math.round(h.y1+Rt+$t<Math.max(mt,g)?Math.max(mt,g):h.y1+Rt+$t),v=Math.round(t[0]?t[0].lineCoordinates.x1:o[0].lineCoordinates.x1),mt=0<t.length?0:i[a]._labels&&0<i[a]._labels.length?i[a]._labels[0].textBlock.height/2:g,m=Math.round(h.y2-Xt-n-mt),i[a].lineCoordinates={x1:d-Et,y1:f,x2:v-Et,y2:m,height:Math.abs(m-f)},i[a].labelPlacement==="inside"&&0<a&&(i[a].lineCoordinates.x1=i[a-1].lineCoordinates.x1-Et-(i[a].labelEffectiveWidth||0),i[a].lineCoordinates.x2=i[a].lineCoordinates.x1+i[a].lineThickness/2),i[a].tickPlacement==="inside"&&0<a&&(i[a].lineCoordinates.x1-=i[a].tickLength,i[a].lineCoordinates.x2=i[a].lineCoordinates.x1+i[a].lineThickness/2),i[a].bounds={x1:d-(L[a]+Et),y1:f,x2:v-Et,y2:m,height:m-f},i[a].bounds.width=i[a].bounds.x2-i[a].bounds.x1,i[a].title&&(i[a]._titleTextBlock.maxWidth=0<i[a].titleMaxWidth&&i[a].titleMaxWidth<i[a].lineCoordinates.height?i[a].titleMaxWidth:i[a].lineCoordinates.height),Et+=L[a]+i[a].margin);if(e&&0<e.length)for(a=0;a<e.length;a++)e[a]&&(d=Math.round(t[0]?t[0].lineCoordinates.x2:o[0].lineCoordinates.x2),v=Math.round(d),mt=e[a]._labels&&0<e[a]._labels.length?e[a]._labels[e[a]._labels.length-1].textBlock.height/2:0,f=Math.round(h.y1+Rt+$t<Math.max(mt,g)?Math.max(mt,g):h.y1+Rt+$t),mt=0<t.length?0:e[a]._labels&&0<e[a]._labels.length?e[a]._labels[0].textBlock.height/2:0,m=Math.round(h.y2-(Xt+n+mt)),e[a].lineCoordinates={x1:d+Gt,y1:f,x2:d+Gt,y2:m,height:Math.abs(m-f)},e[a].labelPlacement==="inside"&&0<a&&(e[a].lineCoordinates.x1=e[a-1].lineCoordinates.x2+Gt+(e[a].labelEffectiveWidth||0),e[a].lineCoordinates.x2=e[a].lineCoordinates.x1+e[a].lineThickness/2),e[a].tickPlacement==="inside"&&0<a&&(e[a].lineCoordinates.x1+=e[a].tickLength,e[a].lineCoordinates.x2=e[a].lineCoordinates.x1+e[a].lineThickness/2),e[a].bounds={x1:d+Gt,y1:f,x2:v+(R[a]+Gt),y2:m,height:m-f},e[a].bounds.width=e[a].bounds.x2-e[a].bounds.x1,e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.height?e[a].titleMaxWidth:e[a].lineCoordinates.height),Gt+=R[a]+e[a].margin);if(t&&0<t.length)for(a=0;a<t.length;a++)t[a]&&(t[a].calculateValueToPixelConversionParameters(),t[a].calculateBreaksSizeInValues(),t[a]._labels&&1<t[a]._labels.length&&(B=(t[a].logarithmic?Math.log(t[a]._labels[1].position/t[a].viewportMinimum)/t[a].conversionParameters.lnLogarithmBase:t[a]._labels[1].position-t[a].viewportMinimum)*Math.abs(t[a].conversionParameters.pixelPerUnit)+t[a].lineCoordinates.x1,d=t[a]._labels[t[a]._labels.length-(t[a].valueType==="dateTime"?2:1)].position,d=t[a].getApparentDifference(t[a].viewportMinimum,d),$=t[a].logarithmic?(1<d?Math.log(d)/t[a].conversionParameters.lnLogarithmBase*Math.abs(t[a].conversionParameters.pixelPerUnit):0)+t[a].lineCoordinates.x1:(0<d?d*Math.abs(t[a].conversionParameters.pixelPerUnit):0)+t[a].lineCoordinates.x1));if(o&&0<o.length)for(a=0;a<o.length;a++)o[a].calculateValueToPixelConversionParameters(),o[a].calculateBreaksSizeInValues(),o[a]._labels&&1<o[a]._labels.length&&(B=(o[a].logarithmic?Math.log(o[a]._labels[1].position/o[a].viewportMinimum)/o[a].conversionParameters.lnLogarithmBase:o[a]._labels[1].position-o[a].viewportMinimum)*Math.abs(o[a].conversionParameters.pixelPerUnit)+o[a].lineCoordinates.x1,d=o[a]._labels[o[a]._labels.length-(o[a].valueType==="dateTime"?2:1)].position,d=o[a].getApparentDifference(o[a].viewportMinimum,d),$=o[a].logarithmic?(1<d?Math.log(d)/o[a].conversionParameters.lnLogarithmBase*Math.abs(o[a].conversionParameters.pixelPerUnit):0)+o[a].lineCoordinates.x1:(0<d?d*Math.abs(o[a].conversionParameters.pixelPerUnit):0)+o[a].lineCoordinates.x1);for(a=0;a<x.length;a++)x[a].type==="axisY"&&(x[a].calculateValueToPixelConversionParameters(),x[a].calculateBreaksSizeInValues());if(0<k){if(t&&0<t.length)for(a=0;a<t.length;a++)M=W[k-1][a]===W[k][a];else M=!0;if(o&&0<o.length)for(a=0;a<o.length;a++)X=V[k-1][a]===V[k][a];else X=!0;if(i&&0<i.length)for(a=0;a<i.length;a++)U=H[k-1][a]===H[k][a];else U=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)N=q[k-1][a]===q[k][a];else N=!0}if(M&&X&&U&&N)break;k++}if(t&&0<t.length)for(a=0;a<t.length;a++)t[a].calculateStripLinesThicknessInValues(),t[a].calculateBreaksInPixels();if(o&&0<o.length)for(a=0;a<o.length;a++)o[a].calculateStripLinesThicknessInValues(),o[a].calculateBreaksInPixels();if(i&&0<i.length)for(a=0;a<i.length;a++)i[a].calculateStripLinesThicknessInValues(),i[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels()}else{for(g=[],B=[],J=[],S=[],$=[],b=[],W=[],V=[];4>k;){if(Xt=Gt=Et=xe=mt=$t=n=q=H=E=Rt=0,t&&0<t.length)for(J=[],a=Gt=0;a<t.length;a++)J.push(Math.ceil(t[a]?t[a].createLabelsAndCalculateWidth():0)),Gt+=J[a],n+=t[a]&&!c.isNavigator?t[a].margin:0;else J.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(W.push(J),o&&0<o.length)for(S=[],a=Xt=0;a<o.length;a++)S.push(Math.ceil(o[a]?o[a].createLabelsAndCalculateWidth():0)),Xt+=S[a],$t+=o[a]?o[a].margin:0;else S.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(V.push(S),i&&0<i.length)for(a=0;a<i.length;a++)i[a].lineCoordinates={},d=Math.round(h.x1+Gt+n),v=Math.round(h.x2-Xt-$t>c.width-10?c.width-10:h.x2-Xt-$t),i[a].labelAutoFit&&!T(A)&&(0<!t.length&&(d=0>i[a].labelAngle?Math.max(d,A):i[a].labelAngle===0?Math.max(d,A/2):d),0<!o.length&&(v=0<i[a].labelAngle||i[a].labelAngle===0?v-w/2:v)),i[a].lineCoordinates.x1=d,i[a].lineCoordinates.x2=v,i[a].lineCoordinates.width=Math.abs(v-d),i[a].title&&(i[a]._titleTextBlock.maxWidth=0<i[a].titleMaxWidth&&i[a].titleMaxWidth<i[a].lineCoordinates.width?i[a].titleMaxWidth:i[a].lineCoordinates.width);if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].lineCoordinates={},d=Math.round(h.x1+Gt+n),v=Math.round(h.x2-Xt-$t>e[a].chart.width-10?e[a].chart.width-10:h.x2-Xt-$t),e[a]&&e[a].labelAutoFit&&!T(L)&&(0<!t.length&&(d=0<e[a].labelAngle?Math.max(d,L):e[a].labelAngle===0?Math.max(d,L/2):d),0<!o.length&&(v-=R/2)),e[a].lineCoordinates.x1=d,e[a].lineCoordinates.x2=v,e[a].lineCoordinates.width=Math.abs(v-d),e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.width?e[a].titleMaxWidth:e[a].lineCoordinates.width);if(i&&0<i.length)for(g=[],a=Et=0;a<i.length;a++)g.push(Math.ceil(i[a]?i[a].createLabelsAndCalculateHeight():0)),Et+=g[a]+i[a].margin,mt+=i[a].margin;else g.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if($.push(g),e&&0<e.length)for(B=[],a=0;a<e.length;a++)B.push(Math.ceil(e[a]?e[a].createLabelsAndCalculateHeight():0)),xe+=e[a].margin;else B.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(b.push(B),i&&0<i.length)for(a=0;a<i.length;a++)0<i[a]._labels.length&&(m=i[a]._labels[0],f=i[a]._labels[i[a]._labels.length-1],A=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),w=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)));if(e&&0<e.length)for(a=0;a<e.length;a++)e[a]&&0<e[a]._labels.length&&(m=e[a]._labels[0],f=e[a]._labels[e[a]._labels.length-1],L=m.textBlock.width*Math.cos(Math.PI/180*Math.abs(m.textBlock.angle))+(m.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(m.textBlock.angle)),R=f.textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-f.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)));if(c.panEnabled)for(a=0;a<i.length;a++)g[a]=T(c.sessionVariables.axisY[a].height)?c.sessionVariables.axisY[a].height=g[a]:c.sessionVariables.axisY[a].height;else for(a=0;a<i.length;a++)c.sessionVariables.axisY[a].height=g[a];if(i&&0<i.length)for(a=i.length-1;0<=a;a--)f=Math.round(h.y2),m=Math.round(h.y2>i[a].chart.height?i[a].chart.height:h.y2),i[a].lineCoordinates.y1=f-(g[a]+i[a].margin+Rt),i[a].lineCoordinates.y2=f-(g[a]+i[a].margin+Rt),i[a].labelPlacement==="inside"&&0<a&&(i[a].lineCoordinates.y1=i[a].lineCoordinates.y1+g[a]-(i[a]._titleTextBlock?i[a]._titleTextBlock.height:0)-i[a].tickLength-(i[a].stripLineLabelEffectiveHeight||0)-5,i[a].lineCoordinates.y2=i[a].lineCoordinates.y1+i[a].lineThickness/2),i[a].tickPlacement==="inside"&&0<a&&(i[a].lineCoordinates.y1+=i[a].tickLength,i[a].lineCoordinates.y2=i[a].lineCoordinates.y1+i[a].lineThickness/2),i[a].bounds={x1:d,y1:f-(g[a]+Rt+i[a].margin),x2:v,y2:m-(Rt+i[a].margin),width:v-d,height:g[a]},i[a].title&&(i[a]._titleTextBlock.maxWidth=0<i[a].titleMaxWidth&&i[a].titleMaxWidth<i[a].lineCoordinates.width?i[a].titleMaxWidth:i[a].lineCoordinates.width),Rt+=g[a]+i[a].margin;if(e&&0<e.length)for(a=e.length-1;0<=a;a--)e[a]&&(f=Math.round(h.y1),m=Math.round(h.y1+(B[a]+e[a].margin+E)),e[a].lineCoordinates.y1=m,e[a].lineCoordinates.y2=m,e[a].labelPlacement==="inside"&&0<a&&(e[a].lineCoordinates.y1=m-B[a]+(e[a]._titleTextBlock?e[a]._titleTextBlock.height:0)+e[a].tickLength+(e[a].stripLineLabelEffectiveHeight||0),e[a].lineCoordinates.y2=e[a].lineCoordinates.y1-e[a].lineThickness/2),e[a].tickPlacement==="inside"&&0<a&&(e[a].lineCoordinates.y1-=e[a].tickLength,e[a].lineCoordinates.y2=e[a].lineCoordinates.y1-e[a].lineThickness/2),e[a].bounds={x1:d,y1:f+(e[a].margin+E),x2:v,y2:m,width:v-d},e[a].bounds.height=e[a].bounds.y2-e[a].bounds.y1,e[a].title&&(e[a]._titleTextBlock.maxWidth=0<e[a].titleMaxWidth&&e[a].titleMaxWidth<e[a].lineCoordinates.width?e[a].titleMaxWidth:e[a].lineCoordinates.width),E+=B[a]+e[a].margin);if(t&&0<t.length)for(a=0;a<t.length;a++){if(mt=t[a]._labels&&0<t[a]._labels.length?t[a]._labels[0].textBlock.fontSize/2:0,d=Math.round(h.x1+n),f=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:h.y1<Math.max(mt,10)?Math.max(mt,10):h.y1):h.y1<Math.max(mt,10)?Math.max(mt,10):h.y1,v=Math.round(h.x1+Gt+n),m=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:h.y2-Et>c.height-Math.max(mt,10)?c.height-Math.max(mt,10):h.y2-Et):h.y2>c.height-Math.max(mt,10)?c.height-Math.max(mt,10):h.y2,i&&0<i.length)for(mt=0;mt<i.length;mt++)i[mt]&&i[mt].labelAutoFit&&(v=i[mt].lineCoordinates.x1,d=0>i[mt].labelAngle||i[mt].labelAngle===0?v-Gt:d);if(e&&0<e.length)for(mt=0;mt<e.length;mt++)e[mt]&&e[mt].labelAutoFit&&(v=e[mt].lineCoordinates.x1,d=v-Gt);t[a].lineCoordinates={x1:v-H,y1:f,x2:v-H,y2:m,height:Math.abs(m-f)},t[a].labelPlacement==="inside"&&0<a&&(t[a].lineCoordinates.x1=t[a].lineCoordinates.x1-(J[a]-(t[a]._titleTextBlock?t[a]._titleTextBlock.height:0))+t[a].tickLength+(t[a].stripLineLabelEffectiveWidth||0),t[a].lineCoordinates.x2=t[a].lineCoordinates.x1+t[a].lineThickness/2),t[a].tickPlacement==="inside"&&0<a&&(t[a].lineCoordinates.x1-=t[a].tickLength,t[a].lineCoordinates.x2=t[a].lineCoordinates.x1+t[a].lineThickness/2),t[a].bounds={x1:v-(J[a]+H),y1:f,x2:v-H,y2:m,height:m-f},t[a].bounds.width=t[a].bounds.x2-t[a].bounds.x1,t[a].title&&(t[a]._titleTextBlock.maxWidth=0<t[a].titleMaxWidth&&t[a].titleMaxWidth<t[a].lineCoordinates.height?t[a].titleMaxWidth:t[a].lineCoordinates.height),t[a].calculateValueToPixelConversionParameters(),t[a].calculateBreaksSizeInValues(),H+=J[a]+t[a].margin}if(o&&0<o.length)for(a=0;a<o.length;a++){if(mt=o[a]._labels&&0<o[a]._labels.length?o[a]._labels[0].textBlock.fontSize/2:0,d=Math.round(h.x1-n),f=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:h.y1<Math.max(mt,10)?Math.max(mt,10):h.y1):h.y1<Math.max(mt,10)?Math.max(mt,10):h.y1,v=Math.round(h.x2-Xt-$t),m=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:h.y2-Et>c.height-Math.max(mt,10)?c.height-Math.max(mt,10):h.y2-Et):h.y2>c.height-Math.max(mt,10)?c.height-Math.max(mt,10):h.y2,i&&0<i.length)for(mt=0;mt<i.length;mt++)i[mt]&&i[mt].labelAutoFit&&(v=0>i[mt].labelAngle?Math.max(v,A):i[mt].labelAngle===0?Math.max(v,A/2):v,d=0>i[mt].labelAngle||i[mt].labelAngle===0?v-Xt:d);if(e&&0<e.length)for(mt=0;mt<e.length;mt++)e[mt]&&e[mt].labelAutoFit&&(v=e[mt].lineCoordinates.x2,d=v-Xt);o[a].lineCoordinates={x1:v+q,y1:f,x2:v+q,y2:m,height:Math.abs(m-f)},o[a].labelPlacement==="inside"&&0<a&&(o[a].lineCoordinates.x1=o[a].lineCoordinates.x1+(S[a]-(o[a]._titleTextBlock?o[a]._titleTextBlock.height:0)-2)-o[a].tickLength-(o[a].stripLineLabelEffectiveWidth||0),o[a].lineCoordinates.x2=o[a].lineCoordinates.x1+o[a].lineThickness/2),o[a].tickPlacement==="inside"&&0<a&&(o[a].lineCoordinates.x1+=o[a].tickLength,o[a].lineCoordinates.x2=o[a].lineCoordinates.x1+o[a].lineThickness/2),o[a].bounds={x1:o[a].lineCoordinates.x1,y1:f,x2:v+S[a]+q,y2:m,width:v-d,height:m-f},o[a].bounds.width=o[a].bounds.x2-o[a].bounds.x1,o[a].title&&(o[a]._titleTextBlock.maxWidth=0<o[a].titleMaxWidth&&o[a].titleMaxWidth<o[a].lineCoordinates.height?o[a].titleMaxWidth:o[a].lineCoordinates.height),o[a].calculateValueToPixelConversionParameters(),o[a].calculateBreaksSizeInValues(),q+=S[a]+o[a].margin}for(a=0;a<x.length;a++)x[a].type==="axisY"&&(x[a].calculateValueToPixelConversionParameters(),x[a].calculateBreaksSizeInValues());if(0<k){if(t&&0<t.length)for(a=0;a<t.length;a++)M=W[k-1][a]===W[k][a];else M=!0;if(o&&0<o.length)for(a=0;a<o.length;a++)X=V[k-1][a]===V[k][a];else X=!0;if(i&&0<i.length)for(a=0;a<i.length;a++)U=$[k-1][a]===$[k][a];else U=!0;if(e&&0<e.length)for(a=0;a<e.length;a++)N=b[k-1][a]===b[k][a];else N=!0}if(M&&X&&U&&N)break;k++}if(i&&0<i.length)for(a=0;a<i.length;a++)i[a].calculateStripLinesThicknessInValues(),i[a].calculateBreaksInPixels();if(e&&0<e.length)for(a=0;a<e.length;a++)e[a].calculateStripLinesThicknessInValues(),e[a].calculateBreaksInPixels();if(t&&0<t.length)for(a=0;a<t.length;a++)t[a].calculateStripLinesThicknessInValues(),t[a].calculateBreaksInPixels();if(o&&0<o.length)for(a=0;a<o.length;a++)o[a].calculateStripLinesThicknessInValues(),o[a].calculateBreaksInPixels()}},G.render=function(t,o,i,e,n){var h=t[0]?t[0].chart:o[0].chart;if(n=h.ctx,h.alignVerticalAxes&&h.alignVerticalAxes(),n.save(),n.beginPath(),t&&t.length&&n.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[t.length-1].bounds.y2),o&&o.length&&n.rect(5,o[o.length-1].bounds.y1,o[0].chart.width-10,o[0].bounds.y2),n.clip(),t&&0<t.length)for(var d=0;d<t.length;d++)t[d].renderLabelsTicksAndTitle();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderLabelsTicksAndTitle();if(n.restore(),i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderLabelsTicksAndTitle();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderLabelsTicksAndTitle();if(h.preparePlotArea(),h=h.plotArea,n.save(),n.beginPath(),n.rect(h.x1,h.y1,Math.abs(h.x2-h.x1),Math.abs(h.y2-h.y1)),n.clip(),t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderInterlacedColors();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderInterlacedColors();if(i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderInterlacedColors();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderInterlacedColors();if(n.restore(),t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderGrid(),O&&(t[d].createMask(),t[d].renderBreaksBackground());if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderGrid(),O&&(o[d].createMask(),o[d].renderBreaksBackground());if(i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderGrid(),O&&(i[d].createMask(),i[d].renderBreaksBackground());if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderGrid(),O&&(e[d].createMask(),e[d].renderBreaksBackground());if(t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderAxisLine();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderAxisLine();if(i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderAxisLine();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderAxisLine();if(t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderStripLinesOfThicknessType("pixel");if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(d=0;d<i.length;d++)i[d].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderStripLinesOfThicknessType("pixel")},G.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(this.stripLines[t].startValue!==null&&this.stripLines[t].endValue!==null){var o=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),i=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),e=this.getApparentDifference(o,i);this.stripLines[t].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(o)+this.convertValueToPixel(i))/2),this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},G.prototype.calculateBreaksSizeInValues=function(){for(var t=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),e=this.scaleBreaks&&!T(this.scaleBreaks.options.spacing),n,h=0;h<o.length;h++)n=e||!T(o[h].options.spacing),o[h].spacing=Gi(o[h].spacing,t,8,n?.1*t:8,n?0:3)<<0,o[h].size=0>o[h].spacing?0:Math.abs(o[h].spacing/i),this.logarithmic&&(o[h].size=Math.pow(this.logarithmBase,o[h].size))},G.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var o=0;o<t.length&&!(t[o].startValue>this.conversionParameters.maximum);o++)t[o].endValue<this.conversionParameters.minimum||(T(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=o),t[o].startValue>=this.conversionParameters.minimum&&(t[o].startPixel=this.convertValueToPixel(t[o].startValue),this.scaleBreaks.lastBreakIndex=o),t[o].endValue<=this.conversionParameters.maximum&&(t[o].endPixel=this.convertValueToPixel(t[o].endValue)))}},G.prototype.renderLabelsTicksAndTitle=function(){var t=this,o=!1,i=0,e=0,n=1,h=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(n=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var i=[],n=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,d,f=this.viewportMaximum,v=this.lineCoordinates.width/Math.log(this.range),c=this._labels.length-1;0<=c&&(g=this._labels[c],!(g.position<this.viewportMinimum));c--)g.position>this.viewportMaximum||!(c===this._labels.length-1||d<Math.log(f/g.position)*v/n)||(i.push(g),f=g.position,d=g.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+g.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||(d=g.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+g.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),i+=d);i>this.lineCoordinates.width*n&&this.labelAutoFit&&(o=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var i=[],m,f=this.viewportMaximum,v=this.lineCoordinates.height/Math.log(this.range),c=this._labels.length-1;0<=c&&(g=this._labels[c],!(g.position<this.viewportMinimum));c--)g.position>this.viewportMaximum||!(c===this._labels.length-1||m<Math.log(f/g.position)*v)||(i.push(g),f=g.position,m=g.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+g.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=i}else{for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||(m=g.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+g.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),e+=m);e>this.lineCoordinates.height*n&&this.labelAutoFit&&(o=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(a,M){return a.position-M.position});var c=0,g,x;if(this._position==="bottom"){for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||g.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(g.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,x.y<<0),this.ctx.lineTo(e,x.y+this.tickLength<<0),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(g.textBlock.angle===0?(x.x-=g.textBlock.width/2,x.y=this.labelPlacement==="inside"?x.y-((this.tickPlacement==="inside"?this.tickLength:0)+g.textBlock.height-g.textBlock.fontSize/2):x.y+(this.tickPlacement==="inside"?0:this.tickLength)+g.textBlock.fontSize/2+5):(x.x=this.labelPlacement==="inside"?0>this.labelAngle?x.x:x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):x.x-(0>this.labelAngle?g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),x.y=this.labelPlacement==="inside"?0>this.labelAngle?x.y-(this.tickPlacement==="inside"?this.tickLength:0)-5:x.y-(this.tickPlacement==="inside"?this.tickLength:0)-Math.abs(g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):x.y+(this.tickPlacement==="inside"?0:this.tickLength)+Math.abs(0>this.labelAngle?g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),g.textBlock.x=x.x,g.textBlock.y=x.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<t._labels.length;c++)if(g=t._labels[c],!(g.position<t.viewportMinimum||g.position>t.viewportMaximum)&&(x=t.getPixelCoordinatesOnAxis(g.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var a=t.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(a,x.y<<0),t.ctx.lineTo(a,x.y-t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||g.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(g.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,x.y<<0),this.ctx.lineTo(e,x.y-this.tickLength<<0),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(g.textBlock.angle===0?(x.x-=g.textBlock.width/2,x.y=this.labelPlacement==="inside"?x.y+this.labelFontSize/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-((this.tickPlacement==="inside"?0:this.tickLength)+g.textBlock.height-g.textBlock.fontSize/2)):(x.x=this.labelPlacement==="inside"?0<this.labelAngle?x.x:x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):x.x+(g.textBlock.height-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),x.y=this.labelPlacement==="inside"?0<this.labelAngle?x.y+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.y-((this.tickPlacement==="inside"?0:this.tickLength)+((g.textBlock.height-g.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),g.textBlock.x=x.x,g.textBlock.y=x.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<t._labels.length;c++)if(g=t._labels[c],!(g.position<t.viewportMinimum||g.position>t.viewportMaximum)&&(x=t.getPixelCoordinatesOnAxis(g.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var a=t.ctx.lineWidth%2===1?(x.x<<0)+.5:x.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(a,x.y<<0),t.ctx.lineTo(a,x.y+t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||g.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(g.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0,this.ctx.beginPath(),this.ctx.moveTo(x.x<<0,e),this.ctx.lineTo(x.x-this.tickLength<<0,e),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(g.textBlock.y=x.y,g.textBlock.x=this.labelPlacement==="inside"?x.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(g.textBlock.y=this.labelPlacement==="inside"?x.y:x.y-g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),g.textBlock.x=this.labelPlacement==="inside"?x.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:0<this.labelAngle?x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5:x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(g.textBlock.height-g.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength))));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<t._labels.length;c++)if(g=t._labels[c],!(g.position<t.viewportMinimum||g.position>t.viewportMaximum)&&(x=t.getPixelCoordinatesOnAxis(g.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var a=t.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(x.x<<0,a),t.ctx.lineTo(x.x+t.tickLength<<0,a),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||g.position>this.viewportMaximum||(x=this.getPixelCoordinatesOnAxis(g.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0,this.ctx.beginPath(),this.ctx.moveTo(x.x<<0,e),this.ctx.lineTo(x.x+this.tickLength<<0,e),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(g.textBlock.y=x.y,g.textBlock.x=this.labelPlacement==="inside"?x.x-g.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:x.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):(g.textBlock.y=this.labelPlacement==="inside"?x.y-g.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?x.y:x.y-(g.textBlock.height-g.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),g.textBlock.x=this.labelPlacement==="inside"?x.x-g.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:0<this.labelAngle?x.x+(g.textBlock.height-g.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength):x.x+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<t._labels.length;c++)if(g=t._labels[c],!(g.position<t.viewportMinimum||g.position>t.viewportMaximum)&&(x=t.getPixelCoordinatesOnAxis(g.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var a=t.ctx.lineWidth%2===1?(x.y<<0)+.5:x.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(x.x<<0,a),t.ctx.lineTo(x.x-t.tickLength<<0,a),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(h=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(c=0;c<t._labels.length;c++)g=t._labels[c],g.position<t.viewportMinimum||g.position>t.viewportMaximum||o&&h++%2!==0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),g.textBlock.render(!0),t.ctx.restore())},this);else for(c=0;c<this._labels.length;c++)g=this._labels[c],g.position<this.viewportMinimum||g.position>this.viewportMaximum||o&&h++%2!==0&&this.labelAutoFit||g.textBlock.render(!0)},G.prototype.renderInterlacedColors=function(){var t=this.chart.plotArea.ctx,o,i,e=this.chart.plotArea,n=0;if(o=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)o?(o=this.getPixelCoordinatesOnAxis(this._labels[n].position),i=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),t.fillRect(Math.min(i.x,o.x),e.y1,Math.abs(i.x-o.x),Math.abs(e.y1-e.y2)),o=!1):o=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,n=0;n<this._labels.length;n++)o?(i=this.getPixelCoordinatesOnAxis(this._labels[n].position),o=n+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[n+1].position),t.fillRect(e.x1,Math.min(i.y,o.y),Math.abs(e.x1-e.x2),Math.abs(o.y-i.y)),o=!1):o=!0;t.beginPath()},G.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var o=this,i,e,n=0,h=0,d=!1;e=!1;for(var f=[],v=[],m=!1,n=0;n<this.stripLines.length;n++){var c=this.stripLines[n];c._thicknessType===t&&(t==="pixel"&&(c.value<this.viewportMinimum||c.value>this.viewportMaximum||T(c.value)||isNaN(this.range))||t==="value"&&(c.startValue<=this.viewportMinimum&&c.endValue<=this.viewportMinimum||c.startValue>=this.viewportMaximum&&c.endValue>=this.viewportMaximum||T(c.startValue)||T(c.endValue)||isNaN(this.range))||f.push(c))}for(n=0;n<this._stripLineLabels.length;n++)if(c=this.stripLines[n],i=this._stripLineLabels[n],!(i.position<this.viewportMinimum||i.position>this.viewportMaximum||isNaN(this.range)))if(e=this.getPixelCoordinatesOnAxis(i.position),i.stripLine.labelPlacement==="outside"){if(c&&(this.ctx.strokeStyle=c.color,this.ctx.lineWidth=c._thicknessType==="pixel"?c.thickness:this.tickThickness),this._position==="bottom"){var g=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(g,e.y<<0),this.ctx.lineTo(g,e.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=i.textBlock.width/2,e.y+=this.tickLength+i.textBlock.fontSize/2+5):(e.x-=0>this.labelAngle?i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+Math.abs(0>this.labelAngle?i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else this._position==="top"?(g=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(g,e.y<<0),this.ctx.lineTo(g,e.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=i.textBlock.width/2,e.y-=this.tickLength+i.textBlock.height-i.textBlock.fontSize/2):(e.x+=(i.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y-=this.tickLength+(i.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):this._position==="left"?(g=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,g),this.ctx.lineTo(e.x-this.tickLength<<0,g),this.ctx.stroke(),this.labelAngle===0?e.x=e.x-i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(e.y-=i.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x-i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-i.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(i.textBlock.height-i.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):this._position==="right"&&(g=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,g),this.ctx.lineTo(e.x+this.tickLength<<0,g),this.ctx.stroke(),this.labelAngle===0?e.x=e.x+this.tickLength+5:(e.y=0>this.labelAngle?e.y:e.y-(i.textBlock.height-i.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x+(i.textBlock.height-i.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));i.textBlock.x=e.x,i.textBlock.y=e.y,v.push(i)}else c._thicknessType===t&&(i.textBlock.angle=-90,this._position==="bottom"?(i.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,i.textBlock.measureText(),e.x-i.textBlock.height-c.thickness/2>this.chart.plotArea.x1?T(c.startValue)?e.x-=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.x-=i.textBlock.height/2-i.textBlock.fontSize/2:(i.textBlock.angle=90,T(c.startValue)?e.x+=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.x+=i.textBlock.height/2-i.textBlock.fontSize/2),e.y=i.textBlock.angle===-90?i.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+i.textBlock.width)/2:this.chart.plotArea.y1+i.textBlock.width+3:i.stripLine.labelAlign==="near"?this.chart.plotArea.y2-i.textBlock.width-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-i.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(i.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.height-3,i.textBlock.measureText(),e.x-i.textBlock.height-c.thickness/2>this.chart.plotArea.x1?T(c.startValue)?e.x-=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.x-=i.textBlock.height/2-i.textBlock.fontSize/2:(i.textBlock.angle=90,T(c.startValue)?e.x+=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.x+=i.textBlock.height/2-i.textBlock.fontSize/2),e.y=i.textBlock.angle===-90?i.stripLine.labelAlign==="near"?this.chart.plotArea.y1+i.textBlock.width+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+i.textBlock.width)/2:this.chart.plotArea.y2-3:i.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-i.textBlock.width)/2:this.chart.plotArea.y2-i.textBlock.width-3):this._position==="left"?(i.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,i.textBlock.angle=0,i.textBlock.measureText(),e.y-i.textBlock.height-c.thickness/2>this.chart.plotArea.y1?T(c.startValue)?e.y-=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2:T(c.startValue)?e.y+=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.y+=i.textBlock.height/2-i.textBlock.fontSize+3,e.x=i.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-i.textBlock.width/2:this.chart.plotArea.x2-i.textBlock.width-3):this._position==="right"&&(i.textBlock.maxWidth=this.options.stripLines[n].labelMaxWidth?this.options.stripLines[n].labelMaxWidth:this.chart.plotArea.width-3,i.textBlock.angle=0,i.textBlock.measureText(),e.y-i.textBlock.height-c.thickness/2>this.chart.plotArea.y1?T(c.startValue)?e.y-=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2:T(c.startValue)?e.y+=i.textBlock.height-i.textBlock.fontSize/2+c.thickness/2:e.y-=i.textBlock.height/2-i.textBlock.fontSize/2+3,e.x=i.stripLine.labelAlign==="near"?this.chart.plotArea.x2-i.textBlock.width-3:i.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-i.textBlock.width/2:this.chart.plotArea.x1+3),i.textBlock.x=e.x,i.textBlock.y=e.y,v.push(i));if(!m){for(e=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),n=0;n<f.length;n++)c=f[n],c.showOnTop?d||(d=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),h=0;h<f.length;h++)c=f[h],c.showOnTop&&c.render();this.ctx.restore()},c)):c.render();for(n=0;n<v.length;n++)i=v[n],i.stripLine.showOnTop?e||(e=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(h=0;h<v.length;h++)i=v[h],i.stripLine.labelPlacement==="inside"&&i.stripLine.showOnTop&&(o.ctx.save(),o.ctx.beginPath(),o.ctx.rect(o.chart.plotArea.x1,o.chart.plotArea.y1,o.chart.plotArea.width,o.chart.plotArea.height),o.ctx.clip(),i.textBlock.render(!0),o.ctx.restore())},i.textBlock)):i.stripLine.labelPlacement==="inside"&&i.textBlock.render(!0);this.ctx.restore(),m=!0}if(m)for(e=!1,n=0;n<v.length;n++)i=v[n],i.stripLine.labelPlacement==="outside"&&i.textBlock.render(!0)}},G.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},G.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;O?(this.maskCanvas=Qt(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var o=0;o<t.length;o++)t[o].endValue<this.viewportMinimum||t[o].startValue>this.viewportMaximum||isNaN(this.range)||t[o].render(this.maskCtx);this.maskCtx.restore()}},G.prototype.renderCrosshair=function(t,o){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,o)},G.prototype.showCrosshair=function(t){T(t)||t<this.viewportMinimum||t>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},G.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var o,i=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(ot(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),o=this.getPixelCoordinatesOnAxis(this._labels[e].position),o=t.lineWidth%2===1?(o.x<<0)+.5:o.x<<0,t.moveTo(o,i.y1<<0),t.lineTo(o,i.y2<<0),t.stroke());else if(this._position==="left"||this._position==="right")for(var e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),o=this.getPixelCoordinatesOnAxis(this._labels[e].position),o=t.lineWidth%2===1?(o.y<<0)+.5:o.y<<0,t.moveTo(i.x1<<0,o),t.lineTo(i.x2<<0,o),t.stroke());t.restore()}},G.prototype.renderAxisLine=function(){var t=this.chart.ctx,o=O?this.chart._preRenderCtx:t,i=Math.ceil(this.tickThickness/(this.reversed?-2:2)),e=Math.ceil(this.tickThickness/(this.reversed?2:-2)),n,h;if(o.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(n=this.lineCoordinates.x2,h=this.lineCoordinates.x1):(n=this.lineCoordinates.x1,h=this.lineCoordinates.x2),o.lineWidth=this.lineThickness,o.strokeStyle=this.lineColor?this.lineColor:"black",o.setLineDash&&o.setLineDash(ot(this.lineDashType,this.lineThickness));var d=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(o.beginPath(),this.scaleBreaks&&!T(this.scaleBreaks.firstBreakIndex))if(T(this.scaleBreaks.lastBreakIndex))n=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+e;else for(var f=this.scaleBreaks.firstBreakIndex;f<=this.scaleBreaks.lastBreakIndex;f++)o.moveTo(n,d),o.lineTo(this.scaleBreaks._appliedBreaks[f].startPixel+i,d),n=this.scaleBreaks._appliedBreaks[f].endPixel+e;n&&(o.moveTo(n,d),o.lineTo(h,d)),o.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(n=this.lineCoordinates.y1,h=this.lineCoordinates.y2):(n=this.lineCoordinates.y2,h=this.lineCoordinates.y1),o.lineWidth=this.lineThickness,o.strokeStyle=this.lineColor,o.setLineDash&&o.setLineDash(ot(this.lineDashType,this.lineThickness)),d=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,o.beginPath(),this.scaleBreaks&&!T(this.scaleBreaks.firstBreakIndex))if(T(this.scaleBreaks.lastBreakIndex))n=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+i;else for(f=this.scaleBreaks.firstBreakIndex;f<=this.scaleBreaks.lastBreakIndex;f++)o.moveTo(d,n),o.lineTo(d,this.scaleBreaks._appliedBreaks[f].startPixel+e),n=this.scaleBreaks._appliedBreaks[f].endPixel+i;n&&(o.moveTo(d,n),o.lineTo(d,h)),o.stroke()}O&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),o.clearRect(0,0,this.chart.width,this.chart.height)),o.restore()},G.prototype.getPixelCoordinatesOnAxis=function(t){var o={};return(this._position==="bottom"||this._position==="top")&&(o.x=this.convertValueToPixel(t),o.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(o.y=this.convertValueToPixel(t),o.x=this.lineCoordinates.x2),o},G.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var i=0,n=0,o,i=!0,e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],n=typeof t=="number"?t:this._position==="left"||this._position==="right"?t.y:t.x;if(this.logarithmic){if(t=o=Math.pow(this.logarithmBase,(n-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),n<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(n=0;n<e.length;n++)if(!(e[n].endValue<this.conversionParameters.minimum))if(i)if(e[n].startValue<this.conversionParameters.minimum){if(1<e[n].size&&this.conversionParameters.minimum*Math.pow(e[n].endValue/e[n].startValue,Math.log(o)/Math.log(e[n].size))<e[n].endValue){t=Math.pow(e[n].endValue/e[n].startValue,Math.log(o)/Math.log(e[n].size));break}else t*=e[n].endValue/this.conversionParameters.minimum/Math.pow(e[n].size,Math.log(e[n].endValue/this.conversionParameters.minimum)/Math.log(e[n].endValue/e[n].startValue)),o/=Math.pow(e[n].size,Math.log(e[n].endValue/this.conversionParameters.minimum)/Math.log(e[n].endValue/e[n].startValue));i=!1}else if(o>e[n].startValue/this.conversionParameters.minimum){if(o/=e[n].startValue/this.conversionParameters.minimum,o<e[n].size){t*=Math.pow(e[n].endValue/e[n].startValue,e[n].size===1?1:Math.log(o)/Math.log(e[n].size))/o;break}else t*=e[n].endValue/e[n].startValue/e[n].size;o/=e[n].size,i=!1}else break;else if(o>e[n].startValue/e[n-1].endValue){if(o/=e[n].startValue/e[n-1].endValue,o<e[n].size){t*=Math.pow(e[n].endValue/e[n].startValue,e[n].size===1?1:Math.log(o)/Math.log(e[n].size))/o;break}else t*=e[n].endValue/e[n].startValue/e[n].size;o/=e[n].size}else break}else for(n=e.length-1;0<=n;n--)if(!(e[n].startValue>this.conversionParameters.minimum))if(i)if(e[n].endValue>this.conversionParameters.minimum){if(1<e[n].size&&this.conversionParameters.minimum*Math.pow(e[n].endValue/e[n].startValue,Math.log(o)/Math.log(e[n].size))>e[n].startValue){t=Math.pow(e[n].endValue/e[n].startValue,Math.log(o)/Math.log(e[n].size));break}else t*=e[n].startValue/this.conversionParameters.minimum*Math.pow(e[n].size,Math.log(e[n].startValue/this.conversionParameters.minimum)/Math.log(e[n].endValue/e[n].startValue))*o,o*=Math.pow(e[n].size,Math.log(this.conversionParameters.minimum/e[n].startValue)/Math.log(e[n].endValue/e[n].startValue));i=!1}else if(o<e[n].endValue/this.conversionParameters.minimum){if(o/=e[n].endValue/this.conversionParameters.minimum,o>1/e[n].size){t*=Math.pow(e[n].endValue/e[n].startValue,1>=e[n].size?1:Math.log(o)/Math.log(e[n].size))*o;break}else t/=e[n].endValue/e[n].startValue/e[n].size;o*=e[n].size,i=!1}else break;else if(o<e[n].endValue/e[n+1].startValue){if(o/=e[n].endValue/e[n+1].startValue,o>1/e[n].size){t*=Math.pow(e[n].endValue/e[n].startValue,1>=e[n].size?1:Math.log(o)/Math.log(e[n].size))*o;break}else t/=e[n].endValue/e[n].startValue/e[n].size;o*=e[n].size}else break;i=t*this.viewportMinimum}else{if(t=o=(n-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,n<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(n=0;n<e.length;n++)if(!(e[n].endValue<this.conversionParameters.minimum))if(i)if(e[n].startValue<this.conversionParameters.minimum){if(e[n].size&&this.conversionParameters.minimum+o*(e[n].endValue-e[n].startValue)/e[n].size<e[n].endValue){t=0>=e[n].size?0:o*(e[n].endValue-e[n].startValue)/e[n].size;break}else t+=e[n].endValue-this.conversionParameters.minimum-e[n].size*(e[n].endValue-this.conversionParameters.minimum)/(e[n].endValue-e[n].startValue),o-=e[n].size*(e[n].endValue-this.conversionParameters.minimum)/(e[n].endValue-e[n].startValue);i=!1}else if(o>e[n].startValue-this.conversionParameters.minimum){if(o-=e[n].startValue-this.conversionParameters.minimum,o<e[n].size){t+=(e[n].endValue-e[n].startValue)*(e[n].size===0?1:o/e[n].size)-o;break}else t+=e[n].endValue-e[n].startValue-e[n].size;o-=e[n].size,i=!1}else break;else if(o>e[n].startValue-e[n-1].endValue){if(o-=e[n].startValue-e[n-1].endValue,o<e[n].size){t+=(e[n].endValue-e[n].startValue)*(e[n].size===0?1:o/e[n].size)-o;break}else t+=e[n].endValue-e[n].startValue-e[n].size;o-=e[n].size}else break}else for(n=e.length-1;0<=n;n--)if(!(e[n].startValue>this.conversionParameters.minimum))if(i)if(e[n].endValue>this.conversionParameters.minimum)if(e[n].size&&this.conversionParameters.minimum+o*(e[n].endValue-e[n].startValue)/e[n].size>e[n].startValue){t=0>=e[n].size?0:o*(e[n].endValue-e[n].startValue)/e[n].size;break}else t+=e[n].startValue-this.conversionParameters.minimum+e[n].size*(this.conversionParameters.minimum-e[n].startValue)/(e[n].endValue-e[n].startValue),o+=e[n].size*(this.conversionParameters.minimum-e[n].startValue)/(e[n].endValue-e[n].startValue),i=!1;else if(o<e[n].endValue-this.conversionParameters.minimum){if(o-=e[n].endValue-this.conversionParameters.minimum,o>-1*e[n].size){t+=(e[n].endValue-e[n].startValue)*(e[n].size===0?1:o/e[n].size)+o;break}else t-=e[n].endValue-e[n].startValue-e[n].size;o+=e[n].size,i=!1}else break;else if(o<e[n].endValue-e[n+1].startValue){if(o-=e[n].endValue-e[n+1].startValue,o>-1*e[n].size){t+=(e[n].endValue-e[n].startValue)*(e[n].size===0?1:o/e[n].size)+o;break}else t-=e[n].endValue-e[n].startValue-e[n].size;o+=e[n].size}else break;i=this.conversionParameters.minimum+t}return i},G.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},G.prototype.getApparentDifference=function(t,o,i,e){var n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){i=T(i)?o/t:i;for(var h=0;h<n.length&&!(o<n[h].startValue);h++)t>n[h].endValue||(t<=n[h].startValue&&o>=n[h].endValue?i=i/n[h].endValue*n[h].startValue*n[h].size:t>=n[h].startValue&&o>=n[h].endValue?i=i/n[h].endValue*t*Math.pow(n[h].size,Math.log(n[h].endValue/t)/Math.log(n[h].endValue/n[h].startValue)):t<=n[h].startValue&&o<=n[h].endValue?i=i/o*n[h].startValue*Math.pow(n[h].size,Math.log(o/n[h].startValue)/Math.log(n[h].endValue/n[h].startValue)):!e&&t>n[h].startValue&&o<n[h].endValue&&(i=t*Math.pow(n[h].size,Math.log(o/t)/Math.log(n[h].endValue/n[h].startValue))))}else for(i=T(i)?Math.abs(o-t):i,h=0;h<n.length&&!(o<n[h].startValue);h++)t>n[h].endValue||(t<=n[h].startValue&&o>=n[h].endValue?i=i-n[h].endValue+n[h].startValue+n[h].size:t>n[h].startValue&&o>=n[h].endValue?i=i-n[h].endValue+t+n[h].size*(n[h].endValue-t)/(n[h].endValue-n[h].startValue):t<=n[h].startValue&&o<n[h].endValue?i=i-o+n[h].startValue+n[h].size*(o-n[h].startValue)/(n[h].endValue-n[h].startValue):!e&&t>n[h].startValue&&o<n[h].endValue&&(i=t+n[h].size*(o-t)/(n[h].endValue-n[h].startValue)));return i},G.prototype.setViewPortRange=function(t,o){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,o),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,o)},G.prototype.getXValueAt=function(t){if(!t)return null;var o=null;return this._position==="left"?o=this.convertPixelToValue(t.y):this._position==="bottom"&&(o=this.convertPixelToValue(t.x)),o},G.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var o={pixelPerUnit:null,minimum:null,reference:null},i=this.lineCoordinates.width,e=this.lineCoordinates.height,i=this._position==="bottom"||this._position==="top"?i:e,e=Math.abs(this.range);if(this.logarithmic)for(var n=0;n<t.length&&!(this.viewportMaximum<t[n].startValue);n++)this.viewportMinimum>t[n].endValue||(this.viewportMinimum>=t[n].startValue&&this.viewportMaximum<=t[n].endValue?i=0:this.viewportMinimum<=t[n].startValue&&this.viewportMaximum>=t[n].endValue?(e=e/t[n].endValue*t[n].startValue,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100):i-Math.min(t[n].spacing,.1*i)):this.viewportMinimum>t[n].startValue&&this.viewportMaximum>=t[n].endValue?(e=e/t[n].endValue*this.viewportMinimum,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100*Math.log(t[n].endValue/this.viewportMinimum)/Math.log(t[n].endValue/t[n].startValue)):i-Math.min(t[n].spacing,.1*i)*Math.log(t[n].endValue/this.viewportMinimum)/Math.log(t[n].endValue/t[n].startValue)):this.viewportMinimum<=t[n].startValue&&this.viewportMaximum<t[n].endValue&&(e=e/this.viewportMaximum*t[n].startValue,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100*Math.log(this.viewportMaximum/t[n].startValue)/Math.log(t[n].endValue/t[n].startValue)):i-Math.min(t[n].spacing,.1*i)*Math.log(this.viewportMaximum/t[n].startValue)/Math.log(t[n].endValue/t[n].startValue)));else for(n=0;n<t.length&&!(this.viewportMaximum<t[n].startValue);n++)this.viewportMinimum>t[n].endValue||(this.viewportMinimum>=t[n].startValue&&this.viewportMaximum<=t[n].endValue?i=0:this.viewportMinimum<=t[n].startValue&&this.viewportMaximum>=t[n].endValue?(e=e-t[n].endValue+t[n].startValue,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100):i-Math.min(t[n].spacing,.1*i)):this.viewportMinimum>t[n].startValue&&this.viewportMaximum>=t[n].endValue?(e=e-t[n].endValue+this.viewportMinimum,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100*(t[n].endValue-this.viewportMinimum)/(t[n].endValue-t[n].startValue)):i-Math.min(t[n].spacing,.1*i)*(t[n].endValue-this.viewportMinimum)/(t[n].endValue-t[n].startValue)):this.viewportMinimum<=t[n].startValue&&this.viewportMaximum<t[n].endValue&&(e=e-this.viewportMaximum+t[n].startValue,i=0<t[n].spacing.toString().indexOf("%")?i*(1-parseFloat(t[n].spacing)/100*(this.viewportMaximum-t[n].startValue)/(t[n].endValue-t[n].startValue)):i-Math.min(t[n].spacing,.1*i)*(this.viewportMaximum-t[n].startValue)/(t[n].endValue-t[n].startValue)));o.minimum=this.viewportMinimum,o.maximum=this.viewportMaximum,o.range=e,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(o.lnLogarithmBase=Math.log(this.logarithmBase),o.pixelPerUnit=(this.reversed?-1:1)*i*o.lnLogarithmBase/Math.log(Math.abs(e))):o.pixelPerUnit=(this.reversed?-1:1)*i/Math.abs(e),o.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(o.lnLogarithmBase=Math.log(this.logarithmBase),o.pixelPerUnit=(this.reversed?1:-1)*i*o.lnLogarithmBase/Math.log(Math.abs(e))):o.pixelPerUnit=(this.reversed?1:-1)*i/Math.abs(e),o.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=o},G.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var i=this.chart.layoutManager.getFreeSpace(),t=!1,o=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=i.width,this.maxHeight=i.height):(this.maxWidth=i.height,this.maxHeight=i.width);var i=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,d=4;this.type==="axisX"&&(d=600>this.maxWidth?8:6);var i=Math.max(d,Math.floor(this.maxWidth/i)),e,n,h,d=0;if(!T(this.options.viewportMinimum)&&!T(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),T(this.options.viewportMinimum)&&!T(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),T(this.options.viewportMaximum)&&!T(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(d=0;d<this.scaleBreaks._appliedBreaks.length;d++)if((!T(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue||!T(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[d].startValue||!T(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue)&&(!T(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue||!T(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[d].endValue||!T(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue)){this.scaleBreaks._appliedBreaks.splice(d,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(e=0;e<this.dataSeries.length;e++)this.dataSeries[e].xValueType==="dateTime"&&(o=!0);e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,n=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,n-e===0&&(d=typeof this.options.interval>"u"?.4:this.options.interval,n+=d,e-=d),this.dataInfo.minDiff!==1/0?h=this.dataInfo.minDiff:1<n-e?h=.5*Math.abs(n-e):(h=1,o&&(t=!0))}else this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,n=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(e)||isFinite(n)?isFinite(e)?isFinite(n)||(n=e):e=n:(n=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),e===0&&n===0?(n+=9,e=0):n-e===0?(d=Math.min(Math.abs(.01*Math.abs(n)),5),n+=d,e-=d):e>n?(d=Math.min(.01*Math.abs(this.getApparentDifference(n,e,null,!0)),5),0<=n?e=n-d:n=isFinite(e)?e+d:0):(d=Math.min(.01*Math.abs(this.getApparentDifference(e,n,null,!0)),.05),n!==0&&(n+=d),e!==0&&(e-=d)),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<n-e?.5*Math.abs(n-e):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<e&&(e=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>n&&(n=0));d=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?n:this.viewportMaximum,null,!0),this.type==="axisX"&&o?(this.valueType="dateTime",this.intervalType||(d/1<=i?(this.interval=1,this.intervalType="millisecond"):d/2<=i?(this.interval=2,this.intervalType="millisecond"):d/5<=i?(this.interval=5,this.intervalType="millisecond"):d/10<=i?(this.interval=10,this.intervalType="millisecond"):d/20<=i?(this.interval=20,this.intervalType="millisecond"):d/50<=i?(this.interval=50,this.intervalType="millisecond"):d/100<=i?(this.interval=100,this.intervalType="millisecond"):d/200<=i?(this.interval=200,this.intervalType="millisecond"):d/250<=i?(this.interval=250,this.intervalType="millisecond"):d/300<=i?(this.interval=300,this.intervalType="millisecond"):d/400<=i?(this.interval=400,this.intervalType="millisecond"):d/500<=i?(this.interval=500,this.intervalType="millisecond"):d/(1*It.secondDuration)<=i?(this.interval=1,this.intervalType="second"):d/(2*It.secondDuration)<=i?(this.interval=2,this.intervalType="second"):d/(5*It.secondDuration)<=i?(this.interval=5,this.intervalType="second"):d/(10*It.secondDuration)<=i?(this.interval=10,this.intervalType="second"):d/(15*It.secondDuration)<=i?(this.interval=15,this.intervalType="second"):d/(20*It.secondDuration)<=i?(this.interval=20,this.intervalType="second"):d/(30*It.secondDuration)<=i?(this.interval=30,this.intervalType="second"):d/(1*It.minuteDuration)<=i?(this.interval=1,this.intervalType="minute"):d/(2*It.minuteDuration)<=i?(this.interval=2,this.intervalType="minute"):d/(5*It.minuteDuration)<=i?(this.interval=5,this.intervalType="minute"):d/(10*It.minuteDuration)<=i?(this.interval=10,this.intervalType="minute"):d/(15*It.minuteDuration)<=i?(this.interval=15,this.intervalType="minute"):d/(20*It.minuteDuration)<=i?(this.interval=20,this.intervalType="minute"):d/(30*It.minuteDuration)<=i?(this.interval=30,this.intervalType="minute"):d/(1*It.hourDuration)<=i?(this.interval=1,this.intervalType="hour"):d/(2*It.hourDuration)<=i?(this.interval=2,this.intervalType="hour"):d/(3*It.hourDuration)<=i?(this.interval=3,this.intervalType="hour"):d/(6*It.hourDuration)<=i?(this.interval=6,this.intervalType="hour"):d/(1*It.dayDuration)<=i?(this.interval=1,this.intervalType="day"):d/(2*It.dayDuration)<=i?(this.interval=2,this.intervalType="day"):d/(4*It.dayDuration)<=i?(this.interval=4,this.intervalType="day"):d/(1*It.weekDuration)<=i?(this.interval=1,this.intervalType="week"):d/(2*It.weekDuration)<=i?(this.interval=2,this.intervalType="week"):d/(3*It.weekDuration)<=i?(this.interval=3,this.intervalType="week"):d/(1*It.monthDuration)<=i?(this.interval=1,this.intervalType="month"):d/(2*It.monthDuration)<=i?(this.interval=2,this.intervalType="month"):d/(3*It.monthDuration)<=i?(this.interval=3,this.intervalType="month"):d/(6*It.monthDuration)<=i?(this.interval=6,this.intervalType="month"):(this.interval=d/(1*It.yearDuration)<=i?1:d/(2*It.yearDuration)<=i?2:d/(4*It.yearDuration)<=i?4:Math.floor(G.getNiceNumber(d/(i-1),!0)/It.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=e-h/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=n+h/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",d=G.getNiceNumber(d,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:G.getNiceNumber(d/(i-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e-h/2:Math.floor(e/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?n+h/2:Math.ceil(n/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=G.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(i-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,n=this.maximum!==null?this.maximum:this.dataInfo.max,n-e===0&&(d=typeof this.options.interval>"u"?.4:this.options.interval,n+=d,e-=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<n-e?.5*Math.abs(n-e):1):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,n=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?e===0&&n===0?(n+=9,e=0):n-e===0?(d=Math.min(Math.abs(.01*Math.abs(n)),5),n+=d,e-=d):e>n?(d=Math.min(.01*Math.abs(this.getApparentDifference(n,e,null,!0)),5),0<=n?e=n-d:n=isFinite(e)?e+d:0):(d=Math.min(.01*Math.abs(this.getApparentDifference(e,n,null,!0)),.05),n!==0&&(n+=d),e!==0&&(e-=d)):(n=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<n-e?.5*Math.abs(n-e):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<e&&(e=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>n&&(n=0)),Math.abs(this.getApparentDifference(e,n,null,!0)),this.type==="axisX"&&o?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=e-h/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=n+h/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e-h/2:Math.floor(e/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?n+h/2:Math.ceil(n/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),T(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),T(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&o?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=G.generateValueFormatString(this.range,2))}},G.prototype.calculateLogarithmicAxisParameters=function(){var i=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase),o;this._position==="bottom"||this._position==="top"?(this.maxWidth=i.width,this.maxHeight=i.height):(this.maxWidth=i.height,this.maxHeight=i.width);var i=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),e,n,h,d;if(d=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(d=0;d<this.scaleBreaks._appliedBreaks.length;d++)if((!T(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue||!T(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[d].startValue||!T(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue)&&(!T(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue||!T(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[d].endValue||!T(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue)){this.scaleBreaks._appliedBreaks.splice(d,1);break}}this.type==="axisX"?(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,n=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,n/e===1&&(d=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n*=d,e/=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,n=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=e&&!isFinite(n)?(n=typeof this.options.interval>"u"?0:this.options.interval,e=1):0>=e?e=n:isFinite(n)||(n=e),e===1&&n===1?(n*=this.logarithmBase-1/this.logarithmBase,e=1):n/e===1?(d=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n*=d,e/=d):e>n?(d=Math.min(e/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?e=n/d:n=e*d):(d=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),n!==1&&(n*=d),e!==1&&(e/=d)),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>n&&(n=1)),d=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);var f=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);if(this.intervalType="number",d=Math.pow(this.logarithmBase,G.getNiceNumber(Math.abs(Math.log(d)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=G.getNiceExponent(Math.log(d)/t/(i-1),!0),o=G.getNiceNumber(f/(i-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e/Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?n*Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/t/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=G.getNiceExponent(Math.ceil(Math.log(d)/t)/(i-1)),o=G.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(i-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,n=this.maximum!==null?this.maximum:this.dataInfo.max,n/e===1&&(d=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n*=d,e/=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,n=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?e===1&&n===1?(n*=this.logarithmBase,e/=this.logarithmBase):n/e===1?(d=Math.pow(this.logarithmBase,this.interval),n*=d,e/=d):e>n?(d=Math.min(.01*(e/n),5),1<=n?e=n/d:n=e*d):(d=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),n!==1&&(n*=d),e!==1&&(e/=d)):(n=typeof this.options.interval>"u"?0:this.options.interval,e=1),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e/Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval)),T(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?n*Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/t/this.interval)),T(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=i,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>i?2:3)){for(t=Math.floor(this.viewportMinimum/o+.5)*o;t<this.viewportMinimum;)t+=o;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=o}else this.options.interval||(o=Math.ceil(this.interval),this.range>this.interval&&(this.interval=o,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(d=0;d<t-2;d++)this.valueFormatString+="#"},G.generateValueFormatString=function(t,o){var i="#,##0.",e=o;1>t&&(e+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(e)||!isFinite(e))&&(e=o);for(var n=0;n<e;n++)i+="#";return i},G.getNiceExponent=function(t,o){var i=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,i),e=0>i?1>=e?1:5>=e?5:10:Math.max(Math.floor(e),1);return-20>i?Number(e*Math.pow(10,i)):Number((e*Math.pow(10,i)).toFixed(20))},G.getNiceNumber=function(t,o){var i=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,i),e=o?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10;return-20>i?Number(e*Math.pow(10,i)):Number((e*Math.pow(10,i)).toFixed(20))},G.prototype.getLabelStartPoint=function(){var t=It[this.intervalType+"Duration"]*this.interval,t=new Date(Math.floor(this.viewportMinimum/t)*t);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):this.intervalType==="minute"?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="hour"?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="day"?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="week"?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="month"?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="year"&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},r(Lt,re),r(qt,re),qt.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var o=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(it(this.parent[this.optionsName]),o=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][o]=this.options}},qt.prototype.render=function(t){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var o=this.ctx,i=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var e=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,F(this.id);var h,d,f,v,m,c;t=Math.max(this.spacing,3);var g=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=g,this.ctx.setLineDash&&this.ctx.setLineDash(ot(this.lineDashType,g)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(e=g%2===1?(e.x<<0)+.5:e.x<<0,d=g%2===1?(n.x<<0)+.5:n.x<<0,this.scaleBreaks.parent._position==="top"?(n=this.chart.plotArea.y1,f=this.chart.plotArea.y2+g/2+.5<<0):(n=this.chart.plotArea.y2,f=this.chart.plotArea.y1-g/2+.5<<0,t*=-1),this.bounds={x1:e-g/2,y1:n,x2:d+g/2,y2:f},this.ctx.moveTo(e,n),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=t||this.scaleBreaks.parent._position==="bottom"&&0<=t)this.ctx.lineTo(e,f),this.ctx.lineTo(d,f),this.ctx.lineTo(d,n);else if(this.type==="wavy"){v=e,m=n,h=.5,c=(f-m)/t/3;for(var x=0;x<c;x++)this.ctx.bezierCurveTo(v+h*t,m+t,v+h*t,m+2*t,v,m+3*t),m+=3*t,h*=-1;for(this.ctx.bezierCurveTo(v+h*t,m+t,v+h*t,m+2*t,v,m+3*t),v=d,h*=-1,this.ctx.lineTo(v,m),x=0;x<c;x++)this.ctx.bezierCurveTo(v+h*t,m-t,v+h*t,m-2*t,v,m-3*t),m-=3*t,h*=-1}else if(this.type==="zigzag"){for(h=-1,m=n+t,v=e+t,c=(f-m)/t/2,x=0;x<c;x++)this.ctx.lineTo(v,m),v+=2*h*t,m+=2*t,h*=-1;for(this.ctx.lineTo(v,m),v+=d-e,x=0;x<c+1;x++)this.ctx.lineTo(v,m),v+=2*h*t,m-=2*t,h*=-1;this.ctx.lineTo(v+h*t,m+t)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(n=g%2===1?(n.y<<0)+.5:n.y<<0,f=g%2===1?(e.y<<0)+.5:e.y<<0,this.scaleBreaks.parent._position==="left"?(e=this.chart.plotArea.x1,d=this.chart.plotArea.x2+g/2+.5<<0):(e=this.chart.plotArea.x2,d=this.chart.plotArea.x1-g/2+.5<<0,t*=-1),this.bounds={x1:e,y1:n-g/2,x2:d,y2:f+g/2},this.ctx.moveTo(e,n),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=t||this.scaleBreaks.parent._position==="right"&&0<=t)this.ctx.lineTo(d,n),this.ctx.lineTo(d,f),this.ctx.lineTo(e,f);else if(this.type==="wavy"){for(v=e,m=n,h=.5,c=(d-v)/t/3,x=0;x<c;x++)this.ctx.bezierCurveTo(v+t,m+h*t,v+2*t,m+h*t,v+3*t,m),v+=3*t,h*=-1;for(this.ctx.bezierCurveTo(v+t,m+h*t,v+2*t,m+h*t,v+3*t,m),m=f,h*=-1,this.ctx.lineTo(v,m),x=0;x<c;x++)this.ctx.bezierCurveTo(v-t,m+h*t,v-2*t,m+h*t,v-3*t,m),v-=3*t,h*=-1}else if(this.type==="zigzag"){for(h=1,m=n-t,v=e+t,c=(d-v)/t/2,x=0;x<c;x++)this.ctx.lineTo(v,m),m+=2*h*t,v+=2*t,h*=-1;for(this.ctx.lineTo(v,m),m+=f-n,x=0;x<c+1;x++)this.ctx.lineTo(v,m),m+=2*h*t,v-=2*t,h*=-1;this.ctx.lineTo(v+t,m+h*t)}}0<g&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=o}},r(kt,re),kt.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var o=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(it(this.parent.stripLines),o=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[o]=this.options}},kt.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),o=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<o){var i=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var e=this.ctx.globalAlpha;this.ctx.globalAlpha=i,F(this.id);var n,h,d,f;this.ctx.lineWidth=o,this.ctx.setLineDash&&this.ctx.setLineDash(ot(this.lineDashType,o)),this.parent._position==="bottom"||this.parent._position==="top"?(n=h=this.ctx.lineWidth%2===1?(t.x<<0)+.5:t.x<<0,d=this.chart.plotArea.y1,f=this.chart.plotArea.y2,this.bounds={x1:n-o/2,y1:d,x2:h+o/2,y2:f}):(this.parent._position==="left"||this.parent._position==="right")&&(d=f=this.ctx.lineWidth%2===1?(t.y<<0)+.5:t.y<<0,n=this.chart.plotArea.x1,h=this.chart.plotArea.x2,this.bounds={x1:n,y1:d-o/2,x2:h,y2:f+o/2}),this.ctx.moveTo(n,d),this.ctx.lineTo(h,f),this.ctx.stroke(),this.ctx.globalAlpha=e}this.ctx.restore()},r(Ne,re),Ne.prototype.showAt=function(t){if(!this.enabled)return!1;var o=this.chart,i=!1;if(o.resetOverlayedCanvas(),o.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),o.plotInfo.axisPlacement==="xySwapped"){if(this.parent._position==="bottom")for(var e=0;e<o.axisY.length;e++)this.parent===o.axisY[e]&&(o.axisY[e]._crosshairValue=t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum?t:null);else if(this.parent._position==="top")for(e=0;e<o.axisY2.length;e++)this.parent===o.axisY2[e]&&(o.axisY2[e]._crosshairValue=t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum?t:null);else if(this.parent._position==="left")for(e=0;e<o.axisX.length;e++)this.parent===o.axisX[e]&&(o.axisX[e]._crosshairValue=t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum?t:null);else if(this.parent._position==="right")for(e=0;e<o.axisX2.length;e++)this.parent===o.axisX2[e]&&(o.axisX2[e]._crosshairValue=t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum?t:null)}else if(this.parent._position==="bottom")for(e=0;e<o.axisX.length;e++)this.parent===o.axisX[e]&&(o.axisX[e]._crosshairValue=t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum?t:null);else if(this.parent._position==="top")for(e=0;e<o.axisX2.length;e++)this.parent===o.axisX2[e]&&(o.axisX2[e]._crosshairValue=t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum?t:null);else if(this.parent._position==="left")for(e=0;e<o.axisY.length;e++)this.parent===o.axisY[e]&&(o.axisY[e]._crosshairValue=t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum?t:null);else if(this.parent._position==="right")for(e=0;e<o.axisY2.length;e++)this.parent===o.axisY2[e]&&(o.axisY2[e]._crosshairValue=t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum?t:null);for(e=0;e<o.axisX.length;e++)t=o.axisX[e]._crosshairValue,o.axisX[e].crosshair&&o.axisX[e].crosshair.enabled&&!T(t)&&t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum&&(o.axisX[e].showCrosshair(t),o.axisX[e].crosshair._updatedValue=t,this===o.axisX[e].crosshair&&(i=!0));for(e=0;e<o.axisX2.length;e++)t=o.axisX2[e]._crosshairValue,o.axisX2[e].crosshair&&o.axisX2[e].crosshair.enabled&&!T(t)&&t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum&&(o.axisX2[e].showCrosshair(t),o.axisX2[e].crosshair._updatedValue=t,this===o.axisX2[e].crosshair&&(i=!0));for(e=0;e<o.axisY.length;e++)t=o.axisY[e]._crosshairValue,o.axisY[e].crosshair&&o.axisY[e].crosshair.enabled&&!T(t)&&t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum&&(o.axisY[e].showCrosshair(t),o.axisY[e].crosshair._updatedValue=t,this===o.axisY[e].crosshair&&(i=!0));for(e=0;e<o.axisY2.length;e++)t=o.axisY2[e]._crosshairValue,o.axisY2[e].crosshair&&o.axisY2[e].crosshair.enabled&&!T(t)&&t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum&&(o.axisY2[e].showCrosshair(t),o.axisY2[e].crosshair._updatedValue=t,this===o.axisY2[e].crosshair&&(i=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),i},Ne.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Ne.prototype.render=function(t,o,i){var e,n,h,d,f=null,v=null,m=null,c="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(m=0,m=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=G.generateValueFormatString(this.parent.range,m)));var g=this.opacity===null?1:this.opacity,x=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),a=this.chart.overlaidCanvasCtx,M=a.globalAlpha;if(a.beginPath(),a.strokeStyle=this.color,a.lineWidth=x,a.save(),this.labelFontSize=Math.abs(T(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=T(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=T(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<x&&a.setLineDash&&a.setLineDash(ot(this.lineDashType,x)),m=new zt(a,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:c,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var k=0,c=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var S=null;this.parent._position==="bottom"||this.parent._position==="top"?k=this.parent.dataSeries[0].axisX.convertPixelToValue({y:o}):(this.parent._position==="left"||this.parent._position==="right")&&(k=this.parent.convertPixelToValue({y:o}));for(var b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(S.dataSeries=this.parent.dataSeries[b],S.dataPoint.y!==null&&S.dataSeries.visible&&c.push(S));if(S=null,c.length===0)return;c.sort(function(B,$){return B.distance-$.distance});var A=S=0;yPercent=cumulativeY=0;for(var k=1/0,w,b=0;b<c.length;b++){if(c[b].dataSeries.type==="rangeBar"||c[b].dataSeries.type==="error"){if(c[b].dataPoint.y)for(var L=0;L<c[b].dataPoint.y.length;L++)A=Math.abs(t-this.parent.convertValueToPixel(c[b].dataPoint.y[L])),A<=k&&(k=A,S=b)}else c[b].dataSeries.type==="stackedBar"?(cumulativeY=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)),A<=k&&(k=A,S=b)):c[b].dataSeries.type==="stackedBar100"?(A=c[0].dataPoint.x.getTime?c[0].dataPoint.x.getTime():c[0].dataPoint.x,T(w)&&(w=Math.abs(t-this.parent.convertValueToPixel(100*(c[0].dataSeries.dataPointEOs[c[0].index].cumulativeY/c[0].dataSeries.plotUnit.dataPointYSums[A])))),cumulativeY=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=c[b].dataPoint.x.getTime?c[b].dataPoint.x.getTime():c[b].dataPoint.x,yPercent=100*(cumulativeY/c[b].dataSeries.plotUnit.dataPointYSums[A]),A=Math.abs(t-this.parent.convertValueToPixel(yPercent)),A<=w&&(w=A,S=b)):(A=Math.abs(t-this.parent.convertValueToPixel(c[b].dataPoint.y)),A<=k&&(k=A,S=b));T(w)||(k=Math.min(k,w))}if(w=c[S],b=0,this.parent._position==="bottom"||this.parent._position==="top"){if(w.dataSeries.type==="rangeBar"||w.dataSeries.type==="error"){for(k=Math.abs(t-this.parent.convertValueToPixel(w.dataPoint.y[0])),c=0;c<w.dataPoint.y.length;c++)A=Math.abs(t-this.parent.convertValueToPixel(w.dataPoint.y[c])),A<k&&(k=A,b=c);f=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataPoint.y[b])<<0)+.5:this.parent.convertValueToPixel(w.dataPoint.y[b])<<0,this.value=w.dataPoint.y[b],m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y[b]}):T(this.options.label)?Ce(T(i)?w.dataPoint.y[b]:i,this.valueFormatString,this.chart._cultureInfo):this.label}else w.dataSeries.type==="stackedBar"?(k=Math.abs(t-this.parent.convertValueToPixel(c[0].dataPoint.y)),cumulativeY=w.dataSeries.dataPointEOs[w.index].cumulativeY,f=a.lineWidth%2===1?(this.parent.convertValueToPixel(cumulativeY)<<0)+.5:this.parent.convertValueToPixel(cumulativeY)<<0,this.value=cumulativeY,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y}):T(this.options.label)?Ce(T(i)?w.dataPoint.y:i,this.valueFormatString,this.chart._cultureInfo):this.label):w.dataSeries.type==="stackedBar100"?(k=Math.abs(t-this.parent.convertValueToPixel(c[0].dataPoint.y)),cumulativeY=w.dataSeries.dataPointEOs[w.index].cumulativeY,A=w.dataPoint.x.getTime?w.dataPoint.x.getTime():w.dataPoint.x,yPercent=100*(cumulativeY/w.dataSeries.plotUnit.dataPointYSums[A]),f=a.lineWidth%2===1?(this.parent.convertValueToPixel(yPercent)<<0)+.5:this.parent.convertValueToPixel(yPercent)<<0,this.value=yPercent,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):T(this.options.label)?Ce(T(i)?yPercent:i,this.valueFormatString,this.chart._cultureInfo):this.label):(f=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(w.dataPoint.y)<<0,this.value=w.dataPoint.y,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y}):T(this.options.label)?Ce(T(i)?w.dataPoint.y:i,this.valueFormatString,this.chart._cultureInfo):this.label);e=n=f,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-x/2,y1:h,x2:n+x/2,y2:d},m.x=e-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2?m.x=this.chart.bounds.x2-m.width:m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),m.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-m.height+this.parent.tickLength:m.fontSize/2)+2,m.y+m.height>this.chart.bounds.y2?m.y=this.chart.bounds.y2-m.height:m.y<this.chart.bounds.y1&&(m.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(h=d=v=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(w.dataPoint.x)<<0,e=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-x/2,x2:n,y2:d+x/2},b=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=k)if(this.parent.labels[c])b=!0;else{b=!1;break}if(b){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({y:o}),S=null,b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?S.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?Ce(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?Qi(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=w.dataPoint.x,m.y=d+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(k=this.parent.convertPixelToValue({x:t}),b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(S.dataSeries=this.parent.dataSeries[b],S.dataPoint.y!==null&&S.dataSeries.visible&&c.push(S));if(c.length===0)return;if(c.sort(function(B,$){return B.distance-$.distance}),w=c[0],e=n=f=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(w.dataPoint.x)<<0,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-x/2,y1:h,x2:n+x/2,y2:d},b=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=k)if(this.parent.labels[c])b=!0;else{b=!1;break}if(b){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({x:t}),S=null,b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?S.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?Ce(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):T(this.options.label)?Qi(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=w.dataPoint.x,m.x=e-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!T(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(k=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(S.dataSeries=this.parent.dataSeries[b],S.dataPoint.y!==null&&S.dataSeries.visible&&c.push(S));if(c.length===0)return;for(c.sort(function(B,$){return B.distance-$.distance}),A=S=0,k=1/0,b=0;b<c.length;b++){if(c[b].dataSeries.type==="rangeColumn"||c[b].dataSeries.type==="rangeArea"||c[b].dataSeries.type==="error"||c[b].dataSeries.type==="rangeSplineArea"||c[b].dataSeries.type==="candlestick"||c[b].dataSeries.type==="ohlc"||c[b].dataSeries.type==="boxAndWhisker"){if(c[b].dataPoint.y)for(L=0;L<c[b].dataPoint.y.length;L++)A=Math.abs(o-this.parent.convertValueToPixel(c[b].dataPoint.y[L])),A<=k&&(k=A,S=b)}else c[b].dataSeries.type==="stackedColumn"?(e=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=Math.abs(o-this.parent.convertValueToPixel(e)),A<=k&&(k=A,S=b)):c[b].dataSeries.type==="stackedArea"?(e=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=Math.abs(o-this.parent.convertValueToPixel(e)),A<=k&&(k=A,S=b)):c[b].dataSeries.type==="stackedColumn100"||c[b].dataSeries.type==="stackedArea100"?(A=c[0].dataPoint.x.getTime?c[0].dataPoint.x.getTime():c[0].dataPoint.x,T(w)&&(w=Math.abs(o-this.parent.convertValueToPixel(100*(c[0].dataSeries.dataPointEOs[c[0].index].cumulativeY/c[0].dataSeries.plotUnit.dataPointYSums[A])))),c[b].dataSeries.type==="stackedColumn100"?(v=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=c[b].dataPoint.x.getTime?c[b].dataPoint.x.getTime():c[b].dataPoint.x,e=100*(v/c[b].dataSeries.plotUnit.dataPointYSums[A]),A=Math.abs(o-this.parent.convertValueToPixel(e)),A<=w&&(w=A,S=b)):c[b].dataSeries.type==="stackedArea100"&&(v=c[b].dataSeries.dataPointEOs[c[b].index].cumulativeY,A=c[b].dataPoint.x.getTime?c[b].dataPoint.x.getTime():c[b].dataPoint.x,e=100*(v/c[b].dataSeries.plotUnit.dataPointYSums[A]),A=Math.abs(o-this.parent.convertValueToPixel(e)),A<=w&&(w=A,S=b))):c[b].dataSeries.type==="waterfall"?(A=Math.abs(o-this.parent.convertValueToPixel(c[b].dataSeries.dataPointEOs[c[b].index].cumulativeSum)),A<=k&&(w=k=A,S=b)):(A=Math.abs(o-this.parent.convertValueToPixel(c[b].dataPoint.y)),A<=k&&(k=A,S=b));T(w)||(k=Math.min(k,w))}if(w=c[S],b=0,w.dataSeries.type==="rangeColumn"||w.dataSeries.type==="rangeArea"||w.dataSeries.type==="error"||w.dataSeries.type==="rangeSplineArea"||w.dataSeries.type==="candlestick"||w.dataSeries.type==="ohlc"||w.dataSeries.type==="boxAndWhisker"){for(k=Math.abs(o-this.parent.convertValueToPixel(w.dataPoint.y[0])),c=0;c<w.dataPoint.y.length;c++)A=Math.abs(o-this.parent.convertValueToPixel(w.dataPoint.y[c])),A<k&&(k=A,b=c);v=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataPoint.y[b])<<0)+.5:this.parent.convertValueToPixel(w.dataPoint.y[b])<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y[b]}):T(this.options.label)?Ce(T(i)?w.dataPoint.y[b]:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataPoint.y[b]}else w.dataSeries.type==="stackedColumn"?(e=w.dataSeries.dataPointEOs[w.index].cumulativeY,v=a.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y}):T(this.options.label)?Ce(T(i)?w.dataPoint.y:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):w.dataSeries.type==="stackedArea"?(e=w.dataSeries.dataPointEOs[w.index].cumulativeY,v=a.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y}):T(this.options.label)?Ce(T(i)?w.dataPoint.y:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):w.dataSeries.type==="stackedColumn100"?(v=w.dataSeries.dataPointEOs[w.index].cumulativeY,A=w.dataPoint.x.getTime?w.dataPoint.x.getTime():w.dataPoint.x,e=100*(v/w.dataSeries.plotUnit.dataPointYSums[A]),v=a.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):T(this.options.label)?Ce(T(i)?e:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):w.dataSeries.type==="stackedArea100"?(v=w.dataSeries.dataPointEOs[w.index].cumulativeY,A=w.dataPoint.x.getTime?w.dataPoint.x.getTime():w.dataPoint.x,e=100*(v/w.dataSeries.plotUnit.dataPointYSums[A]),v=a.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):T(this.options.label)?Ce(T(i)?e:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):w.dataSeries.type==="waterfall"?(v=a.lineWidth%2===1?(this.parent.convertValueToPixel(w.dataSeries.dataPointEOs[w.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(w.dataSeries.dataPointEOs[w.index].cumulativeSum)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataSeries.dataPointEOs[w.index].cumulativeSum}):T(this.options.label)?Ce(T(i)?w.dataSeries.dataPointEOs[w.index].cumulativeSum:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataSeries.dataPointEOs[w.index].cumulativeSum):(v=a.lineWidth%2===1?(T(t)?o:this.parent.convertValueToPixel(w.dataPoint.y)<<0)+.5:T(t)?o:this.parent.convertValueToPixel(w.dataPoint.y)<<0,m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?w.dataPoint.y:i}):T(this.options.label)?Ce(T(i)?w.dataPoint.y:i,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataPoint.y);h=d=v,e=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-x/2,x2:n,y2:d+x/2},m.y=d+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}c=null,a.globalAlpha=g,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&m.y-m.fontSize/2<this.chart.bounds.y1&&(m.y=this.chart.bounds.y1+m.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-m.fontSize/2+m.measureText().height>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.height+m.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<x&&(a.moveTo(e,h),a.lineTo(n,d),a.stroke(),this._hidden=!1)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="right"&&m.x+m.measureText().width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<x&&(a.moveTo(e,h),a.lineTo(n,d),a.stroke(),this._hidden=!1))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(e=n=f=a.lineWidth%2===1?(t<<0)+.5:t<<0,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-x/2,y1:h,x2:n+x/2,y2:d}):(this.parent._position==="left"||this.parent._position==="right")&&(h=d=v=a.lineWidth%2===1?(o<<0)+.5:o<<0,e=this.chart.plotArea.x1,n=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-x/2,x2:n,y2:d+x/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(b=!1,this.parent.labels)for(k=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=k)if(this.parent.labels[c])b=!0;else{b=!1;break}if(b){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({y:o}),S=null,b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(t):i}):T(this.options.label)?S.dataPoint.label:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(o):i}):T(this.options.label)?Ce(T(i)?this.parent.convertPixelToValue(o):i,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(o):i}):T(this.options.label)?Qi(T(i)?this.parent.convertPixelToValue(o):i,this.valueFormatString,this.chart._cultureInfo):this.label;m.y=o+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x1-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(t):i}):T(this.options.label)?Ce(T(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label,m.x=e-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(b=!1,c="",this.parent.labels)for(k=Math.ceil(this.parent.interval),c=0;c<this.parent.viewportMaximum;c+=k)if(this.parent.labels[c])b=!0;else{b=!1;break}if(b){if(this.parent.type==="axisX")for(k=this.parent.convertPixelToValue({x:t}),S=null,b=0;b<this.parent.dataSeries.length;b++)(S=this.parent.dataSeries[b].getDataPointAtX(k,!0))&&0<=S.index&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(t):i}):T(this.options.label)?T(i)?S.dataPoint.label:i:this.label)}else m.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":i}):T(this.options.label)?Ce(T(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(t):i}):T(this.options.label)?Qi(T(i)?this.parent.convertPixelToValue(t):i,this.valueFormatString,this.chart._cultureInfo):this.label;m.x=e-m.measureText().width/2,m.x+m.width>this.chart.bounds.x2&&(m.x=this.chart.bounds.x2-m.width),m.x<this.chart.bounds.x1&&(m.x=this.chart.bounds.x1),this.parent._position==="bottom"?m.y=this.parent.lineCoordinates.y2+m.fontSize/2+2:this.parent._position==="top"&&(m.y=this.parent.lineCoordinates.y1-m.height+m.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(m.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:T(i)?this.parent.convertPixelToValue(o):i}):T(this.options.label)?Ce(T(i)?this.parent.convertPixelToValue(o):i,this.valueFormatString,this.chart._cultureInfo):this.label,m.y=o+m.fontSize/2-m.measureText().height/2+2,m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2+2:m.y+m.measureText().height-m.fontSize/2>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.measureText().height+m.fontSize/2),this.parent._position==="left"?m.x=this.parent.lineCoordinates.x2-m.measureText().width:this.parent._position==="right"&&(m.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&m.x<this.chart.bounds.x1?m.x=this.chart.bounds.x1:this.parent._position==="right"&&m.x+m.measureText().width>this.chart.bounds.x2?m.x=this.chart.bounds.x2-m.measureText().width:this.parent._position==="top"&&m.y-m.fontSize/2<this.chart.bounds.y1?m.y=this.chart.bounds.y1+m.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-m.fontSize/2+m.measureText().height>this.chart.bounds.y2&&(m.y=this.chart.bounds.y2-m.height+m.fontSize/2+2),a.globalAlpha=g,0<x&&(a.moveTo(e,h),a.lineTo(n,d),a.stroke(),this._hidden=!1),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(t):this.parent.convertPixelToValue(o)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this._updatedValue=this.parent.convertPixelToValue(f)),(this.parent._position==="left"||this.parent._position==="right")&&(this._updatedValue=this.parent.convertPixelToValue(v)),this._textBlock=m,this._label=i,T(i)||this.renderLabel(),a.restore(),a.globalAlpha=M},Ne.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(T(this._textBlock)||T(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),T(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},r(ge,re),ge.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=O?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=O?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",O||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},ge.prototype.mouseMoveHandler=function(t,o){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,o),!this._updatedEventParameters||isNaN(this._prevX)||isNaN(this._prevY)||this.dispatchEvent("updated",this._updatedEventParameters,this))},ge.prototype._updateToolTip=function(t,o,i){if(i=typeof i>"u"?!0:i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof o>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,o=this._prevY}else this._prevX=t,this._prevY=o;var e=null,n=null,h=[],d=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var f=[];if(this.chart.axisX)for(var v=0;v<this.chart.axisX.length;v++){for(var d=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[v].convertPixelToValue({y:o}):this.chart.axisX[v].convertPixelToValue({x:t}),m=null,e=0;e<this.chart.axisX[v].dataSeries.length;e++)(m=this.chart.axisX[v].dataSeries[e].getDataPointAtX(d,i))&&0<=m.index&&(m.dataSeries=this.chart.axisX[v].dataSeries[e],m.dataPoint.y!==null&&m.dataSeries.visible&&f.push(m));m=null}if(this.chart.axisX2)for(v=0;v<this.chart.axisX2.length;v++){for(d=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[v].convertPixelToValue({y:o}):this.chart.axisX2[v].convertPixelToValue({x:t}),m=null,e=0;e<this.chart.axisX2[v].dataSeries.length;e++)(m=this.chart.axisX2[v].dataSeries[e].getDataPointAtX(d,i))&&0<=m.index&&(m.dataSeries=this.chart.axisX2[v].dataSeries[e],m.dataPoint.y!==null&&m.dataSeries.visible&&f.push(m));m=null}if(f.length===0)return;for(f.sort(function(c,g){return c.distance-g.distance}),i=f[0],e=0;e<f.length;e++)f[e].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&h.push(f[e]);f=null}else{if(e=this.chart.getDataPointAtXY(t,o,i))this.currentDataPointIndex=e.dataPointIndex,this.currentSeriesIndex=e.dataSeries.index;else if(O)if(e=Jt(t,o,this.chart._eventManager.ghostCtx),0<e&&typeof this.chart._eventManager.objectMap[e]<"u"){if(e=this.chart._eventManager.objectMap[e],e.objectType==="legendItem")return;this.currentSeriesIndex=e.dataSeriesIndex,this.currentDataPointIndex=0<=e.dataPointIndex?e.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(n=this.chart.data[this.currentSeriesIndex],m={},0<=this.currentDataPointIndex)e=n.dataPoints[this.currentDataPointIndex],m.dataSeries=n,m.dataPoint=e,m.index=this.currentDataPointIndex,m.distance=Math.abs(e.x-d),n.type==="waterfall"&&(m.cumulativeSumYStartValue=n.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,m.cumulativeSum=n.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||n.type!=="line"&&n.type!=="stepLine"&&n.type!=="spline"&&n.type!=="area"&&n.type!=="stepArea"&&n.type!=="splineArea"&&n.type!=="stackedArea"&&n.type!=="stackedArea100"&&n.type!=="rangeArea"&&n.type!=="rangeSplineArea"&&n.type!=="candlestick"&&n.type!=="ohlc"&&n.type!=="boxAndWhisker"){this.chart.clearedOverlayedCanvas==="toolTip"&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null);return}d=n.axisX.convertPixelToValue({x:t}),m=n.getDataPointAtX(d,i),T(m)||(m.dataSeries=n,this.currentDataPointIndex=m.index,e=m.dataPoint)}if(!T(m)&&!T(m.dataPoint)&&!T(m.dataPoint.y))if(m.dataSeries.axisY)if(0<m.dataPoint.y.length){for(e=i=0;e<m.dataPoint.y.length;e++)m.dataPoint.y[e]<m.dataSeries.axisY.viewportMinimum?i--:m.dataPoint.y[e]>m.dataSeries.axisY.viewportMaximum&&i++;i<m.dataPoint.y.length&&i>-m.dataPoint.y.length&&h.push(m)}else n.type==="column"||n.type==="bar"?0>m.dataPoint.y?0>m.dataSeries.axisY.viewportMinimum&&m.dataSeries.axisY.viewportMaximum>=m.dataPoint.y&&h.push(m):m.dataSeries.axisY.viewportMinimum<=m.dataPoint.y&&0<=m.dataSeries.axisY.viewportMaximum&&h.push(m):n.type==="bubble"?(i=this.chart._eventManager.objectMap[n.dataPointIds[m.index]].size/2,m.dataPoint.y>=m.dataSeries.axisY.viewportMinimum-i&&m.dataPoint.y<=m.dataSeries.axisY.viewportMaximum+i&&h.push(m)):n.type==="waterfall"?(i=0,m.cumulativeSumYStartValue<m.dataSeries.axisY.viewportMinimum?i--:m.cumulativeSumYStartValue>m.dataSeries.axisY.viewportMaximum&&i++,m.cumulativeSum<m.dataSeries.axisY.viewportMinimum?i--:m.cumulativeSum>m.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&h.push(m)):(0<=m.dataSeries.type.indexOf("100")||n.type==="stackedColumn"||n.type==="stackedBar"||m.dataPoint.y>=m.dataSeries.axisY.viewportMinimum&&m.dataPoint.y<=m.dataSeries.axisY.viewportMaximum)&&h.push(m);else h.push(m)}}if(0<h.length){if(this.highlightObjects(h),this.enabled){if(i="",i=this.getToolTipInnerHTML({entries:h}),i!==null){if(this.contentDiv.innerHTML=i,this.isToolTipDefinedInData&&T(this.options.content)&&T(this.options.contentFormatter))for(d=this.contentDiv.getElementsByTagName("span"),e=0;e<d.length;e++)d[e]&&(d[e].style.color=d[e].getAttribute("data-color"));d=!1,this.container.style.display==="none"&&(d=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:O?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=h[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:0<h[0].dataPoint.y?h[0].dataSeries.risingColor:h[0].dataSeries.fallingColor:h[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[n.index%h[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[h[0].index%h[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:O?"italic":"normal"}catch{}h[0].dataSeries.type==="pie"||h[0].dataSeries.type==="doughnut"||h[0].dataSeries.type==="funnel"||h[0].dataSeries.type==="pyramid"||h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?t=t-10-this.container.clientWidth:(t=h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),o=h.length!==1||this.shared||h[0].dataSeries.type!=="line"&&h[0].dataSeries.type!=="stepLine"&&h[0].dataSeries.type!=="spline"&&h[0].dataSeries.type!=="area"&&h[0].dataSeries.type!=="stepArea"&&h[0].dataSeries.type!=="splineArea"?h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x):o:h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y),o=-o+10,0<o+this.container.clientHeight+5&&(o-=o+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,o),!this.animationEnabled||d?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=o,this.container.style.left=t+"px",this.container.style.bottom=o+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(o=[],e=0;e<h.length;e++)o.push({xValue:h[e].dataPoint.x,dataPoint:h[e].dataPoint,dataSeries:h[e].dataSeries,dataPointIndex:h[e].index,dataSeriesIndex:h[e].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:i,entries:o},this._entries=h}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this)}},ge.prototype.highlightObjects=function(t){var o=this.chart.overlaidCanvasCtx;T(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip"?(this.chart.resetOverlayedCanvas(),o.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,o.save();var i=this.chart.plotArea,e=0;for(o.beginPath(),o.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),o.clip(),i=0;i<t.length;i++){var n=t[i];if((n=this.chart._eventManager.objectMap[n.dataSeries.dataPointIds[n.index]])&&n.objectType&&n.objectType==="dataPoint"){var e=this.chart.data[n.dataSeriesIndex],h=e.dataPoints[n.dataPointIndex],d=n.dataPointIndex;h.highlightEnabled===!1||e.highlightEnabled!==!0&&h.highlightEnabled!==!0||(e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="scatter"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"?(h=e.getMarkerProperties(d,n.x1,n.y1,this.chart.overlaidCanvasCtx),h.size=Math.max(1.5*h.size<<0,10),h.borderColor=h.borderColor||"#FFFFFF",h.borderThickness=h.borderThickness||Math.ceil(.1*h.size),oe.drawMarkers([h]),typeof n.y2<"u"&&(h=e.getMarkerProperties(d,n.x1,n.y2,this.chart.overlaidCanvasCtx),h.size=Math.max(1.5*h.size<<0,10),h.borderColor=h.borderColor||"#FFFFFF",h.borderThickness=h.borderThickness||Math.ceil(.1*h.size),oe.drawMarkers([h]))):e.type==="bubble"?(h=e.getMarkerProperties(d,n.x1,n.y1,this.chart.overlaidCanvasCtx),h.size=n.size,h.color="white",h.borderColor="white",o.globalAlpha=.3,oe.drawMarkers([h]),o.globalAlpha=1):e.type==="column"||e.type==="stackedColumn"||e.type==="stackedColumn100"||e.type==="bar"||e.type==="rangeBar"||e.type==="stackedBar"||e.type==="stackedBar100"||e.type==="rangeColumn"||e.type==="waterfall"?ve(o,n.x1,n.y1,n.x2,n.y2,"white",0,null,!1,!1,!1,!1,.3):e.type==="pie"||e.type==="doughnut"?Ge(o,n.center,n.radius,"white",e.type,n.startAngle,n.endAngle,.3,n.percentInnerRadius):e.type==="funnel"||e.type==="pyramid"?Xe(o,n.funnelSection,.3,"white"):e.type==="candlestick"?(o.globalAlpha=1,o.strokeStyle=n.color,o.lineWidth=2*n.borderThickness,e=o.lineWidth%2===0?0:.5,o.beginPath(),o.moveTo(n.x3-e,Math.min(n.y2,n.y3)),o.lineTo(n.x3-e,Math.min(n.y1,n.y4)),o.stroke(),o.beginPath(),o.moveTo(n.x3-e,Math.max(n.y1,n.y4)),o.lineTo(n.x3-e,Math.max(n.y2,n.y3)),o.stroke(),ve(o,n.x1,Math.min(n.y1,n.y4),n.x2,Math.max(n.y1,n.y4),"transparent",2*n.borderThickness,n.color,!1,!1,!1,!1),o.globalAlpha=1):e.type==="ohlc"?(o.globalAlpha=1,o.strokeStyle=n.color,o.lineWidth=2*n.borderThickness,e=o.lineWidth%2===0?0:.5,o.beginPath(),o.moveTo(n.x3-e,n.y2),o.lineTo(n.x3-e,n.y3),o.stroke(),o.beginPath(),o.moveTo(n.x3,n.y1),o.lineTo(n.x1,n.y1),o.stroke(),o.beginPath(),o.moveTo(n.x3,n.y4),o.lineTo(n.x2,n.y4),o.stroke(),o.globalAlpha=1):e.type==="boxAndWhisker"?(o.save(),o.globalAlpha=1,o.strokeStyle=n.stemColor,o.lineWidth=2*n.stemThickness,0<n.stemThickness&&(o.beginPath(),o.moveTo(n.x3,n.y2+n.borderThickness/2),o.lineTo(n.x3,n.y1+n.whiskerThickness/2),o.stroke(),o.beginPath(),o.moveTo(n.x3,n.y4-n.whiskerThickness/2),o.lineTo(n.x3,n.y3-n.borderThickness/2),o.stroke()),o.beginPath(),ve(o,n.x1,Math.max(n.y2,n.y3),n.x2,Math.min(n.y2,n.y3),"transparent",2*n.borderThickness,n.color,!1,!1,!1,!1),o.globalAlpha=1,o.strokeStyle=n.whiskerColor,o.lineWidth=2*n.whiskerThickness,0<n.whiskerThickness&&(o.beginPath(),o.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y4),o.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y4),o.stroke(),o.beginPath(),o.moveTo(Math.floor(n.x3-n.whiskerLength/2),n.y1),o.lineTo(Math.ceil(n.x3+n.whiskerLength/2),n.y1),o.stroke()),o.globalAlpha=1,o.strokeStyle=n.lineColor,o.lineWidth=2*n.lineThickness,0<n.lineThickness&&(o.beginPath(),o.moveTo(n.x1,n.y5),o.lineTo(n.x2,n.y5),o.stroke()),o.restore(),o.globalAlpha=1):e.type==="error"&&j(o,n.x1,n.y1,n.x2,n.y2,"white",n.whiskerProperties,n.stemProperties,n.isXYSwapped,.3))}}o.restore(),o.globalAlpha=1,o.beginPath()},ge.prototype.getToolTipInnerHTML=function(t){t=t.entries;var o=null,i=null,e=null,n=0,h="";this.isToolTipDefinedInData=!0;for(var d=0;d<t.length;d++)if(t[d].dataSeries.toolTipContent||t[d].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},o=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var f=null,v="",d=0;d<t.length;d++){if(i=t[d].dataSeries,e=t[d].dataPoint,n=t[d].index,h="",d===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?v+=typeof this.chart.axisX[0].labels[e.x]<"u"?this.chart.axisX[0].labels[e.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(v+=typeof this.chart.axisX2[0].labels[e.x]<"u"?this.chart.axisX2[0].labels[e.x]:"{x}"),v+="</br>",!i.visible)continue;v=this.chart.replaceKeywordsWithValue(v,e,i,n)}e.toolTipContent===null||typeof e.toolTipContent>"u"&&i.options.toolTipContent===null||(i.type==="line"||i.type==="stepLine"||i.type==="spline"||i.type==="area"||i.type==="stepArea"||i.type==="splineArea"||i.type==="column"||i.type==="bar"||i.type==="scatter"||i.type==="stackedColumn"||i.type==="stackedColumn100"||i.type==="stackedBar"||i.type==="stackedBar100"||i.type==="stackedArea"||i.type==="stackedArea100"||i.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=f!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,f=i.axisXIndex):i.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=f!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):i.type==="rangeColumn"||i.type==="rangeBar"||i.type==="rangeArea"||i.type==="rangeSplineArea"||i.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=f!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):i.type==="candlestick"||i.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=f!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):i.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(h+=f!=i.axisXIndex?i.axisX.title?i.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),o===null&&(o=""),i.visible&&(this.reversed===!0?(o=this.chart.replaceKeywordsWithValue(h,e,i,n)+o,d<t.length-1&&(o="</br>"+o)):(o+=this.chart.replaceKeywordsWithValue(h,e,i,n),d<t.length-1&&(o+="</br>"))))}o!==null&&(o=v+o)}else{if(i=t[0].dataSeries,e=t[0].dataPoint,n=t[0].index,e.toolTipContent===null||typeof e.toolTipContent>"u"&&i.options.toolTipContent===null)return null;i.type==="line"||i.type==="stepLine"||i.type==="spline"||i.type==="area"||i.type==="stepArea"||i.type==="splineArea"||i.type==="column"||i.type==="bar"||i.type==="scatter"||i.type==="stackedColumn"||i.type==="stackedColumn100"||i.type==="stackedBar"||i.type==="stackedBar100"||i.type==="stackedArea"||i.type==="stackedArea100"||i.type==="waterfall"?h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":i.type==="bubble"?h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":i.type==="pie"||i.type==="doughnut"||i.type==="funnel"||i.type==="pyramid"?h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.name?"{name}:</span>&nbsp;&nbsp;":e.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":i.type==="rangeColumn"||i.type==="rangeBar"||i.type==="rangeArea"||i.type==="rangeSplineArea"||i.type==="error"?h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":i.type==="candlestick"||i.type==="ohlc"?h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":i.type==="boxAndWhisker"&&(h=e.toolTipContent?e.toolTipContent:i.toolTipContent?i.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),o===null&&(o=""),o+=this.chart.replaceKeywordsWithValue(h,e,i,n)}return o},ge.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},ge.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},ge.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(typeof t>"u"||t)&&this.chart.resetOverlayedCanvas())},ge.prototype.show=function(t,o,i){this._updateToolTip(t,o,typeof i>"u"?!1:i)},ge.prototype.showAtIndex=function(t,o){},ge.prototype.showAtX=function(t,o){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null;var i,e,n,h=[];if(n=!1,o=!T(o)&&0<=o&&o<this.chart.data.length?o:0,this.shared)for(var d=0;d<this.chart.data.length;d++)i=this.chart.data[d],(e=i.getDataPointAtX(t,!1))&&e.dataPoint&&!T(e.dataPoint.y)&&i.visible&&(e.dataSeries=i,h.push(e));else i=this.chart.data[o],(e=i.getDataPointAtX(t,!1))&&e.dataPoint&&!T(e.dataPoint.y)&&i.visible&&(e.dataSeries=i,h.push(e));if(0<h.length){for(d=0;d<h.length;d++)if(e=h[d],(this.shared||0<=e.dataSeries.type.indexOf("100"))&&e.dataPoint.x>=e.dataSeries.axisX.viewportMinimum&&e.dataPoint.x<=e.dataSeries.axisX.viewportMaximum){n=!1;break}else if(e.dataPoint.x<e.dataSeries.axisX.viewportMinimum||e.dataPoint.x>e.dataSeries.axisX.viewportMaximum||e.dataPoint.y<e.dataSeries.axisY.viewportMinimum||e.dataPoint.y>e.dataSeries.axisY.viewportMaximum)n=!0;else{n=!1;break}if(n)return this.hide(),!1;if(this.highlightObjects(h),this._entries=h,d="",d=this.getToolTipInnerHTML({entries:h}),d!==null){if(this.contentDiv.innerHTML=d,this.isToolTipDefinedInData&&T(this.options.content)&&T(this.options.contentFormatter))for(e=this.contentDiv.getElementsByTagName("span"),d=0;d<e.length;d++)e[d]&&(e[d].style.color=e[d].getAttribute("data-color"));d=!1,this.container.style.display==="none"&&(d=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:O?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=h[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:0<h[0].dataPoint.y?h[0].dataSeries.risingColor:h[0].dataSeries.fallingColor:h[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[i.index%h[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[h[0].index%h[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:O?"italic":"normal"}catch{}h[0].dataSeries.type==="pie"||h[0].dataSeries.type==="doughnut"||h[0].dataSeries.type==="funnel"||h[0].dataSeries.type==="pyramid"?i=mouseX-10-this.container.clientWidth:(i=h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y)-this.container.clientWidth<<0:h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x)-this.container.clientWidth<<0,i-=10),0>i&&(i+=this.container.clientWidth+20),i+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(i=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),h=(h.length!==1||this.shared||h[0].dataSeries.type!=="line"&&h[0].dataSeries.type!=="stepLine"&&h[0].dataSeries.type!=="spline"&&h[0].dataSeries.type!=="area"&&h[0].dataSeries.type!=="stepArea"&&h[0].dataSeries.type!=="splineArea")&&(h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100")?h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x):h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y),h=-h+10,0<h+this.container.clientHeight+5&&(h-=h+this.container.clientHeight+5-0),this.fixMozTransitionDelay(i,h),!this.animationEnabled||d?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=i+"px",this.container.style.bottom=h+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return!0},ge.prototype.fixMozTransitionDelay=function(t,o){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var i=parseFloat(this.container.style.left),i=isNaN(i)?0:i,e=parseFloat(this.container.style.bottom),e=isNaN(e)?0:e;10<Math.sqrt(Math.pow(i-t,2)+Math.pow(e-o,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},ge.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},Fe.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],O&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Fe.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Fe.prototype.mouseEventHandler=function(t){if(t.type==="mousemove"||t.type==="click"){var o=[],i=vs(t),e=null;if((e=this.chart.getObjectAtXY(i.x,i.y,!1))&&typeof this.objectMap[e]<"u")if(e=this.objectMap[e],e.objectType==="dataPoint"){var n=this.chart.data[e.dataSeriesIndex],h=n.dataPoints[e.dataPointIndex],d=e.dataPointIndex;e.eventParameter={x:i.x,y:i.y,dataPoint:h,dataSeries:n.options,dataPointIndex:d,dataSeriesIndex:n.index,chart:this.chart},e.eventContext={context:h,userContext:h,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},o.push(e),e=this.objectMap[n.id],e.eventParameter={x:i.x,y:i.y,dataPoint:h,dataSeries:n.options,dataPointIndex:d,dataSeriesIndex:n.index,chart:this.chart},e.eventContext={context:n,userContext:n.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},o.push(this.objectMap[n.id])}else e.objectType==="legendItem"&&(n=this.chart.data[e.dataSeriesIndex],h=e.dataPointIndex!==null?n.dataPoints[e.dataPointIndex]:null,e.eventParameter={x:i.x,y:i.y,dataSeries:n.options,dataPoint:h,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex,chart:this.chart},e.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},o.push(e));for(n=[],i=0;i<this.mouseoveredObjectMaps.length;i++){for(h=!0,e=0;e<o.length;e++)if(o[e].id===this.mouseoveredObjectMaps[i].id){h=!1;break}h?this.fireEvent(this.mouseoveredObjectMaps[i],"mouseout",t):n.push(this.mouseoveredObjectMaps[i])}for(this.mouseoveredObjectMaps=n,i=0;i<o.length;i++){for(n=!1,e=0;e<this.mouseoveredObjectMaps.length;e++)if(o[i].id===this.mouseoveredObjectMaps[e].id){n=!0;break}n||(this.fireEvent(o[i],"mouseover",t),this.mouseoveredObjectMaps.push(o[i])),t.type==="click"?this.fireEvent(o[i],"click",t):t.type==="mousemove"&&this.fireEvent(o[i],"mousemove",t)}}},Fe.prototype.fireEvent=function(t,o,i){if(t&&o){var e=t.eventParameter,n=t.eventContext,h=t.eventContext.userContext;h&&n&&h[n[o]]&&h[n[o]].call(h,e),o!=="mouseout"?h.cursor&&h.cursor!==i.target.style.cursor&&(i.target.style.cursor=h.cursor):(i.target.style.cursor=this.chart.panEnabled?n.mouseout!=="itemmouseout"||h.dockInsidePlotArea?"move":this.chart._defaultCursor:this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),o==="click"&&t.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],e),o==="click"&&t.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],e)}},Zt.prototype.animate=function(t,o,i,e,n){var h=this;for(this.chart.isAnimating=!0,n=n||vt.easing.linear,i&&this.animations.push({startTime:new Date().getTime()+(t||0),duration:o,animationCallback:i,onComplete:e}),t=[];0<this.animations.length;)o=this.animations.shift(),i=new Date().getTime(),e=0,o.startTime<=i&&(e=n(Math.min(i-o.startTime,o.duration),0,1,o.duration),e=Math.min(e,1),isNaN(e)||!isFinite(e))&&(e=1),1>e&&t.push(o),o.animationCallback(e),1<=e&&o.onComplete&&o.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){h.animate.call(h)}):this.chart.isAnimating=!1},Zt.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var vt={yScaleAnimation:function(t,o){if(t!==0){var i=o.dest,e=o.source.canvas,n=o.animationBase;i.drawImage(e,0,0,e.width,e.height,0,n-n*t,i.canvas.width/De,t*i.canvas.height/De)}},xScaleAnimation:function(t,o){if(t!==0){var i=o.dest,e=o.source.canvas,n=o.animationBase;i.drawImage(e,0,0,e.width,e.height,n-n*t,0,t*i.canvas.width/De,i.canvas.height/De)}},xClipAnimation:function(t,o){if(t!==0){var i=o.dest,e=o.source.canvas;i.save(),0<t&&i.drawImage(e,0,0,e.width*t,e.height,0,0,e.width*t/De,e.height/De),i.restore()}},fadeInAnimation:function(t,o){if(t!==0){var i=o.dest,e=o.source.canvas;i.save(),i.globalAlpha=t,i.drawImage(e,0,0,e.width,e.height,0,0,i.canvas.width/De,i.canvas.height/De),i.restore()}},easing:{linear:function(t,o,i,e){return i*t/e+o},easeOutQuad:function(t,o,i,e){return-i*(t/=e)*(t-2)+o},easeOutQuart:function(t,o,i,e){return-i*((t=t/e-1)*t*t*t-1)+o},easeInQuad:function(t,o,i,e){return i*(t/=e)*t+o},easeInQuart:function(t,o,i,e){return i*(t/=e)*t*t*t+o}}},oe={drawMarker:function(t,o,i,e,n,h,d,f){if(i){var v=1;i.fillStyle=h||"#000000",i.strokeStyle=d||"#000000",i.lineWidth=f||0,i.setLineDash&&i.setLineDash(ot("solid",f)),e==="circle"?(i.moveTo(t,o),i.beginPath(),i.arc(t,o,n/2,0,2*Math.PI,!1),h&&i.fill(),f&&(d?i.stroke():(v=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=v))):e==="square"?(i.beginPath(),i.rect(t-n/2,o-n/2,n,n),h&&i.fill(),f&&(d?i.stroke():(v=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=v))):e==="triangle"?(i.beginPath(),i.moveTo(t-n/2,o+n/2),i.lineTo(t+n/2,o+n/2),i.lineTo(t,o-n/2),i.closePath(),h&&i.fill(),f&&(d?i.stroke():(v=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=v)),i.beginPath()):e==="cross"&&(i.strokeStyle=h,i.lineWidth=n/4,i.beginPath(),i.moveTo(t-n/2,o-n/2),i.lineTo(t+n/2,o+n/2),i.stroke(),i.moveTo(t+n/2,o-n/2),i.lineTo(t-n/2,o+n/2),i.stroke())}},drawMarkers:function(t){for(var o=0;o<t.length;o++){var i=t[o];oe.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return P}(),I.version="v3.7.45 GA",window.CanvasJS&&I&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=I)})();document.createElement("canvas").getContext||function(){function r(){return this.context_||(this.context_=new ot(this))}function s(I,z,K){var Q=xi.call(arguments,2);return function(){return I.apply(z,Q.concat(xi.call(arguments)))}}function p(I){return String(I).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function l(I){I.namespaces.g_vml_||I.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),I.namespaces.g_o_||I.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),I.styleSheets.ex_canvas_||(I=I.createStyleSheet(),I.owningElement.id="ex_canvas_",I.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function u(I){var z=I.srcElement;switch(I.propertyName){case"width":z.getContext().clearRect(),z.style.width=z.attributes.width.nodeValue+"px",z.firstChild.style.width=z.clientWidth+"px";break;case"height":z.getContext().clearRect(),z.style.height=z.attributes.height.nodeValue+"px",z.firstChild.style.height=z.clientHeight+"px"}}function y(I){I=I.srcElement,I.firstChild&&(I.firstChild.style.width=I.clientWidth+"px",I.firstChild.style.height=I.clientHeight+"px")}function _(){return[[1,0,0],[0,1,0],[0,0,1]]}function F(I,z){for(var K=_(),Q=0;3>Q;Q++)for(var st=0;3>st;st++){for(var nt=0,wt=0;3>wt;wt++)nt+=I[Q][wt]*z[wt][st];K[Q][st]=nt}return K}function Y(I,z){z.fillStyle=I.fillStyle,z.lineCap=I.lineCap,z.lineJoin=I.lineJoin,z.lineWidth=I.lineWidth,z.miterLimit=I.miterLimit,z.shadowBlur=I.shadowBlur,z.shadowColor=I.shadowColor,z.shadowOffsetX=I.shadowOffsetX,z.shadowOffsetY=I.shadowOffsetY,z.strokeStyle=I.strokeStyle,z.globalAlpha=I.globalAlpha,z.font=I.font,z.textAlign=I.textAlign,z.textBaseline=I.textBaseline,z.arcScaleX_=I.arcScaleX_,z.arcScaleY_=I.arcScaleY_,z.lineScale_=I.lineScale_}function T(I){var K=I.indexOf("(",3),z=I.indexOf(")",K+1),K=I.substring(K+1,z).split(",");return(K.length!=4||I.charAt(3)!="a")&&(K[3]=1),K}function it(I,z,K){return Math.min(K,Math.max(z,I))}function dt(I,z,K){return 0>K&&K++,1<K&&K--,1>6*K?I+6*(z-I)*K:1>2*K?z:2>3*K?I+6*(z-I)*(2/3-K):I}function ct(I){if(I in He)return He[I];var z,K=1;if(I=String(I),I.charAt(0)=="#")z=I;else if(/^rgb/.test(I)){K=T(I),z="#";for(var Q,st=0;3>st;st++)Q=K[st].indexOf("%")!=-1?Math.floor(255*(parseFloat(K[st])/100)):+K[st],z+=Ci[it(Q,0,255)];K=+K[3]}else if(/^hsl/.test(I)){if(st=K=T(I),z=parseFloat(st[0])/360%360,0>z&&z++,Q=it(parseFloat(st[1])/100,0,1),st=it(parseFloat(st[2])/100,0,1),Q==0)Q=st=z=st;else{var nt=.5>st?st*(1+Q):st+Q-st*Q,wt=2*st-nt;Q=dt(wt,nt,z+1/3),st=dt(wt,nt,z),z=dt(wt,nt,z-1/3)}z="#"+Ci[Math.floor(255*Q)]+Ci[Math.floor(255*st)]+Ci[Math.floor(255*z)],K=K[3]}else z=Ki[I]||I;return He[I]={color:z,alpha:K}}function ot(I){this.m_=_(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*zt,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=I;var z="width:"+I.clientWidth+"px;height:"+I.clientHeight+"px;overflow:hidden;position:absolute",K=I.ownerDocument.createElement("div");K.style.cssText=z,I.appendChild(K),z=K.cloneNode(!1),z.style.backgroundColor="red",z.style.filter="alpha(opacity=0)",I.appendChild(z),this.element_=K,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function Pt(I,z,K,Q){I.currentPath_.push({type:"bezierCurveTo",cp1x:z.x,cp1y:z.y,cp2x:K.x,cp2y:K.y,x:Q.x,y:Q.y}),I.currentX_=Q.x,I.currentY_=Q.y}function We(I,z){var Q=ct(I.strokeStyle),K=Q.color,Q=Q.alpha*I.globalAlpha,st=I.lineScale_*I.lineWidth;1>st&&(Q*=st),z.push("<g_vml_:stroke",' opacity="',Q,'"',' joinstyle="',I.lineJoin,'"',' miterlimit="',I.miterLimit,'"',' endcap="',ri[I.lineCap]||"square",'"',' weight="',st,'px"',' color="',K,'" />')}function Jt(I,z,K,Q){var st=I.fillStyle,nt=I.arcScaleX_,wt=I.arcScaleY_,Ut=Q.x-K.x,Me=Q.y-K.y;if(st instanceof Ie){var Ot=0,St=Q=0,ut=0,ue=1;if(st.type_=="gradient"){Ot=st.x1_/nt,K=st.y1_/wt;var It=yt(I,st.x0_/nt,st.y0_/wt),Ot=yt(I,Ot,K),Ot=180*Math.atan2(Ot.x-It.x,Ot.y-It.y)/Math.PI;0>Ot&&(Ot+=360),1e-6>Ot&&(Ot=0)}else It=yt(I,st.x0_,st.y0_),Q=(It.x-K.x)/Ut,St=(It.y-K.y)/Me,Ut/=nt*zt,Me/=wt*zt,ue=Te.max(Ut,Me),ut=2*st.r0_/ue,ue=2*st.r1_/ue-ut;nt=st.colors_,nt.sort(function(Je,va){return Je.offset-va.offset}),wt=nt.length,It=nt[0].color,K=nt[wt-1].color,Ut=nt[0].alpha*I.globalAlpha,I=nt[wt-1].alpha*I.globalAlpha;for(var Me=[],Ti=0;Ti<wt;Ti++){var Ii=nt[Ti];Me.push(Ii.offset*ue+ut+" "+Ii.color)}z.push('<g_vml_:fill type="',st.type_,'"',' method="none" focus="100%"',' color="',It,'"',' color2="',K,'"',' colors="',Me.join(","),'"',' opacity="',I,'"',' g_o_:opacity2="',Ut,'"',' angle="',Ot,'"',' focusposition="',Q,",",St,'" />')}else st instanceof Qt?Ut&&Me&&z.push("<g_vml_:fill",' position="',-K.x/Ut*nt*nt,",",-K.y/Me*wt*wt,'"',' type="tile"',' src="',st.src_,'" />'):(st=ct(I.fillStyle),z.push('<g_vml_:fill color="',st.color,'" opacity="',st.alpha*I.globalAlpha,'" />'))}function yt(I,z,K){return I=I.m_,{x:zt*(z*I[0][0]+K*I[1][0]+I[2][0])-gi,y:zt*(z*I[0][1]+K*I[1][1]+I[2][1])-gi}}function we(I,z,K){isFinite(z[0][0])&&isFinite(z[0][1])&&isFinite(z[1][0])&&isFinite(z[1][1])&&isFinite(z[2][0])&&isFinite(z[2][1])&&(I.m_=z,K&&(I.lineScale_=Ai(re(z[0][0]*z[1][1]-z[0][1]*z[1][0]))))}function Ie(I){this.type_=I,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function Qt(I,z){if(!I||I.nodeType!=1||I.tagName!="IMG")throw new Ht("TYPE_MISMATCH_ERR");if(I.readyState!="complete")throw new Ht("INVALID_STATE_ERR");switch(z){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=z;break;default:throw new Ht("SYNTAX_ERR")}this.src_=I.src,this.width_=I.width,this.height_=I.height}function Ht(I){this.code=this[I],this.message=I+": DOM Exception "+this.code}var Te=Math,se=Te.round,je=Te.sin,Gi=Te.cos,re=Te.abs,Ai=Te.sqrt,zt=10,gi=zt/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var xi=Array.prototype.slice;l(document);var Fi={init:function(I){I=I||document,I.createElement("canvas"),I.attachEvent("onreadystatechange",s(this.init_,this,I))},init_:function(I){I=I.getElementsByTagName("canvas");for(var z=0;z<I.length;z++)this.initElement(I[z])},initElement:function(I){if(!I.getContext){I.getContext=r,l(I.ownerDocument),I.innerHTML="",I.attachEvent("onpropertychange",u),I.attachEvent("onresize",y);var z=I.attributes;z.width&&z.width.specified?I.style.width=z.width.nodeValue+"px":I.width=I.clientWidth,z.height&&z.height.specified?I.style.height=z.height.nodeValue+"px":I.height=I.clientHeight}return I}};Fi.init();for(var Ci=[],Ct=0;16>Ct;Ct++)for(var fi=0;16>fi;fi++)Ci[16*Ct+fi]=Ct.toString(16)+fi.toString(16);var Ki={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},He={},O={},ri={butt:"flat",round:"round"},Ct=ot.prototype;Ct.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Ct.beginPath=function(){this.currentPath_=[]},Ct.moveTo=function(I,z){var K=yt(this,I,z);this.currentPath_.push({type:"moveTo",x:K.x,y:K.y}),this.currentX_=K.x,this.currentY_=K.y},Ct.lineTo=function(I,z){var K=yt(this,I,z);this.currentPath_.push({type:"lineTo",x:K.x,y:K.y}),this.currentX_=K.x,this.currentY_=K.y},Ct.bezierCurveTo=function(I,z,K,Q,st,nt){st=yt(this,st,nt),I=yt(this,I,z),K=yt(this,K,Q),Pt(this,I,K,st)},Ct.quadraticCurveTo=function(I,z,K,Q){I=yt(this,I,z),K=yt(this,K,Q),Q={x:this.currentX_+2/3*(I.x-this.currentX_),y:this.currentY_+2/3*(I.y-this.currentY_)},Pt(this,Q,{x:Q.x+(K.x-this.currentX_)/3,y:Q.y+(K.y-this.currentY_)/3},K)},Ct.arc=function(I,z,K,Q,st,nt){K*=zt;var wt=nt?"at":"wa",Ut=I+Gi(Q)*K-gi,Me=z+je(Q)*K-gi;Q=I+Gi(st)*K-gi,st=z+je(st)*K-gi,Ut!=Q||nt||(Ut+=.125),I=yt(this,I,z),Ut=yt(this,Ut,Me),Q=yt(this,Q,st),this.currentPath_.push({type:wt,x:I.x,y:I.y,radius:K,xStart:Ut.x,yStart:Ut.y,xEnd:Q.x,yEnd:Q.y})},Ct.rect=function(I,z,K,Q){this.moveTo(I,z),this.lineTo(I+K,z),this.lineTo(I+K,z+Q),this.lineTo(I,z+Q),this.closePath()},Ct.strokeRect=function(I,z,K,Q){var st=this.currentPath_;this.beginPath(),this.moveTo(I,z),this.lineTo(I+K,z),this.lineTo(I+K,z+Q),this.lineTo(I,z+Q),this.closePath(),this.stroke(),this.currentPath_=st},Ct.fillRect=function(I,z,K,Q){var st=this.currentPath_;this.beginPath(),this.moveTo(I,z),this.lineTo(I+K,z),this.lineTo(I+K,z+Q),this.lineTo(I,z+Q),this.closePath(),this.fill(),this.currentPath_=st},Ct.createLinearGradient=function(I,z,K,Q){var st=new Ie("gradient");return st.x0_=I,st.y0_=z,st.x1_=K,st.y1_=Q,st},Ct.createRadialGradient=function(I,z,K,Q,st,nt){var wt=new Ie("gradientradial");return wt.x0_=I,wt.y0_=z,wt.r0_=K,wt.x1_=Q,wt.y1_=st,wt.r1_=nt,wt},Ct.drawImage=function(I,z){var K,Q,st,nt,wt,Ut,Me,Ot;st=I.runtimeStyle.width,nt=I.runtimeStyle.height,I.runtimeStyle.width="auto",I.runtimeStyle.height="auto";var St=I.width,ut=I.height;if(I.runtimeStyle.width=st,I.runtimeStyle.height=nt,arguments.length==3)K=arguments[1],Q=arguments[2],wt=Ut=0,Me=st=St,Ot=nt=ut;else if(arguments.length==5)K=arguments[1],Q=arguments[2],st=arguments[3],nt=arguments[4],wt=Ut=0,Me=St,Ot=ut;else if(arguments.length==9)wt=arguments[1],Ut=arguments[2],Me=arguments[3],Ot=arguments[4],K=arguments[5],Q=arguments[6],st=arguments[7],nt=arguments[8];else throw Error("Invalid number of arguments");var ue=yt(this,K,Q),It=[];if(It.push(" <g_vml_:group",' coordsize="',10*zt,",",10*zt,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Ti=[];Ti.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",se(ue.x/zt),",","Dy=",se(ue.y/zt),"");var Ii=yt(this,K+st,Q),Je=yt(this,K,Q+nt);K=yt(this,K+st,Q+nt),ue.x=Te.max(ue.x,Ii.x,Je.x,K.x),ue.y=Te.max(ue.y,Ii.y,Je.y,K.y),It.push("padding:0 ",se(ue.x/zt),"px ",se(ue.y/zt),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Ti.join(""),", sizingmethod='clip');")}else It.push("top:",se(ue.y/zt),"px;left:",se(ue.x/zt),"px;");It.push(' ">','<g_vml_:image src="',I.src,'"',' style="width:',zt*st,"px;"," height:",zt*nt,'px"',' cropleft="',wt/St,'"',' croptop="',Ut/ut,'"',' cropright="',(St-wt-Me)/St,'"',' cropbottom="',(ut-Ut-Ot)/ut,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",It.join(""))},Ct.stroke=function(I){var z=[];z.push("<g_vml_:shape",' filled="',!!I,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*zt,",",10*zt,'"',' stroked="',!I,'"',' path="');for(var K={x:null,y:null},Q={x:null,y:null},st=0;st<this.currentPath_.length;st++){var nt=this.currentPath_[st];switch(nt.type){case"moveTo":z.push(" m ",se(nt.x),",",se(nt.y));break;case"lineTo":z.push(" l ",se(nt.x),",",se(nt.y));break;case"close":z.push(" x "),nt=null;break;case"bezierCurveTo":z.push(" c ",se(nt.cp1x),",",se(nt.cp1y),",",se(nt.cp2x),",",se(nt.cp2y),",",se(nt.x),",",se(nt.y));break;case"at":case"wa":z.push(" ",nt.type," ",se(nt.x-this.arcScaleX_*nt.radius),",",se(nt.y-this.arcScaleY_*nt.radius)," ",se(nt.x+this.arcScaleX_*nt.radius),",",se(nt.y+this.arcScaleY_*nt.radius)," ",se(nt.xStart),",",se(nt.yStart)," ",se(nt.xEnd),",",se(nt.yEnd))}nt&&((K.x==null||nt.x<K.x)&&(K.x=nt.x),(Q.x==null||nt.x>Q.x)&&(Q.x=nt.x),(K.y==null||nt.y<K.y)&&(K.y=nt.y),(Q.y==null||nt.y>Q.y)&&(Q.y=nt.y))}z.push(' ">'),I?Jt(this,z,K,Q):We(this,z),z.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",z.join(""))},Ct.fill=function(){this.stroke(!0)},Ct.closePath=function(){this.currentPath_.push({type:"close"})},Ct.save=function(){var I={};Y(this,I),this.aStack_.push(I),this.mStack_.push(this.m_),this.m_=F(_(),this.m_)},Ct.restore=function(){this.aStack_.length&&(Y(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Ct.translate=function(I,z){we(this,F([[1,0,0],[0,1,0],[I,z,1]],this.m_),!1)},Ct.rotate=function(I){var z=Gi(I);I=je(I),we(this,F([[z,I,0],[-I,z,0],[0,0,1]],this.m_),!1)},Ct.scale=function(I,z){this.arcScaleX_*=I,this.arcScaleY_*=z,we(this,F([[I,0,0],[0,z,0],[0,0,1]],this.m_),!0)},Ct.transform=function(I,z,K,Q,st,nt){we(this,F([[I,z,0],[K,Q,0],[st,nt,1]],this.m_),!0)},Ct.setTransform=function(I,z,K,Q,st,nt){we(this,[[I,z,0],[K,Q,0],[st,nt,1]],!0)},Ct.drawText_=function(I,z,K,Q,st){var nt=this.m_;Q=0;var wt=1e3,Ut=0,Me=[],Ot;if(Ot=this.font,O[Ot])Ot=O[Ot];else{var St=document.createElement("div").style;try{St.font=Ot}catch{}Ot=O[Ot]={style:St.fontStyle||"normal",variant:St.fontVariant||"normal",weight:St.fontWeight||"normal",size:St.fontSize||10,family:St.fontFamily||"sans-serif"}}var St=Ot,ut=this.element_;Ot={};for(var ue in St)Ot[ue]=St[ue];switch(ue=parseFloat(ut.currentStyle.fontSize),ut=parseFloat(St.size),typeof St.size=="number"?Ot.size=St.size:St.size.indexOf("px")!=-1?Ot.size=ut:St.size.indexOf("em")!=-1?Ot.size=ue*ut:St.size.indexOf("%")!=-1?Ot.size=ue/100*ut:St.size.indexOf("pt")!=-1?Ot.size=ut/.75:Ot.size=ue,Ot.size*=.981,ue=Ot.style+" "+Ot.variant+" "+Ot.weight+" "+Ot.size+"px "+Ot.family,ut=this.element_.currentStyle,St=this.textAlign.toLowerCase(),St){case"left":case"center":case"right":break;case"end":St=ut.direction=="ltr"?"right":"left";break;case"start":St=ut.direction=="rtl"?"right":"left";break;default:St="left"}switch(this.textBaseline){case"hanging":case"top":Ut=Ot.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":Ut=-Ot.size/2.25}switch(St){case"right":Q=1e3,wt=.05;break;case"center":Q=wt=500}z=yt(this,z+0,K+Ut),Me.push('<g_vml_:line from="',-Q,' 0" to="',wt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!st,'" stroked="',!!st,'" style="position:absolute;width:1px;height:1px;">'),st?We(this,Me):Jt(this,Me,{x:-Q,y:0},{x:wt,y:Ot.size}),st=nt[0][0].toFixed(3)+","+nt[1][0].toFixed(3)+","+nt[0][1].toFixed(3)+","+nt[1][1].toFixed(3)+",0,0",z=se(z.x/zt)+","+se(z.y/zt),Me.push('<g_vml_:skew on="t" matrix="',st,'" ',' offset="',z,'" origin="',Q,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',p(I),'" style="v-text-align:',St,";font:",p(ue),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Me.join(""))},Ct.fillText=function(I,z,K,Q){this.drawText_(I,z,K,Q,!1)},Ct.strokeText=function(I,z,K,Q){this.drawText_(I,z,K,Q,!0)},Ct.measureText=function(I){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var z=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(z.createTextNode(I)),{width:this.textMeasureEl_.offsetWidth}},Ct.clip=function(){},Ct.arcTo=function(){},Ct.createPattern=function(I,z){return new Qt(I,z)},Ie.prototype.addColorStop=function(I,z){z=ct(z),this.colors_.push({offset:I,color:z.color,alpha:z.alpha})},Ct=Ht.prototype=Error(),Ct.INDEX_SIZE_ERR=1,Ct.DOMSTRING_SIZE_ERR=2,Ct.HIERARCHY_REQUEST_ERR=3,Ct.WRONG_DOCUMENT_ERR=4,Ct.INVALID_CHARACTER_ERR=5,Ct.NO_DATA_ALLOWED_ERR=6,Ct.NO_MODIFICATION_ALLOWED_ERR=7,Ct.NOT_FOUND_ERR=8,Ct.NOT_SUPPORTED_ERR=9,Ct.INUSE_ATTRIBUTE_ERR=10,Ct.INVALID_STATE_ERR=11,Ct.SYNTAX_ERR=12,Ct.INVALID_MODIFICATION_ERR=13,Ct.NAMESPACE_ERR=14,Ct.INVALID_ACCESS_ERR=15,Ct.VALIDATION_ERR=16,Ct.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Fi,CanvasRenderingContext2D=ot,CanvasGradient=Ie,CanvasPattern=Qt,DOMException=Ht}()});var Gn=class{},Ls=class{},Xi=class r{constructor(s){this.normalizedNames=new Map,this.lazyUpdate=null,s?typeof s=="string"?this.lazyInit=()=>{this.headers=new Map,s.split(`
`).forEach(p=>{let l=p.indexOf(":");if(l>0){let u=p.slice(0,l),y=u.toLowerCase(),_=p.slice(l+1).trim();this.maybeSetNormalizedName(u,y),this.headers.has(y)?this.headers.get(y).push(_):this.headers.set(y,[_])}})}:typeof Headers<"u"&&s instanceof Headers?(this.headers=new Map,s.forEach((p,l)=>{this.setHeaderEntries(l,p)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(s).forEach(([p,l])=>{this.setHeaderEntries(p,l)})}:this.headers=new Map}has(s){return this.init(),this.headers.has(s.toLowerCase())}get(s){this.init();let p=this.headers.get(s.toLowerCase());return p&&p.length>0?p[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(s){return this.init(),this.headers.get(s.toLowerCase())||null}append(s,p){return this.clone({name:s,value:p,op:"a"})}set(s,p){return this.clone({name:s,value:p,op:"s"})}delete(s,p){return this.clone({name:s,value:p,op:"d"})}maybeSetNormalizedName(s,p){this.normalizedNames.has(p)||this.normalizedNames.set(p,s)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(s=>this.applyUpdate(s)),this.lazyUpdate=null))}copyFrom(s){s.init(),Array.from(s.headers.keys()).forEach(p=>{this.headers.set(p,s.headers.get(p)),this.normalizedNames.set(p,s.normalizedNames.get(p))})}clone(s){let p=new r;return p.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,p.lazyUpdate=(this.lazyUpdate||[]).concat([s]),p}applyUpdate(s){let p=s.name.toLowerCase();switch(s.op){case"a":case"s":let l=s.value;if(typeof l=="string"&&(l=[l]),l.length===0)return;this.maybeSetNormalizedName(s.name,p);let u=(s.op==="a"?this.headers.get(p):void 0)||[];u.push(...l),this.headers.set(p,u);break;case"d":let y=s.value;if(!y)this.headers.delete(p),this.normalizedNames.delete(p);else{let _=this.headers.get(p);if(!_)return;_=_.filter(F=>y.indexOf(F)===-1),_.length===0?(this.headers.delete(p),this.normalizedNames.delete(p)):this.headers.set(p,_)}break}}setHeaderEntries(s,p){let l=(Array.isArray(p)?p:[p]).map(y=>y.toString()),u=s.toLowerCase();this.headers.set(u,l),this.maybeSetNormalizedName(s,u)}forEach(s){this.init(),Array.from(this.normalizedNames.keys()).forEach(p=>s(this.normalizedNames.get(p),this.headers.get(p)))}};var Na=class{encodeKey(s){return Ir(s)}encodeValue(s){return Ir(s)}decodeKey(s){return decodeURIComponent(s)}decodeValue(s){return decodeURIComponent(s)}};function Nh(r,s){let p=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(u=>{let y=u.indexOf("="),[_,F]=y==-1?[s.decodeKey(u),""]:[s.decodeKey(u.slice(0,y)),s.decodeValue(u.slice(y+1))],Y=p.get(_)||[];Y.push(F),p.set(_,Y)}),p}var Xh=/%(\d[a-f0-9])/gi,Yh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ir(r){return encodeURIComponent(r).replace(Xh,(s,p)=>Yh[p]??s)}function Vs(r){return`${r}`}var Ni=class r{constructor(s={}){if(this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new Na,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Nh(s.fromString,this.encoder)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach(p=>{let l=s.fromObject[p],u=Array.isArray(l)?l.map(Vs):[Vs(l)];this.map.set(p,u)})):this.map=null}has(s){return this.init(),this.map.has(s)}get(s){this.init();let p=this.map.get(s);return p?p[0]:null}getAll(s){return this.init(),this.map.get(s)||null}keys(){return this.init(),Array.from(this.map.keys())}append(s,p){return this.clone({param:s,value:p,op:"a"})}appendAll(s){let p=[];return Object.keys(s).forEach(l=>{let u=s[l];Array.isArray(u)?u.forEach(y=>{p.push({param:l,value:y,op:"a"})}):p.push({param:l,value:u,op:"a"})}),this.clone(p)}set(s,p){return this.clone({param:s,value:p,op:"s"})}delete(s,p){return this.clone({param:s,value:p,op:"d"})}toString(){return this.init(),this.keys().map(s=>{let p=this.encoder.encodeKey(s);return this.map.get(s).map(l=>p+"="+this.encoder.encodeValue(l)).join("&")}).filter(s=>s!=="").join("&")}clone(s){let p=new r({encoder:this.encoder});return p.cloneFrom=this.cloneFrom||this,p.updates=(this.updates||[]).concat(s),p}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(s=>this.map.set(s,this.cloneFrom.map.get(s))),this.updates.forEach(s=>{switch(s.op){case"a":case"s":let p=(s.op==="a"?this.map.get(s.param):void 0)||[];p.push(Vs(s.value)),this.map.set(s.param,p);break;case"d":if(s.value!==void 0){let l=this.map.get(s.param)||[],u=l.indexOf(Vs(s.value));u!==-1&&l.splice(u,1),l.length>0?this.map.set(s.param,l):this.map.delete(s.param)}else{this.map.delete(s.param);break}}}),this.cloneFrom=this.updates=null)}};var Xa=class{constructor(){this.map=new Map}set(s,p){return this.map.set(s,p),this}get(s){return this.map.has(s)||this.map.set(s,s.defaultValue()),this.map.get(s)}delete(s){return this.map.delete(s),this}has(s){return this.map.has(s)}keys(){return this.map.keys()}};function zh(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Dr(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Vr(r){return typeof Blob<"u"&&r instanceof Blob}function Br(r){return typeof FormData<"u"&&r instanceof FormData}function Uh(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var $n=class r{constructor(s,p,l,u){this.url=p,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=s.toUpperCase();let y;if(zh(this.method)||u?(this.body=l!==void 0?l:null,y=u):y=l,y&&(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),this.transferCache=y.transferCache),this.headers??=new Xi,this.context??=new Xa,!this.params)this.params=new Ni,this.urlWithParams=p;else{let _=this.params.toString();if(_.length===0)this.urlWithParams=p;else{let F=p.indexOf("?"),Y=F===-1?"?":F<p.length-1?"&":"";this.urlWithParams=p+Y+_}}}serializeBody(){return this.body===null?null:Dr(this.body)||Vr(this.body)||Br(this.body)||Uh(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ni?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Br(this.body)?null:Vr(this.body)?this.body.type||null:Dr(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(s={}){let p=s.method||this.method,l=s.url||this.url,u=s.responseType||this.responseType,y=s.body!==void 0?s.body:this.body,_=s.withCredentials!==void 0?s.withCredentials:this.withCredentials,F=s.reportProgress!==void 0?s.reportProgress:this.reportProgress,Y=s.headers||this.headers,T=s.params||this.params,it=s.context??this.context;return s.setHeaders!==void 0&&(Y=Object.keys(s.setHeaders).reduce((dt,ct)=>dt.set(ct,s.setHeaders[ct]),Y)),s.setParams&&(T=Object.keys(s.setParams).reduce((dt,ct)=>dt.set(ct,s.setParams[ct]),T)),new r(p,l,y,{params:T,headers:Y,context:it,reportProgress:F,responseType:u,withCredentials:_})}},Tn=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Tn||{}),Kn=class{constructor(s,p=Os.Ok,l="OK"){this.headers=s.headers||new Xi,this.status=s.status!==void 0?s.status:p,this.statusText=s.statusText||l,this.url=s.url||null,this.ok=this.status>=200&&this.status<300}},Ya=class r extends Kn{constructor(s={}){super(s),this.type=Tn.ResponseHeader}clone(s={}){return new r({headers:s.headers||this.headers,status:s.status!==void 0?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}},wn=class r extends Kn{constructor(s={}){super(s),this.type=Tn.Response,this.body=s.body!==void 0?s.body:null}clone(s={}){return new r({body:s.body!==void 0?s.body:this.body,headers:s.headers||this.headers,status:s.status!==void 0?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}},Es=class extends Kn{constructor(s){super(s,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${s.url||"(unknown url)"}`:this.message=`Http failure response for ${s.url||"(unknown url)"}: ${s.status} ${s.statusText}`,this.error=s.error||null}},Os=function(r){return r[r.Continue=100]="Continue",r[r.SwitchingProtocols=101]="SwitchingProtocols",r[r.Processing=102]="Processing",r[r.EarlyHints=103]="EarlyHints",r[r.Ok=200]="Ok",r[r.Created=201]="Created",r[r.Accepted=202]="Accepted",r[r.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",r[r.NoContent=204]="NoContent",r[r.ResetContent=205]="ResetContent",r[r.PartialContent=206]="PartialContent",r[r.MultiStatus=207]="MultiStatus",r[r.AlreadyReported=208]="AlreadyReported",r[r.ImUsed=226]="ImUsed",r[r.MultipleChoices=300]="MultipleChoices",r[r.MovedPermanently=301]="MovedPermanently",r[r.Found=302]="Found",r[r.SeeOther=303]="SeeOther",r[r.NotModified=304]="NotModified",r[r.UseProxy=305]="UseProxy",r[r.Unused=306]="Unused",r[r.TemporaryRedirect=307]="TemporaryRedirect",r[r.PermanentRedirect=308]="PermanentRedirect",r[r.BadRequest=400]="BadRequest",r[r.Unauthorized=401]="Unauthorized",r[r.PaymentRequired=402]="PaymentRequired",r[r.Forbidden=403]="Forbidden",r[r.NotFound=404]="NotFound",r[r.MethodNotAllowed=405]="MethodNotAllowed",r[r.NotAcceptable=406]="NotAcceptable",r[r.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",r[r.RequestTimeout=408]="RequestTimeout",r[r.Conflict=409]="Conflict",r[r.Gone=410]="Gone",r[r.LengthRequired=411]="LengthRequired",r[r.PreconditionFailed=412]="PreconditionFailed",r[r.PayloadTooLarge=413]="PayloadTooLarge",r[r.UriTooLong=414]="UriTooLong",r[r.UnsupportedMediaType=415]="UnsupportedMediaType",r[r.RangeNotSatisfiable=416]="RangeNotSatisfiable",r[r.ExpectationFailed=417]="ExpectationFailed",r[r.ImATeapot=418]="ImATeapot",r[r.MisdirectedRequest=421]="MisdirectedRequest",r[r.UnprocessableEntity=422]="UnprocessableEntity",r[r.Locked=423]="Locked",r[r.FailedDependency=424]="FailedDependency",r[r.TooEarly=425]="TooEarly",r[r.UpgradeRequired=426]="UpgradeRequired",r[r.PreconditionRequired=428]="PreconditionRequired",r[r.TooManyRequests=429]="TooManyRequests",r[r.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",r[r.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",r[r.InternalServerError=500]="InternalServerError",r[r.NotImplemented=501]="NotImplemented",r[r.BadGateway=502]="BadGateway",r[r.ServiceUnavailable=503]="ServiceUnavailable",r[r.GatewayTimeout=504]="GatewayTimeout",r[r.HttpVersionNotSupported=505]="HttpVersionNotSupported",r[r.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",r[r.InsufficientStorage=507]="InsufficientStorage",r[r.LoopDetected=508]="LoopDetected",r[r.NotExtended=510]="NotExtended",r[r.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",r}(Os||{});function Wa(r,s){return{body:s,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var Qn=(()=>{let s=class s{constructor(l){this.handler=l}request(l,u,y={}){let _;if(l instanceof $n)_=l;else{let T;y.headers instanceof Xi?T=y.headers:T=new Xi(y.headers);let it;y.params&&(y.params instanceof Ni?it=y.params:it=new Ni({fromObject:y.params})),_=new $n(l,u,y.body!==void 0?y.body:null,{headers:T,context:y.context,params:it,reportProgress:y.reportProgress,responseType:y.responseType||"json",withCredentials:y.withCredentials,transferCache:y.transferCache})}let F=Nt(_).pipe(Zi(T=>this.handler.handle(T)));if(l instanceof $n||y.observe==="events")return F;let Y=F.pipe(Li(T=>T instanceof wn));switch(y.observe||"body"){case"body":switch(_.responseType){case"arraybuffer":return Y.pipe(ee(T=>{if(T.body!==null&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return Y.pipe(ee(T=>{if(T.body!==null&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return Y.pipe(ee(T=>{if(T.body!==null&&typeof T.body!="string")throw new Error("Response is not a string.");return T.body}));case"json":default:return Y.pipe(ee(T=>T.body))}case"response":return Y;default:throw new Error(`Unreachable: unhandled observe type ${y.observe}}`)}}delete(l,u={}){return this.request("DELETE",l,u)}get(l,u={}){return this.request("GET",l,u)}head(l,u={}){return this.request("HEAD",l,u)}jsonp(l,u){return this.request("JSONP",l,{params:new Ni().append(u,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(l,u={}){return this.request("OPTIONS",l,u)}patch(l,u,y={}){return this.request("PATCH",l,Wa(y,u))}post(l,u,y={}){return this.request("POST",l,Wa(y,u))}put(l,u,y={}){return this.request("PUT",l,Wa(y,u))}};s.\u0275fac=function(u){return new(u||s)(ae(Gn))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})();function jh(r,s){return s(r)}function Hh(r,s,p){return(l,u)=>Si(p,()=>s(l,y=>r(y,u)))}var zr=new fe(""),Ur=new fe(""),$h=new fe("");var Lr=(()=>{let s=class s extends Gn{constructor(l,u){super(),this.backend=l,this.injector=u,this.chain=null,this.pendingTasks=_t(Ps);let y=_t($h,{optional:!0});this.backend=y??l}handle(l){if(this.chain===null){let y=Array.from(new Set([...this.injector.get(zr),...this.injector.get(Ur,[])]));this.chain=y.reduceRight((_,F)=>Hh(_,F,this.injector),jh)}let u=this.pendingTasks.add();return this.chain(l,y=>this.backend.handle(y)).pipe(xn(()=>this.pendingTasks.remove(u)))}};s.\u0275fac=function(u){return new(u||s)(ae(Ls),ae(fn))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})();var Gh=/^\)\]\}',?\n/;function Kh(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}var Er=(()=>{let s=class s{constructor(l){this.xhrFactory=l}handle(l){if(l.method==="JSONP")throw new Pe(-2800,!1);let u=this.xhrFactory;return(u.\u0275loadImpl?Qe(u.\u0275loadImpl()):Nt(null)).pipe(hi(()=>new qo(_=>{let F=u.build();if(F.open(l.method,l.urlWithParams),l.withCredentials&&(F.withCredentials=!0),l.headers.forEach((Jt,yt)=>F.setRequestHeader(Jt,yt.join(","))),l.headers.has("Accept")||F.setRequestHeader("Accept","application/json, text/plain, */*"),!l.headers.has("Content-Type")){let Jt=l.detectContentTypeHeader();Jt!==null&&F.setRequestHeader("Content-Type",Jt)}if(l.responseType){let Jt=l.responseType.toLowerCase();F.responseType=Jt!=="json"?Jt:"text"}let Y=l.serializeBody(),T=null,it=()=>{if(T!==null)return T;let Jt=F.statusText||"OK",yt=new Xi(F.getAllResponseHeaders()),we=Kh(F)||l.url;return T=new Ya({headers:yt,status:F.status,statusText:Jt,url:we}),T},dt=()=>{let{headers:Jt,status:yt,statusText:we,url:Ie}=it(),Qt=null;yt!==Os.NoContent&&(Qt=typeof F.response>"u"?F.responseText:F.response),yt===0&&(yt=Qt?Os.Ok:0);let Ht=yt>=200&&yt<300;if(l.responseType==="json"&&typeof Qt=="string"){let Te=Qt;Qt=Qt.replace(Gh,"");try{Qt=Qt!==""?JSON.parse(Qt):null}catch(se){Qt=Te,Ht&&(Ht=!1,Qt={error:se,text:Qt})}}Ht?(_.next(new wn({body:Qt,headers:Jt,status:yt,statusText:we,url:Ie||void 0})),_.complete()):_.error(new Es({error:Qt,headers:Jt,status:yt,statusText:we,url:Ie||void 0}))},ct=Jt=>{let{url:yt}=it(),we=new Es({error:Jt,status:F.status||0,statusText:F.statusText||"Unknown Error",url:yt||void 0});_.error(we)},ot=!1,Pt=Jt=>{ot||(_.next(it()),ot=!0);let yt={type:Tn.DownloadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(yt.total=Jt.total),l.responseType==="text"&&F.responseText&&(yt.partialText=F.responseText),_.next(yt)},We=Jt=>{let yt={type:Tn.UploadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(yt.total=Jt.total),_.next(yt)};return F.addEventListener("load",dt),F.addEventListener("error",ct),F.addEventListener("timeout",ct),F.addEventListener("abort",ct),l.reportProgress&&(F.addEventListener("progress",Pt),Y!==null&&F.upload&&F.upload.addEventListener("progress",We)),F.send(Y),_.next({type:Tn.Sent}),()=>{F.removeEventListener("error",ct),F.removeEventListener("abort",ct),F.removeEventListener("load",dt),F.removeEventListener("timeout",ct),l.reportProgress&&(F.removeEventListener("progress",Pt),Y!==null&&F.upload&&F.upload.removeEventListener("progress",We)),F.readyState!==F.DONE&&F.abort()}})))}};s.\u0275fac=function(u){return new(u||s)(ae(Ds))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),jr=new fe(""),Qh="XSRF-TOKEN",Zh=new fe("",{providedIn:"root",factory:()=>Qh}),Jh="X-XSRF-TOKEN",qh=new fe("",{providedIn:"root",factory:()=>Jh}),Rs=class{},td=(()=>{let s=class s{constructor(l,u,y){this.doc=l,this.platform=u,this.cookieName=y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let l=this.doc.cookie||"";return l!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fs(l,this.cookieName),this.lastCookieString=l),this.lastToken}};s.\u0275fac=function(u){return new(u||s)(ae(ii),ae(tn),ae(Zh))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})();function ed(r,s){let p=r.url.toLowerCase();if(!_t(jr)||r.method==="GET"||r.method==="HEAD"||p.startsWith("http://")||p.startsWith("https://"))return s(r);let l=_t(Rs).getToken(),u=_t(qh);return l!=null&&!r.headers.has(u)&&(r=r.clone({headers:r.headers.set(u,l)})),s(r)}function Hr(...r){let s=[Qn,Er,Lr,{provide:Gn,useExisting:Lr},{provide:Ls,useExisting:Er},{provide:zr,useValue:ed,multi:!0},{provide:jr,useValue:!0},{provide:Rs,useClass:td}];for(let p of r)s.push(...p.\u0275providers);return Oi(s)}var Or="b",Rr="h",Wr="s",Nr="st",Xr="u",Yr="rt",Bs=new fe(""),id=["GET","HEAD"];function nd(r,s){let it=_t(Bs),{isCacheActive:p}=it,l=Qo(it,["isCacheActive"]),{transferCache:u,method:y}=r;if(!p||y==="POST"&&!l.includePostRequests&&!u||y!=="POST"&&!id.includes(y)||r.headers.has("authorization")||r.headers.has("proxy-authorization")||u===!1||l.filter?.(r)===!1)return s(r);let _=_t(Cs),F=ad(r),Y=_.get(F,null),T=l.includeHeaders;if(typeof u=="object"&&u.includeHeaders&&(T=u.includeHeaders),Y){let{[Or]:dt,[Yr]:ct,[Rr]:ot,[Wr]:Pt,[Nr]:We,[Xr]:Jt}=Y,yt=dt;switch(ct){case"arraybuffer":yt=new TextEncoder().encode(dt).buffer;break;case"blob":yt=new Blob([dt]);break}let we=new Xi(ot);return Nt(new wn({body:yt,headers:we,status:Pt,statusText:We,url:Jt}))}return s(r).pipe(Oe(dt=>{dt instanceof wn&&_.set(F,{[Or]:dt.body,[Rr]:sd(dt.headers,T),[Wr]:dt.status,[Nr]:dt.statusText,[Xr]:dt.url||"",[Yr]:r.responseType})}))}function sd(r,s){if(!s)return{};let p={};for(let l of s){let u=r.getAll(l);u!==null&&(p[l]=u)}return p}function ad(r){let{params:s,method:p,responseType:l,url:u,body:y}=r,_=s.keys().sort().map(it=>`${it}=${s.getAll(it)}`).join("&"),Y=[p,l,u,typeof y=="string"?y:"",_].join("|"),T=od(Y);return T}function od(r){let s=0;for(let p of r)s=Math.imul(31,s)+p.charCodeAt(0)<<0;return s+=2147483648,s.toString()}function $r(r){return[{provide:Bs,useFactory:()=>(ws("NgHttpTransferCache"),Tt({isCacheActive:!0},r))},{provide:Ur,useValue:nd,multi:!0,deps:[Cs,Bs]},{provide:_s,multi:!0,useFactory:()=>{let s=_t(Un),p=_t(Bs);return()=>{Cr(s).then(()=>{p.isCacheActive=!1})}}}]}var Ha=class extends Sr{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$a=class r extends Ha{static makeCurrent(){Pr(new r)}onAndCancel(s,p,l){return s.addEventListener(p,l),()=>{s.removeEventListener(p,l)}}dispatchEvent(s,p){s.dispatchEvent(p)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,p){return p=p||this.getDefaultDocument(),p.createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,p){return p==="window"?window:p==="document"?s:p==="body"?s.body:null}getBaseHref(s){let p=hd();return p==null?null:dd(p)}resetBaseElement(){Zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return Fs(document.cookie,s)}},Zn=null;function hd(){return Zn=Zn||document.querySelector("base"),Zn?Zn.getAttribute("href"):null}function dd(r){return new URL(r,document.baseURI).pathname}var cd=(()=>{let s=class s{build(){return new XMLHttpRequest}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),Ga=new fe(""),Jr=(()=>{let s=class s{constructor(l,u){this._zone=u,this._eventNameToPlugin=new Map,l.forEach(y=>{y.manager=this}),this._plugins=l.slice().reverse()}addEventListener(l,u,y){return this._findPluginFor(u).addEventListener(l,u,y)}getZone(){return this._zone}_findPluginFor(l){let u=this._eventNameToPlugin.get(l);if(u)return u;if(u=this._plugins.find(_=>_.supports(l)),!u)throw new Pe(5101,!1);return this._eventNameToPlugin.set(l,u),u}};s.\u0275fac=function(u){return new(u||s)(ae(Ga),ae(ci))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),Ws=class{constructor(s){this._doc=s}},Ua="ng-app-id",qr=(()=>{let s=class s{constructor(l,u,y,_={}){this.doc=l,this.appId=u,this.nonce=y,this.platformId=_,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ra(_),this.resetHostNodes()}addStyles(l){for(let u of l)this.changeUsageCount(u,1)===1&&this.onStyleAdded(u)}removeStyles(l){for(let u of l)this.changeUsageCount(u,-1)<=0&&this.onStyleRemoved(u)}ngOnDestroy(){let l=this.styleNodesInDOM;l&&(l.forEach(u=>u.remove()),l.clear());for(let u of this.getAllStyles())this.onStyleRemoved(u);this.resetHostNodes()}addHost(l){this.hostNodes.add(l);for(let u of this.getAllStyles())this.addStyleToHost(l,u)}removeHost(l){this.hostNodes.delete(l)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(l){for(let u of this.hostNodes)this.addStyleToHost(u,l)}onStyleRemoved(l){let u=this.styleRef;u.get(l)?.elements?.forEach(y=>y.remove()),u.delete(l)}collectServerRenderedStyles(){let l=this.doc.head?.querySelectorAll(`style[${Ua}="${this.appId}"]`);if(l?.length){let u=new Map;return l.forEach(y=>{y.textContent!=null&&u.set(y.textContent,y)}),u}return null}changeUsageCount(l,u){let y=this.styleRef;if(y.has(l)){let _=y.get(l);return _.usage+=u,_.usage}return y.set(l,{usage:u,elements:[]}),u}getStyleElement(l,u){let y=this.styleNodesInDOM,_=y?.get(u);if(_?.parentNode===l)return y.delete(u),_.removeAttribute(Ua),_;{let F=this.doc.createElement("style");return this.nonce&&F.setAttribute("nonce",this.nonce),F.textContent=u,this.platformIsServer&&F.setAttribute(Ua,this.appId),l.appendChild(F),F}}addStyleToHost(l,u){let y=this.getStyleElement(l,u),_=this.styleRef,F=_.get(u)?.elements;F?F.push(y):_.set(u,{elements:[y],usage:1})}resetHostNodes(){let l=this.hostNodes;l.clear(),l.add(this.doc.head)}};s.\u0275fac=function(u){return new(u||s)(ae(ii),ae(Fa),ae(Ia,8),ae(tn))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),ja={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Za=/%COMP%/g,tl="%COMP%",ud=`_nghost-${tl}`,pd=`_ngcontent-${tl}`,md=!0,gd=new fe("",{providedIn:"root",factory:()=>md});function xd(r){return pd.replace(Za,r)}function fd(r){return ud.replace(Za,r)}function el(r,s){return s.map(p=>p.replace(Za,r))}var Ns=(()=>{let s=class s{constructor(l,u,y,_,F,Y,T,it=null){this.eventManager=l,this.sharedStylesHost=u,this.appId=y,this.removeStylesOnCompDestroy=_,this.doc=F,this.platformId=Y,this.ngZone=T,this.nonce=it,this.rendererByCompId=new Map,this.platformIsServer=Ra(Y),this.defaultRenderer=new Jn(l,F,T,this.platformIsServer)}createRenderer(l,u){if(!l||!u)return this.defaultRenderer;this.platformIsServer&&u.encapsulation===Wn.ShadowDom&&(u=Ae(Tt({},u),{encapsulation:Wn.Emulated}));let y=this.getOrCreateRenderer(l,u);return y instanceof Xs?y.applyToHost(l):y instanceof qn&&y.applyStyles(),y}getOrCreateRenderer(l,u){let y=this.rendererByCompId,_=y.get(u.id);if(!_){let F=this.doc,Y=this.ngZone,T=this.eventManager,it=this.sharedStylesHost,dt=this.removeStylesOnCompDestroy,ct=this.platformIsServer;switch(u.encapsulation){case Wn.Emulated:_=new Xs(T,it,u,this.appId,dt,F,Y,ct);break;case Wn.ShadowDom:return new Ka(T,it,l,u,F,Y,this.nonce,ct);default:_=new qn(T,it,u,dt,F,Y,ct);break}y.set(u.id,_)}return _}ngOnDestroy(){this.rendererByCompId.clear()}};s.\u0275fac=function(u){return new(u||s)(ae(Jr),ae(qr),ae(Fa),ae(gd),ae(ii),ae(tn),ae(ci),ae(Ia))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),Jn=class{constructor(s,p,l,u){this.eventManager=s,this.doc=p,this.ngZone=l,this.platformIsServer=u,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(s,p){return p?this.doc.createElementNS(ja[p]||p,s):this.doc.createElement(s)}createComment(s){return this.doc.createComment(s)}createText(s){return this.doc.createTextNode(s)}appendChild(s,p){(Kr(s)?s.content:s).appendChild(p)}insertBefore(s,p,l){s&&(Kr(s)?s.content:s).insertBefore(p,l)}removeChild(s,p){s&&s.removeChild(p)}selectRootElement(s,p){let l=typeof s=="string"?this.doc.querySelector(s):s;if(!l)throw new Pe(-5104,!1);return p||(l.textContent=""),l}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,p,l,u){if(u){p=u+":"+p;let y=ja[u];y?s.setAttributeNS(y,p,l):s.setAttribute(p,l)}else s.setAttribute(p,l)}removeAttribute(s,p,l){if(l){let u=ja[l];u?s.removeAttributeNS(u,p):s.removeAttribute(`${l}:${p}`)}else s.removeAttribute(p)}addClass(s,p){s.classList.add(p)}removeClass(s,p){s.classList.remove(p)}setStyle(s,p,l,u){u&(Nn.DashCase|Nn.Important)?s.style.setProperty(p,l,u&Nn.Important?"important":""):s.style[p]=l}removeStyle(s,p,l){l&Nn.DashCase?s.style.removeProperty(p):s.style[p]=""}setProperty(s,p,l){s!=null&&(s[p]=l)}setValue(s,p){s.nodeValue=p}listen(s,p,l){if(typeof s=="string"&&(s=Cn().getGlobalEventTarget(this.doc,s),!s))throw new Error(`Unsupported event target ${s} for event ${p}`);return this.eventManager.addEventListener(s,p,this.decoratePreventDefault(l))}decoratePreventDefault(s){return p=>{if(p==="__ngUnwrap__")return s;(this.platformIsServer?this.ngZone.runGuarded(()=>s(p)):s(p))===!1&&p.preventDefault()}}};function Kr(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Ka=class extends Jn{constructor(s,p,l,u,y,_,F,Y){super(s,y,_,Y),this.sharedStylesHost=p,this.hostEl=l,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let T=el(u.id,u.styles);for(let it of T){let dt=document.createElement("style");F&&dt.setAttribute("nonce",F),dt.textContent=it,this.shadowRoot.appendChild(dt)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}appendChild(s,p){return super.appendChild(this.nodeOrShadowRoot(s),p)}insertBefore(s,p,l){return super.insertBefore(this.nodeOrShadowRoot(s),p,l)}removeChild(s,p){return super.removeChild(this.nodeOrShadowRoot(s),p)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qn=class extends Jn{constructor(s,p,l,u,y,_,F,Y){super(s,y,_,F),this.sharedStylesHost=p,this.removeStylesOnCompDestroy=u,this.styles=Y?el(Y,l.styles):l.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xs=class extends qn{constructor(s,p,l,u,y,_,F,Y){let T=u+"-"+l.id;super(s,p,l,y,_,F,Y,T),this.contentAttr=xd(T),this.hostAttr=fd(T)}applyToHost(s){this.applyStyles(),this.setAttribute(s,this.hostAttr,"")}createElement(s,p){let l=super.createElement(s,p);return super.setAttribute(l,this.contentAttr,""),l}},yd=(()=>{let s=class s extends Ws{constructor(l){super(l)}supports(l){return!0}addEventListener(l,u,y){return l.addEventListener(u,y,!1),()=>this.removeEventListener(l,u,y)}removeEventListener(l,u,y){return l.removeEventListener(u,y)}};s.\u0275fac=function(u){return new(u||s)(ae(ii))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),Qr=["alt","control","meta","shift"],vd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bd={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Md=(()=>{let s=class s extends Ws{constructor(l){super(l)}supports(l){return s.parseEventName(l)!=null}addEventListener(l,u,y){let _=s.parseEventName(u),F=s.eventCallback(_.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cn().onAndCancel(l,_.domEventName,F))}static parseEventName(l){let u=l.toLowerCase().split("."),y=u.shift();if(u.length===0||!(y==="keydown"||y==="keyup"))return null;let _=s._normalizeKey(u.pop()),F="",Y=u.indexOf("code");if(Y>-1&&(u.splice(Y,1),F="code."),Qr.forEach(it=>{let dt=u.indexOf(it);dt>-1&&(u.splice(dt,1),F+=it+".")}),F+=_,u.length!=0||_.length===0)return null;let T={};return T.domEventName=y,T.fullKey=F,T}static matchEventFullKeyCode(l,u){let y=vd[l.key]||l.key,_="";return u.indexOf("code.")>-1&&(y=l.code,_="code."),y==null||!y?!1:(y=y.toLowerCase(),y===" "?y="space":y==="."&&(y="dot"),Qr.forEach(F=>{if(F!==y){let Y=bd[F];Y(l)&&(_+=F+".")}}),_+=y,_===u)}static eventCallback(l,u,y){return _=>{s.matchEventFullKeyCode(_,l)&&y.runGuarded(()=>u(_))}}static _normalizeKey(l){return l==="esc"?"escape":l}};s.\u0275fac=function(u){return new(u||s)(ae(ii))},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})();function il(r,s){return Tr(Tt({rootComponent:r},Cd(s)))}function Cd(r){return{appProviders:[...kd,...r?.providers??[]],platformProviders:Sd}}function Td(){$a.makeCurrent()}function wd(){return new Aa}function Pd(){return cr(document),document}var Sd=[{provide:tn,useValue:Fr},{provide:ur,useValue:Td,multi:!0},{provide:ii,useFactory:Pd,deps:[]}];var kd=[{provide:hr,useValue:"root"},{provide:Aa,useFactory:wd,deps:[]},{provide:Ga,useClass:yd,multi:!0,deps:[ii,ci,tn]},{provide:Ga,useClass:Md,multi:!0,deps:[ii]},Ns,qr,Jr,{provide:Ts,useExisting:Ns},{provide:Ds,useClass:cd,deps:[]},[]];var nl=(()=>{let s=class s{constructor(l){this._doc=l}getTitle(){return this._doc.title}setTitle(l){this._doc.title=l||""}};s.\u0275fac=function(u){return new(u||s)(ae(ii))},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();var Qa=function(r){return r[r.NoHttpTransferCache=0]="NoHttpTransferCache",r[r.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",r}(Qa||{});function sl(...r){let s=[],p=new Set,l=p.has(Qa.HttpTransferCacheOptions);for(let{\u0275providers:u,\u0275kind:y}of r)p.add(y),u.length&&s.push(u);return Oi([[],wr(),p.has(Qa.NoHttpTransferCache)||l?[]:$r({}),s])}var jt="primary",ms=Symbol("RouteTitle"),io=class{constructor(s){this.params=s||{}}has(s){return Object.prototype.hasOwnProperty.call(this.params,s)}get(s){if(this.has(s)){let p=this.params[s];return Array.isArray(p)?p[0]:p}return null}getAll(s){if(this.has(s)){let p=this.params[s];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}};function An(r){return new io(r)}function Ad(r,s,p){let l=p.path.split("/");if(l.length>r.length||p.pathMatch==="full"&&(s.hasChildren()||l.length<r.length))return null;let u={};for(let y=0;y<l.length;y++){let _=l[y],F=r[y];if(_.startsWith(":"))u[_.substring(1)]=F;else if(_!==F.path)return null}return{consumed:r.slice(0,l.length),posParams:u}}function Fd(r,s){if(r.length!==s.length)return!1;for(let p=0;p<r.length;++p)if(!bi(r[p],s[p]))return!1;return!0}function bi(r,s){let p=r?no(r):void 0,l=s?no(s):void 0;if(!p||!l||p.length!=l.length)return!1;let u;for(let y=0;y<p.length;y++)if(u=p[y],!dl(r[u],s[u]))return!1;return!0}function no(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function dl(r,s){if(Array.isArray(r)&&Array.isArray(s)){if(r.length!==s.length)return!1;let p=[...r].sort(),l=[...s].sort();return p.every((u,y)=>l[y]===u)}else return r===s}function cl(r){return r.length>0?r[r.length-1]:null}function ji(r){return tr(r)?r:ks(r)?Qe(Promise.resolve(r)):Nt(r)}var Id={exact:pl,subset:ml},ul={exact:Dd,subset:Vd,ignored:()=>!0};function al(r,s,p){return Id[p.paths](r.root,s.root,p.matrixParams)&&ul[p.queryParams](r.queryParams,s.queryParams)&&!(p.fragment==="exact"&&r.fragment!==s.fragment)}function Dd(r,s){return bi(r,s)}function pl(r,s,p){if(!ln(r.segments,s.segments)||!Us(r.segments,s.segments,p)||r.numberOfChildren!==s.numberOfChildren)return!1;for(let l in s.children)if(!r.children[l]||!pl(r.children[l],s.children[l],p))return!1;return!0}function Vd(r,s){return Object.keys(s).length<=Object.keys(r).length&&Object.keys(s).every(p=>dl(r[p],s[p]))}function ml(r,s,p){return gl(r,s,s.segments,p)}function gl(r,s,p,l){if(r.segments.length>p.length){let u=r.segments.slice(0,p.length);return!(!ln(u,p)||s.hasChildren()||!Us(u,p,l))}else if(r.segments.length===p.length){if(!ln(r.segments,p)||!Us(r.segments,p,l))return!1;for(let u in s.children)if(!r.children[u]||!ml(r.children[u],s.children[u],l))return!1;return!0}else{let u=p.slice(0,r.segments.length),y=p.slice(r.segments.length);return!ln(r.segments,u)||!Us(r.segments,u,l)||!r.children[jt]?!1:gl(r.children[jt],s,y,l)}}function Us(r,s,p){return s.every((l,u)=>ul[p](r[u].parameters,l.parameters))}var Yi=class{constructor(s=new he([],{}),p={},l=null){this.root=s,this.queryParams=p,this.fragment=l}get queryParamMap(){return this._queryParamMap??=An(this.queryParams),this._queryParamMap}toString(){return Ed.serialize(this)}},he=class{constructor(s,p){this.segments=s,this.children=p,this.parent=null,Object.values(p).forEach(l=>l.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return js(this)}},rn=class{constructor(s,p){this.path=s,this.parameters=p}get parameterMap(){return this._parameterMap??=An(this.parameters),this._parameterMap}toString(){return fl(this)}};function Bd(r,s){return ln(r,s)&&r.every((p,l)=>bi(p.parameters,s[l].parameters))}function ln(r,s){return r.length!==s.length?!1:r.every((p,l)=>p.path===s[l].path)}function Ld(r,s){let p=[];return Object.entries(r.children).forEach(([l,u])=>{l===jt&&(p=p.concat(s(u,l)))}),Object.entries(r.children).forEach(([l,u])=>{l!==jt&&(p=p.concat(s(u,l)))}),p}var Fo=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:()=>new $s,providedIn:"root"});let r=s;return r})(),$s=class{parse(s){let p=new ao(s);return new Yi(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(s){let p=`/${ts(s.root,!0)}`,l=Wd(s.queryParams),u=typeof s.fragment=="string"?`#${Od(s.fragment)}`:"";return`${p}${l}${u}`}},Ed=new $s;function js(r){return r.segments.map(s=>fl(s)).join("/")}function ts(r,s){if(!r.hasChildren())return js(r);if(s){let p=r.children[jt]?ts(r.children[jt],!1):"",l=[];return Object.entries(r.children).forEach(([u,y])=>{u!==jt&&l.push(`${u}:${ts(y,!1)}`)}),l.length>0?`${p}(${l.join("//")})`:p}else{let p=Ld(r,(l,u)=>u===jt?[ts(r.children[jt],!1)]:[`${u}:${ts(l,!1)}`]);return Object.keys(r.children).length===1&&r.children[jt]!=null?`${js(r)}/${p[0]}`:`${js(r)}/(${p.join("//")})`}}function xl(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ys(r){return xl(r).replace(/%3B/gi,";")}function Od(r){return encodeURI(r)}function so(r){return xl(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hs(r){return decodeURIComponent(r)}function ol(r){return Hs(r.replace(/\+/g,"%20"))}function fl(r){return`${so(r.path)}${Rd(r.parameters)}`}function Rd(r){return Object.entries(r).map(([s,p])=>`;${so(s)}=${so(p)}`).join("")}function Wd(r){let s=Object.entries(r).map(([p,l])=>Array.isArray(l)?l.map(u=>`${Ys(p)}=${Ys(u)}`).join("&"):`${Ys(p)}=${Ys(l)}`).filter(p=>p);return s.length?`?${s.join("&")}`:""}var Nd=/^[^\/()?;#]+/;function Ja(r){let s=r.match(Nd);return s?s[0]:""}var Xd=/^[^\/()?;=#]+/;function Yd(r){let s=r.match(Xd);return s?s[0]:""}var zd=/^[^=?&#]+/;function Ud(r){let s=r.match(zd);return s?s[0]:""}var jd=/^[^&#]+/;function Hd(r){let s=r.match(jd);return s?s[0]:""}var ao=class{constructor(s){this.url=s,this.remaining=s}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){let s={};if(this.consumeOptional("?"))do this.parseQueryParam(s);while(this.consumeOptional("&"));return s}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let s=[];for(this.peekStartsWith("(")||s.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),s.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let l={};return this.peekStartsWith("(")&&(l=this.parseParens(!1)),(s.length>0||Object.keys(p).length>0)&&(l[jt]=new he(s,p)),l}parseSegment(){let s=Ja(this.remaining);if(s===""&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(s),new rn(Hs(s),this.parseMatrixParams())}parseMatrixParams(){let s={};for(;this.consumeOptional(";");)this.parseParam(s);return s}parseParam(s){let p=Yd(this.remaining);if(!p)return;this.capture(p);let l="";if(this.consumeOptional("=")){let u=Ja(this.remaining);u&&(l=u,this.capture(l))}s[Hs(p)]=Hs(l)}parseQueryParam(s){let p=Ud(this.remaining);if(!p)return;this.capture(p);let l="";if(this.consumeOptional("=")){let _=Hd(this.remaining);_&&(l=_,this.capture(l))}let u=ol(p),y=ol(l);if(s.hasOwnProperty(u)){let _=s[u];Array.isArray(_)||(_=[_],s[u]=_),_.push(y)}else s[u]=y}parseParens(s){let p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let l=Ja(this.remaining),u=this.remaining[l.length];if(u!=="/"&&u!==")"&&u!==";")throw new Pe(4010,!1);let y;l.indexOf(":")>-1?(y=l.slice(0,l.indexOf(":")),this.capture(y),this.capture(":")):s&&(y=jt);let _=this.parseChildren();p[y]=Object.keys(_).length===1?_[jt]:new he([],_),this.consumeOptional("//")}return p}peekStartsWith(s){return this.remaining.startsWith(s)}consumeOptional(s){return this.peekStartsWith(s)?(this.remaining=this.remaining.substring(s.length),!0):!1}capture(s){if(!this.consumeOptional(s))throw new Pe(4011,!1)}};function yl(r){return r.segments.length>0?new he([],{[jt]:r}):r}function vl(r){let s={};for(let[l,u]of Object.entries(r.children)){let y=vl(u);if(l===jt&&y.segments.length===0&&y.hasChildren())for(let[_,F]of Object.entries(y.children))s[_]=F;else(y.segments.length>0||y.hasChildren())&&(s[l]=y)}let p=new he(r.segments,s);return $d(p)}function $d(r){if(r.numberOfChildren===1&&r.children[jt]){let s=r.children[jt];return new he(r.segments.concat(s.segments),s.children)}return r}function Fn(r){return r instanceof Yi}function Gd(r,s,p=null,l=null){let u=bl(r);return Ml(u,s,p,l)}function bl(r){let s;function p(y){let _={};for(let Y of y.children){let T=p(Y);_[Y.outlet]=T}let F=new he(y.url,_);return y===r&&(s=F),F}let l=p(r.root),u=yl(l);return s??u}function Ml(r,s,p,l){let u=r;for(;u.parent;)u=u.parent;if(s.length===0)return qa(u,u,u,p,l);let y=Kd(s);if(y.toRoot())return qa(u,u,new he([],{}),p,l);let _=Qd(y,u,r),F=_.processChildren?ns(_.segmentGroup,_.index,y.commands):Tl(_.segmentGroup,_.index,y.commands);return qa(u,_.segmentGroup,F,p,l)}function Gs(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function os(r){return typeof r=="object"&&r!=null&&r.outlets}function qa(r,s,p,l,u){let y={};l&&Object.entries(l).forEach(([Y,T])=>{y[Y]=Array.isArray(T)?T.map(it=>`${it}`):`${T}`});let _;r===s?_=p:_=Cl(r,s,p);let F=yl(vl(_));return new Yi(F,y,u)}function Cl(r,s,p){let l={};return Object.entries(r.children).forEach(([u,y])=>{y===s?l[u]=p:l[u]=Cl(y,s,p)}),new he(r.segments,l)}var Ks=class{constructor(s,p,l){if(this.isAbsolute=s,this.numberOfDoubleDots=p,this.commands=l,s&&l.length>0&&Gs(l[0]))throw new Pe(4003,!1);let u=l.find(os);if(u&&u!==cl(l))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Kd(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Ks(!0,0,r);let s=0,p=!1,l=r.reduce((u,y,_)=>{if(typeof y=="object"&&y!=null){if(y.outlets){let F={};return Object.entries(y.outlets).forEach(([Y,T])=>{F[Y]=typeof T=="string"?T.split("/"):T}),[...u,{outlets:F}]}if(y.segmentPath)return[...u,y.segmentPath]}return typeof y!="string"?[...u,y]:_===0?(y.split("/").forEach((F,Y)=>{Y==0&&F==="."||(Y==0&&F===""?p=!0:F===".."?s++:F!=""&&u.push(F))}),u):[...u,y]},[]);return new Ks(p,s,l)}var kn=class{constructor(s,p,l){this.segmentGroup=s,this.processChildren=p,this.index=l}};function Qd(r,s,p){if(r.isAbsolute)return new kn(s,!0,0);if(!p)return new kn(s,!1,NaN);if(p.parent===null)return new kn(p,!0,0);let l=Gs(r.commands[0])?0:1,u=p.segments.length-1+l;return Zd(p,u,r.numberOfDoubleDots)}function Zd(r,s,p){let l=r,u=s,y=p;for(;y>u;){if(y-=u,l=l.parent,!l)throw new Pe(4005,!1);u=l.segments.length}return new kn(l,!1,u-y)}function Jd(r){return os(r[0])?r[0].outlets:{[jt]:r}}function Tl(r,s,p){if(r??=new he([],{}),r.segments.length===0&&r.hasChildren())return ns(r,s,p);let l=qd(r,s,p),u=p.slice(l.commandIndex);if(l.match&&l.pathIndex<r.segments.length){let y=new he(r.segments.slice(0,l.pathIndex),{});return y.children[jt]=new he(r.segments.slice(l.pathIndex),r.children),ns(y,0,u)}else return l.match&&u.length===0?new he(r.segments,{}):l.match&&!r.hasChildren()?oo(r,s,p):l.match?ns(r,0,u):oo(r,s,p)}function ns(r,s,p){if(p.length===0)return new he(r.segments,{});{let l=Jd(p),u={};if(Object.keys(l).some(y=>y!==jt)&&r.children[jt]&&r.numberOfChildren===1&&r.children[jt].segments.length===0){let y=ns(r.children[jt],s,p);return new he(r.segments,y.children)}return Object.entries(l).forEach(([y,_])=>{typeof _=="string"&&(_=[_]),_!==null&&(u[y]=Tl(r.children[y],s,_))}),Object.entries(r.children).forEach(([y,_])=>{l[y]===void 0&&(u[y]=_)}),new he(r.segments,u)}}function qd(r,s,p){let l=0,u=s,y={match:!1,pathIndex:0,commandIndex:0};for(;u<r.segments.length;){if(l>=p.length)return y;let _=r.segments[u],F=p[l];if(os(F))break;let Y=`${F}`,T=l<p.length-1?p[l+1]:null;if(u>0&&Y===void 0)break;if(Y&&T&&typeof T=="object"&&T.outlets===void 0){if(!ll(Y,T,_))return y;l+=2}else{if(!ll(Y,{},_))return y;l++}u++}return{match:!0,pathIndex:u,commandIndex:l}}function oo(r,s,p){let l=r.segments.slice(0,s),u=0;for(;u<p.length;){let y=p[u];if(os(y)){let Y=tc(y.outlets);return new he(l,Y)}if(u===0&&Gs(p[0])){let Y=r.segments[s];l.push(new rn(Y.path,rl(p[0]))),u++;continue}let _=os(y)?y.outlets[jt]:`${y}`,F=u<p.length-1?p[u+1]:null;_&&F&&Gs(F)?(l.push(new rn(_,rl(F))),u+=2):(l.push(new rn(_,{})),u++)}return new he(l,{})}function tc(r){let s={};return Object.entries(r).forEach(([p,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(s[p]=oo(new he([],{}),0,l))}),s}function rl(r){let s={};return Object.entries(r).forEach(([p,l])=>s[p]=`${l}`),s}function ll(r,s,p){return r==p.path&&bi(s,p.parameters)}var ss="imperative",ze=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(ze||{}),ui=class{constructor(s,p){this.id=s,this.url=p}},rs=class extends ui{constructor(s,p,l="imperative",u=null){super(s,p),this.type=ze.NavigationStart,this.navigationTrigger=l,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zi=class extends ui{constructor(s,p,l){super(s,p),this.urlAfterRedirects=l,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},oi=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(oi||{}),ro=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(ro||{}),Ui=class extends ui{constructor(s,p,l,u){super(s,p),this.reason=l,this.code=u,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hn=class extends ui{constructor(s,p,l,u){super(s,p),this.reason=l,this.code=u,this.type=ze.NavigationSkipped}},ls=class extends ui{constructor(s,p,l,u){super(s,p),this.error=l,this.target=u,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qs=class extends ui{constructor(s,p,l,u){super(s,p),this.urlAfterRedirects=l,this.state=u,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lo=class extends ui{constructor(s,p,l,u){super(s,p),this.urlAfterRedirects=l,this.state=u,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ho=class extends ui{constructor(s,p,l,u,y){super(s,p),this.urlAfterRedirects=l,this.state=u,this.shouldActivate=y,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},co=class extends ui{constructor(s,p,l,u){super(s,p),this.urlAfterRedirects=l,this.state=u,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uo=class extends ui{constructor(s,p,l,u){super(s,p),this.urlAfterRedirects=l,this.state=u,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},po=class{constructor(s){this.route=s,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mo=class{constructor(s){this.route=s,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},go=class{constructor(s){this.snapshot=s,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xo=class{constructor(s){this.snapshot=s,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fo=class{constructor(s){this.snapshot=s,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yo=class{constructor(s){this.snapshot=s,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hs=class{},ds=class{constructor(s){this.url=s}};var vo=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ia,this.attachRef=null}},ia=(()=>{let s=class s{constructor(){this.contexts=new Map}onChildOutletCreated(l,u){let y=this.getOrCreateContext(l);y.outlet=u,this.contexts.set(l,y)}onChildOutletDestroyed(l){let u=this.getContext(l);u&&(u.outlet=null,u.attachRef=null)}onOutletDeactivated(){let l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let u=this.getContext(l);return u||(u=new vo,this.contexts.set(l,u)),u}getContext(l){return this.contexts.get(l)||null}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})(),Zs=class{constructor(s){this._root=s}get root(){return this._root.value}parent(s){let p=this.pathFromRoot(s);return p.length>1?p[p.length-2]:null}children(s){let p=bo(s,this._root);return p?p.children.map(l=>l.value):[]}firstChild(s){let p=bo(s,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(s){let p=Mo(s,this._root);return p.length<2?[]:p[p.length-2].children.map(u=>u.value).filter(u=>u!==s)}pathFromRoot(s){return Mo(s,this._root).map(p=>p.value)}};function bo(r,s){if(r===s.value)return s;for(let p of s.children){let l=bo(r,p);if(l)return l}return null}function Mo(r,s){if(r===s.value)return[s];for(let p of s.children){let l=Mo(r,p);if(l.length)return l.unshift(s),l}return[]}var ai=class{constructor(s,p){this.value=s,this.children=p}toString(){return`TreeNode(${this.value})`}};function Sn(r){let s={};return r&&r.children.forEach(p=>s[p.value.outlet]=p),s}var Js=class extends Zs{constructor(s,p){super(s),this.snapshot=p,Do(this,s)}toString(){return this.snapshot.toString()}};function wl(r){let s=ec(r),p=new Ye([new rn("",{})]),l=new Ye({}),u=new Ye({}),y=new Ye({}),_=new Ye(""),F=new dn(p,l,y,_,u,jt,r,s.root);return F.snapshot=s.root,new Js(new ai(F,[]),s)}function ec(r){let s={},p={},l={},u="",y=new cs([],s,l,u,p,jt,r,null,{});return new qs("",new ai(y,[]))}var dn=class{constructor(s,p,l,u,y,_,F,Y){this.urlSubject=s,this.paramsSubject=p,this.queryParamsSubject=l,this.fragmentSubject=u,this.dataSubject=y,this.outlet=_,this.component=F,this._futureSnapshot=Y,this.title=this.dataSubject?.pipe(ee(T=>T[ms]))??Nt(void 0),this.url=s,this.params=p,this.queryParams=l,this.fragment=u,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(s=>An(s))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(s=>An(s))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Io(r,s,p="emptyOnly"){let l,{routeConfig:u}=r;return s!==null&&(p==="always"||u?.path===""||!s.component&&!s.routeConfig?.loadComponent)?l={params:Tt(Tt({},s.params),r.params),data:Tt(Tt({},s.data),r.data),resolve:Tt(Tt(Tt(Tt({},r.data),s.data),u?.data),r._resolvedData)}:l={params:Tt({},r.params),data:Tt({},r.data),resolve:Tt(Tt({},r.data),r._resolvedData??{})},u&&Sl(u)&&(l.resolve[ms]=u.title),l}var cs=class{get title(){return this.data?.[ms]}constructor(s,p,l,u,y,_,F,Y,T){this.url=s,this.params=p,this.queryParams=l,this.fragment=u,this.data=y,this.outlet=_,this.component=F,this.routeConfig=Y,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=An(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=An(this.queryParams),this._queryParamMap}toString(){let s=this.url.map(l=>l.toString()).join("/"),p=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${s}', path:'${p}')`}},qs=class extends Zs{constructor(s,p){super(p),this.url=s,Do(this,p)}toString(){return Pl(this._root)}};function Do(r,s){s.value._routerState=r,s.children.forEach(p=>Do(r,p))}function Pl(r){let s=r.children.length>0?` { ${r.children.map(Pl).join(", ")} } `:"";return`${r.value}${s}`}function to(r){if(r.snapshot){let s=r.snapshot,p=r._futureSnapshot;r.snapshot=p,bi(s.queryParams,p.queryParams)||r.queryParamsSubject.next(p.queryParams),s.fragment!==p.fragment&&r.fragmentSubject.next(p.fragment),bi(s.params,p.params)||r.paramsSubject.next(p.params),Fd(s.url,p.url)||r.urlSubject.next(p.url),bi(s.data,p.data)||r.dataSubject.next(p.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Co(r,s){let p=bi(r.params,s.params)&&Bd(r.url,s.url),l=!r.parent!=!s.parent;return p&&!l&&(!r.parent||Co(r.parent,s.parent))}function Sl(r){return typeof r.title=="string"||r.title===null}var Vo=(()=>{let s=class s{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new di,this.deactivateEvents=new di,this.attachEvents=new di,this.detachEvents=new di,this.parentContexts=_t(ia),this.location=_t(xr),this.changeDetector=_t(jn),this.environmentInjector=_t(fn),this.inputBinder=_t(Bo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(l){if(l.name){let{firstChange:u,previousValue:y}=l.name;if(u)return;this.isTrackedInParentContexts(y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(l){return this.parentContexts.getContext(l)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let l=this.parentContexts.getContext(this.name);l?.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();let l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,u){this.activated=l,this._activatedRoute=u,this.location.insert(l.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){let l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,u){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=l;let y=this.location,F=l.snapshot.component,Y=this.parentContexts.getOrCreateContext(this.name).children,T=new To(l,Y,y.injector);this.activated=y.createComponent(F,{index:y.length,injector:T,environmentInjector:u??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};s.\u0275fac=function(u){return new(u||s)},s.\u0275dir=Ze({type:s,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ri]});let r=s;return r})(),To=class{constructor(s,p,l){this.route=s,this.childContexts=p,this.parent=l}get(s,p){return s===dn?this.route:s===ia?this.childContexts:this.parent.get(s,p)}},Bo=new fe("");function ic(r,s,p){let l=us(r,s._root,p?p._root:void 0);return new Js(l,s)}function us(r,s,p){if(p&&r.shouldReuseRoute(s.value,p.value.snapshot)){let l=p.value;l._futureSnapshot=s.value;let u=nc(r,s,p);return new ai(l,u)}else{if(r.shouldAttach(s.value)){let y=r.retrieve(s.value);if(y!==null){let _=y.route;return _.value._futureSnapshot=s.value,_.children=s.children.map(F=>us(r,F)),_}}let l=sc(s.value),u=s.children.map(y=>us(r,y));return new ai(l,u)}}function nc(r,s,p){return s.children.map(l=>{for(let u of p.children)if(r.shouldReuseRoute(l.value,u.value.snapshot))return us(r,l,u);return us(r,l)})}function sc(r){return new dn(new Ye(r.url),new Ye(r.params),new Ye(r.queryParams),new Ye(r.fragment),new Ye(r.data),r.outlet,r.component,r)}var kl="ngNavigationCancelingError";function _l(r,s){let{redirectTo:p,navigationBehaviorOptions:l}=Fn(s)?{redirectTo:s,navigationBehaviorOptions:void 0}:s,u=Al(!1,oi.Redirect);return u.url=p,u.navigationBehaviorOptions=l,u}function Al(r,s){let p=new Error(`NavigationCancelingError: ${r||""}`);return p[kl]=!0,p.cancellationCode=s,p}function ac(r){return Fl(r)&&Fn(r.url)}function Fl(r){return!!r&&r[kl]}var oc=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275cmp=Re({type:s,selectors:[["ng-component"]],standalone:!0,features:[Ue],decls:1,vars:0,template:function(u,y){u&1&&ye(0,"router-outlet")},dependencies:[Vo],encapsulation:2});let r=s;return r})();function rc(r,s){return r.providers&&!r._injector&&(r._injector=vr(r.providers,s,`Route: ${r.path}`)),r._injector??s}function Lo(r){let s=r.children&&r.children.map(Lo),p=s?Ae(Tt({},r),{children:s}):Tt({},r);return!p.component&&!p.loadComponent&&(s||p.loadChildren)&&p.outlet&&p.outlet!==jt&&(p.component=oc),p}function Mi(r){return r.outlet||jt}function lc(r,s){let p=r.filter(l=>Mi(l)===s);return p.push(...r.filter(l=>Mi(l)!==s)),p}function gs(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let s=r.parent;s;s=s.parent){let p=s.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}var hc=(r,s,p,l)=>ee(u=>(new wo(s,u.targetRouterState,u.currentRouterState,p,l).activate(r),u)),wo=class{constructor(s,p,l,u,y){this.routeReuseStrategy=s,this.futureState=p,this.currState=l,this.forwardEvent=u,this.inputBindingEnabled=y}activate(s){let p=this.futureState._root,l=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,l,s),to(this.futureState.root),this.activateChildRoutes(p,l,s)}deactivateChildRoutes(s,p,l){let u=Sn(p);s.children.forEach(y=>{let _=y.value.outlet;this.deactivateRoutes(y,u[_],l),delete u[_]}),Object.values(u).forEach(y=>{this.deactivateRouteAndItsChildren(y,l)})}deactivateRoutes(s,p,l){let u=s.value,y=p?p.value:null;if(u===y)if(u.component){let _=l.getContext(u.outlet);_&&this.deactivateChildRoutes(s,p,_.children)}else this.deactivateChildRoutes(s,p,l);else y&&this.deactivateRouteAndItsChildren(p,l)}deactivateRouteAndItsChildren(s,p){s.value.component&&this.routeReuseStrategy.shouldDetach(s.value.snapshot)?this.detachAndStoreRouteSubtree(s,p):this.deactivateRouteAndOutlet(s,p)}detachAndStoreRouteSubtree(s,p){let l=p.getContext(s.value.outlet),u=l&&s.value.component?l.children:p,y=Sn(s);for(let _ of Object.values(y))this.deactivateRouteAndItsChildren(_,u);if(l&&l.outlet){let _=l.outlet.detach(),F=l.children.onOutletDeactivated();this.routeReuseStrategy.store(s.value.snapshot,{componentRef:_,route:s,contexts:F})}}deactivateRouteAndOutlet(s,p){let l=p.getContext(s.value.outlet),u=l&&s.value.component?l.children:p,y=Sn(s);for(let _ of Object.values(y))this.deactivateRouteAndItsChildren(_,u);l&&(l.outlet&&(l.outlet.deactivate(),l.children.onOutletDeactivated()),l.attachRef=null,l.route=null)}activateChildRoutes(s,p,l){let u=Sn(p);s.children.forEach(y=>{this.activateRoutes(y,u[y.value.outlet],l),this.forwardEvent(new yo(y.value.snapshot))}),s.children.length&&this.forwardEvent(new xo(s.value.snapshot))}activateRoutes(s,p,l){let u=s.value,y=p?p.value:null;if(to(u),u===y)if(u.component){let _=l.getOrCreateContext(u.outlet);this.activateChildRoutes(s,p,_.children)}else this.activateChildRoutes(s,p,l);else if(u.component){let _=l.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){let F=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),_.children.onOutletReAttached(F.contexts),_.attachRef=F.componentRef,_.route=F.route.value,_.outlet&&_.outlet.attach(F.componentRef,F.route.value),to(F.route.value),this.activateChildRoutes(s,null,_.children)}else{let F=gs(u.snapshot);_.attachRef=null,_.route=u,_.injector=F,_.outlet&&_.outlet.activateWith(u,_.injector),this.activateChildRoutes(s,null,_.children)}}else this.activateChildRoutes(s,null,l)}},ta=class{constructor(s){this.path=s,this.route=this.path[this.path.length-1]}},_n=class{constructor(s,p){this.component=s,this.route=p}};function dc(r,s,p){let l=r._root,u=s?s._root:null;return es(l,u,p,[l.value])}function cc(r){let s=r.routeConfig?r.routeConfig.canActivateChild:null;return!s||s.length===0?null:{node:r,guards:s}}function Dn(r,s){let p=Symbol(),l=s.get(r,p);return l===p?typeof r=="function"&&!lr(r)?r:s.get(r):l}function es(r,s,p,l,u={canDeactivateChecks:[],canActivateChecks:[]}){let y=Sn(s);return r.children.forEach(_=>{uc(_,y[_.value.outlet],p,l.concat([_.value]),u),delete y[_.value.outlet]}),Object.entries(y).forEach(([_,F])=>as(F,p.getContext(_),u)),u}function uc(r,s,p,l,u={canDeactivateChecks:[],canActivateChecks:[]}){let y=r.value,_=s?s.value:null,F=p?p.getContext(r.value.outlet):null;if(_&&y.routeConfig===_.routeConfig){let Y=pc(_,y,y.routeConfig.runGuardsAndResolvers);Y?u.canActivateChecks.push(new ta(l)):(y.data=_.data,y._resolvedData=_._resolvedData),y.component?es(r,s,F?F.children:null,l,u):es(r,s,p,l,u),Y&&F&&F.outlet&&F.outlet.isActivated&&u.canDeactivateChecks.push(new _n(F.outlet.component,_))}else _&&as(s,F,u),u.canActivateChecks.push(new ta(l)),y.component?es(r,null,F?F.children:null,l,u):es(r,null,p,l,u);return u}function pc(r,s,p){if(typeof p=="function")return p(r,s);switch(p){case"pathParamsChange":return!ln(r.url,s.url);case"pathParamsOrQueryParamsChange":return!ln(r.url,s.url)||!bi(r.queryParams,s.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(r,s)||!bi(r.queryParams,s.queryParams);case"paramsChange":default:return!Co(r,s)}}function as(r,s,p){let l=Sn(r),u=r.value;Object.entries(l).forEach(([y,_])=>{u.component?s?as(_,s.children.getContext(y),p):as(_,null,p):as(_,s,p)}),u.component?s&&s.outlet&&s.outlet.isActivated?p.canDeactivateChecks.push(new _n(s.outlet.component,u)):p.canDeactivateChecks.push(new _n(null,u)):p.canDeactivateChecks.push(new _n(null,u))}function xs(r){return typeof r=="function"}function mc(r){return typeof r=="boolean"}function gc(r){return r&&xs(r.canLoad)}function xc(r){return r&&xs(r.canActivate)}function fc(r){return r&&xs(r.canActivateChild)}function yc(r){return r&&xs(r.canDeactivate)}function vc(r){return r&&xs(r.canMatch)}function Il(r){return r instanceof er||r?.name==="EmptyError"}var zs=Symbol("INITIAL_VALUE");function In(){return hi(r=>Ta(r.map(s=>s.pipe(gn(1),Rn(zs)))).pipe(ee(s=>{for(let p of s)if(p!==!0){if(p===zs)return zs;if(p===!1||p instanceof Yi)return p}return!0}),Li(s=>s!==zs),gn(1)))}function bc(r,s){return li(p=>{let{targetSnapshot:l,currentSnapshot:u,guards:{canActivateChecks:y,canDeactivateChecks:_}}=p;return _.length===0&&y.length===0?Nt(Ae(Tt({},p),{guardsResult:!0})):Mc(_,l,u,r).pipe(li(F=>F&&mc(F)?Cc(l,y,r,s):Nt(F)),ee(F=>Ae(Tt({},p),{guardsResult:F})))})}function Mc(r,s,p,l){return Qe(r).pipe(li(u=>kc(u.component,u.route,p,s,l)),Ei(u=>u!==!0,!0))}function Cc(r,s,p,l){return Qe(s).pipe(Zi(u=>ir(wc(u.route.parent,l),Tc(u.route,l),Sc(r,u.path,p),Pc(r,u.route,p))),Ei(u=>u!==!0,!0))}function Tc(r,s){return r!==null&&s&&s(new fo(r)),Nt(!0)}function wc(r,s){return r!==null&&s&&s(new go(r)),Nt(!0)}function Pc(r,s,p){let l=s.routeConfig?s.routeConfig.canActivate:null;if(!l||l.length===0)return Nt(!0);let u=l.map(y=>wa(()=>{let _=gs(s)??p,F=Dn(y,_),Y=xc(F)?F.canActivate(s,r):Si(_,()=>F(s,r));return ji(Y).pipe(Ei())}));return Nt(u).pipe(In())}function Sc(r,s,p){let l=s[s.length-1],y=s.slice(0,s.length-1).reverse().map(_=>cc(_)).filter(_=>_!==null).map(_=>wa(()=>{let F=_.guards.map(Y=>{let T=gs(_.node)??p,it=Dn(Y,T),dt=fc(it)?it.canActivateChild(l,r):Si(T,()=>it(l,r));return ji(dt).pipe(Ei())});return Nt(F).pipe(In())}));return Nt(y).pipe(In())}function kc(r,s,p,l,u){let y=s&&s.routeConfig?s.routeConfig.canDeactivate:null;if(!y||y.length===0)return Nt(!0);let _=y.map(F=>{let Y=gs(s)??u,T=Dn(F,Y),it=yc(T)?T.canDeactivate(r,s,p,l):Si(Y,()=>T(r,s,p,l));return ji(it).pipe(Ei())});return Nt(_).pipe(In())}function _c(r,s,p,l){let u=s.canLoad;if(u===void 0||u.length===0)return Nt(!0);let y=u.map(_=>{let F=Dn(_,r),Y=gc(F)?F.canLoad(s,p):Si(r,()=>F(s,p));return ji(Y)});return Nt(y).pipe(In(),Dl(l))}function Dl(r){return Jo(Oe(s=>{if(Fn(s))throw _l(r,s)}),ee(s=>s===!0))}function Ac(r,s,p,l){let u=s.canMatch;if(!u||u.length===0)return Nt(!0);let y=u.map(_=>{let F=Dn(_,r),Y=vc(F)?F.canMatch(s,p):Si(r,()=>F(s,p));return ji(Y)});return Nt(y).pipe(In(),Dl(l))}var ps=class{constructor(s){this.segmentGroup=s||null}},ea=class extends Error{constructor(s){super(),this.urlTree=s}};function Pn(r){return On(new ps(r))}function Fc(r){return On(new Pe(4e3,!1))}function Ic(r){return On(Al(!1,oi.GuardRejected))}var Po=class{constructor(s,p){this.urlSerializer=s,this.urlTree=p}lineralizeSegments(s,p){let l=[],u=p.root;for(;;){if(l=l.concat(u.segments),u.numberOfChildren===0)return Nt(l);if(u.numberOfChildren>1||!u.children[jt])return Fc(s.redirectTo);u=u.children[jt]}}applyRedirectCommands(s,p,l){let u=this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),s,l);if(p.startsWith("/"))throw new ea(u);return u}applyRedirectCreateUrlTree(s,p,l,u){let y=this.createSegmentGroup(s,p.root,l,u);return new Yi(y,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(s,p){let l={};return Object.entries(s).forEach(([u,y])=>{if(typeof y=="string"&&y.startsWith(":")){let F=y.substring(1);l[u]=p[F]}else l[u]=y}),l}createSegmentGroup(s,p,l,u){let y=this.createSegments(s,p.segments,l,u),_={};return Object.entries(p.children).forEach(([F,Y])=>{_[F]=this.createSegmentGroup(s,Y,l,u)}),new he(y,_)}createSegments(s,p,l,u){return p.map(y=>y.path.startsWith(":")?this.findPosParam(s,y,u):this.findOrReturn(y,l))}findPosParam(s,p,l){let u=l[p.path.substring(1)];if(!u)throw new Pe(4001,!1);return u}findOrReturn(s,p){let l=0;for(let u of p){if(u.path===s.path)return p.splice(l),u;l++}return s}},So={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dc(r,s,p,l,u){let y=Eo(r,s,p);return y.matched?(l=rc(s,l),Ac(l,s,p,u).pipe(ee(_=>_===!0?y:Tt({},So)))):Nt(y)}function Eo(r,s,p){if(s.path==="**")return Vc(p);if(s.path==="")return s.pathMatch==="full"&&(r.hasChildren()||p.length>0)?Tt({},So):{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};let u=(s.matcher||Ad)(p,r,s);if(!u)return Tt({},So);let y={};Object.entries(u.posParams??{}).forEach(([F,Y])=>{y[F]=Y.path});let _=u.consumed.length>0?Tt(Tt({},y),u.consumed[u.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:u.consumed,remainingSegments:p.slice(u.consumed.length),parameters:_,positionalParamSegments:u.posParams??{}}}function Vc(r){return{matched:!0,parameters:r.length>0?cl(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function hl(r,s,p,l){return p.length>0&&Ec(r,p,l)?{segmentGroup:new he(s,Lc(l,new he(p,r.children))),slicedSegments:[]}:p.length===0&&Oc(r,p,l)?{segmentGroup:new he(r.segments,Bc(r,p,l,r.children)),slicedSegments:p}:{segmentGroup:new he(r.segments,r.children),slicedSegments:p}}function Bc(r,s,p,l){let u={};for(let y of p)if(na(r,s,y)&&!l[Mi(y)]){let _=new he([],{});u[Mi(y)]=_}return Tt(Tt({},l),u)}function Lc(r,s){let p={};p[jt]=s;for(let l of r)if(l.path===""&&Mi(l)!==jt){let u=new he([],{});p[Mi(l)]=u}return p}function Ec(r,s,p){return p.some(l=>na(r,s,l)&&Mi(l)!==jt)}function Oc(r,s,p){return p.some(l=>na(r,s,l))}function na(r,s,p){return(r.hasChildren()||s.length>0)&&p.pathMatch==="full"?!1:p.path===""}function Rc(r,s,p,l){return Mi(r)!==l&&(l===jt||!na(s,p,r))?!1:Eo(s,r,p).matched}function Wc(r,s,p){return s.length===0&&!r.children[p]}var ko=class{};function Nc(r,s,p,l,u,y,_="emptyOnly"){return new _o(r,s,p,l,u,_,y).recognize()}var Xc=31,_o=class{constructor(s,p,l,u,y,_,F){this.injector=s,this.configLoader=p,this.rootComponentType=l,this.config=u,this.urlTree=y,this.paramsInheritanceStrategy=_,this.urlSerializer=F,this.applyRedirects=new Po(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(s){return new Pe(4002,`'${s.segmentGroup}'`)}recognize(){let s=hl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(s).pipe(ee(p=>{let l=new cs([],Object.freeze({}),Object.freeze(Tt({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),u=new ai(l,p),y=new qs("",u),_=Gd(l,[],this.urlTree.queryParams,this.urlTree.fragment);return _.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(_),this.inheritParamsAndData(y._root,null),{state:y,tree:_}}))}match(s){return this.processSegmentGroup(this.injector,this.config,s,jt).pipe(mn(l=>{if(l instanceof ea)return this.urlTree=l.urlTree,this.match(l.urlTree.root);throw l instanceof ps?this.noMatchError(l):l}))}inheritParamsAndData(s,p){let l=s.value,u=Io(l,p,this.paramsInheritanceStrategy);l.params=Object.freeze(u.params),l.data=Object.freeze(u.data),s.children.forEach(y=>this.inheritParamsAndData(y,l))}processSegmentGroup(s,p,l,u){return l.segments.length===0&&l.hasChildren()?this.processChildren(s,p,l):this.processSegment(s,p,l,l.segments,u,!0).pipe(ee(y=>y instanceof ai?[y]:[]))}processChildren(s,p,l){let u=[];for(let y of Object.keys(l.children))y==="primary"?u.unshift(y):u.push(y);return Qe(u).pipe(Zi(y=>{let _=l.children[y],F=lc(p,y);return this.processSegmentGroup(s,F,_,y)}),or((y,_)=>(y.push(..._),y)),Pa(null),ar(),li(y=>{if(y===null)return Pn(l);let _=Vl(y);return Yc(_),Nt(_)}))}processSegment(s,p,l,u,y,_){return Qe(p).pipe(Zi(F=>this.processSegmentAgainstRoute(F._injector??s,p,F,l,u,y,_).pipe(mn(Y=>{if(Y instanceof ps)return Nt(null);throw Y}))),Ei(F=>!!F),mn(F=>{if(Il(F))return Wc(l,u,y)?Nt(new ko):Pn(l);throw F}))}processSegmentAgainstRoute(s,p,l,u,y,_,F){return Rc(l,u,y,_)?l.redirectTo===void 0?this.matchSegmentAgainstRoute(s,u,l,y,_):this.allowRedirects&&F?this.expandSegmentAgainstRouteUsingRedirect(s,u,p,l,y,_):Pn(u):Pn(u)}expandSegmentAgainstRouteUsingRedirect(s,p,l,u,y,_){let{matched:F,consumedSegments:Y,positionalParamSegments:T,remainingSegments:it}=Eo(p,u,y);if(!F)return Pn(p);u.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xc&&(this.allowRedirects=!1));let dt=this.applyRedirects.applyRedirectCommands(Y,u.redirectTo,T);return this.applyRedirects.lineralizeSegments(u,dt).pipe(li(ct=>this.processSegment(s,l,p,ct.concat(it),_,!1)))}matchSegmentAgainstRoute(s,p,l,u,y){let _=Dc(p,l,u,s,this.urlSerializer);return l.path==="**"&&(p.children={}),_.pipe(hi(F=>F.matched?(s=l._injector??s,this.getChildConfig(s,l,u).pipe(hi(({routes:Y})=>{let T=l._loadedInjector??s,{consumedSegments:it,remainingSegments:dt,parameters:ct}=F,ot=new cs(it,ct,Object.freeze(Tt({},this.urlTree.queryParams)),this.urlTree.fragment,Uc(l),Mi(l),l.component??l._loadedComponent??null,l,jc(l)),{segmentGroup:Pt,slicedSegments:We}=hl(p,it,dt,Y);if(We.length===0&&Pt.hasChildren())return this.processChildren(T,Y,Pt).pipe(ee(yt=>yt===null?null:new ai(ot,yt)));if(Y.length===0&&We.length===0)return Nt(new ai(ot,[]));let Jt=Mi(l)===y;return this.processSegment(T,Y,Pt,We,Jt?jt:y,!0).pipe(ee(yt=>new ai(ot,yt instanceof ai?[yt]:[])))}))):Pn(p)))}getChildConfig(s,p,l){return p.children?Nt({routes:p.children,injector:s}):p.loadChildren?p._loadedRoutes!==void 0?Nt({routes:p._loadedRoutes,injector:p._loadedInjector}):_c(s,p,l,this.urlSerializer).pipe(li(u=>u?this.configLoader.loadChildren(s,p).pipe(Oe(y=>{p._loadedRoutes=y.routes,p._loadedInjector=y.injector})):Ic(p))):Nt({routes:[],injector:s})}};function Yc(r){r.sort((s,p)=>s.value.outlet===jt?-1:p.value.outlet===jt?1:s.value.outlet.localeCompare(p.value.outlet))}function zc(r){let s=r.value.routeConfig;return s&&s.path===""}function Vl(r){let s=[],p=new Set;for(let l of r){if(!zc(l)){s.push(l);continue}let u=s.find(y=>l.value.routeConfig===y.value.routeConfig);u!==void 0?(u.children.push(...l.children),p.add(u)):s.push(l)}for(let l of p){let u=Vl(l.children);s.push(new ai(l.value,u))}return s.filter(l=>!p.has(l))}function Uc(r){return r.data||{}}function jc(r){return r.resolve||{}}function Hc(r,s,p,l,u,y){return li(_=>Nc(r,s,p,l,_.extractedUrl,u,y).pipe(ee(({state:F,tree:Y})=>Ae(Tt({},_),{targetSnapshot:F,urlAfterRedirects:Y}))))}function $c(r,s){return li(p=>{let{targetSnapshot:l,guards:{canActivateChecks:u}}=p;if(!u.length)return Nt(p);let y=new Set(u.map(Y=>Y.route)),_=new Set;for(let Y of y)if(!_.has(Y))for(let T of Bl(Y))_.add(T);let F=0;return Qe(_).pipe(Zi(Y=>y.has(Y)?Gc(Y,l,r,s):(Y.data=Io(Y,Y.parent,r).resolve,Nt(void 0))),Oe(()=>F++),Sa(1),li(Y=>F===_.size?Nt(p):Bi))})}function Bl(r){let s=r.children.map(p=>Bl(p)).flat();return[r,...s]}function Gc(r,s,p,l){let u=r.routeConfig,y=r._resolve;return u?.title!==void 0&&!Sl(u)&&(y[ms]=u.title),Kc(y,r,s,l).pipe(ee(_=>(r._resolvedData=_,r.data=Io(r,r.parent,p).resolve,null)))}function Kc(r,s,p,l){let u=no(r);if(u.length===0)return Nt({});let y={};return Qe(u).pipe(li(_=>Qc(r[_],s,p,l).pipe(Ei(),Oe(F=>{y[_]=F}))),Sa(1),sr(y),mn(_=>Il(_)?Bi:On(_)))}function Qc(r,s,p,l){let u=gs(s)??l,y=Dn(r,u),_=y.resolve?y.resolve(s,p):Si(u,()=>y(s,p));return ji(_)}function eo(r){return hi(s=>{let p=r(s);return p?Qe(p).pipe(ee(()=>s)):Nt(s)})}var Ll=(()=>{let s=class s{buildTitle(l){let u,y=l.root;for(;y!==void 0;)u=this.getResolvedTitleForRoute(y)??u,y=y.children.find(_=>_.outlet===jt);return u}getResolvedTitleForRoute(l){return l.data[ms]}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:()=>_t(Zc),providedIn:"root"});let r=s;return r})(),Zc=(()=>{let s=class s extends Ll{constructor(l){super(),this.title=l}updateTitle(l){let u=this.buildTitle(l);u!==void 0&&this.title.setTitle(u)}};s.\u0275fac=function(u){return new(u||s)(ae(nl))},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})(),Oo=new fe("",{providedIn:"root",factory:()=>({})}),Ro=new fe(""),Jc=(()=>{let s=class s{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_t(Ea)}loadComponent(l){if(this.componentLoaders.get(l))return this.componentLoaders.get(l);if(l._loadedComponent)return Nt(l._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(l);let u=ji(l.loadComponent()).pipe(ee(El),Oe(_=>{this.onLoadEndListener&&this.onLoadEndListener(l),l._loadedComponent=_}),xn(()=>{this.componentLoaders.delete(l)})),y=new Ca(u,()=>new Vi).pipe(Ma());return this.componentLoaders.set(l,y),y}loadChildren(l,u){if(this.childrenLoaders.get(u))return this.childrenLoaders.get(u);if(u._loadedRoutes)return Nt({routes:u._loadedRoutes,injector:u._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(u);let _=qc(u,this.compiler,l,this.onLoadEndListener).pipe(xn(()=>{this.childrenLoaders.delete(u)})),F=new Ca(_,()=>new Vi).pipe(Ma());return this.childrenLoaders.set(u,F),F}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function qc(r,s,p,l){return ji(r.loadChildren()).pipe(ee(El),li(u=>u instanceof yr||Array.isArray(u)?Nt(u):Qe(s.compileModuleAsync(u))),ee(u=>{l&&l(r);let y,_,F=!1;return Array.isArray(u)?(_=u,F=!0):(y=u.create(p).injector,_=y.get(Ro,[],{optional:!0,self:!0}).flat()),{routes:_.map(Lo),injector:y}}))}function tu(r){return r&&typeof r=="object"&&"default"in r}function El(r){return tu(r)?r.default:r}var Wo=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:()=>_t(eu),providedIn:"root"});let r=s;return r})(),eu=(()=>{let s=class s{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,u){return l}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})(),iu=new fe("");var nu=(()=>{let s=class s{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vi,this.transitionAbortSubject=new Vi,this.configLoader=_t(Jc),this.environmentInjector=_t(fn),this.urlSerializer=_t(Fo),this.rootContexts=_t(ia),this.location=_t(As),this.inputBindingEnabled=_t(Bo,{optional:!0})!==null,this.titleStrategy=_t(Ll),this.options=_t(Oo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_t(Wo),this.createViewTransition=_t(iu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null;let l=y=>this.events.next(new po(y)),u=y=>this.events.next(new mo(y));this.configLoader.onLoadEndListener=u,this.configLoader.onLoadStartListener=l}complete(){this.transitions?.complete()}handleNavigationRequest(l){let u=++this.navigationId;this.transitions?.next(Ae(Tt(Tt({},this.transitions.value),l),{id:u}))}setupNavigations(l,u,y){return this.transitions=new Ye({id:0,currentUrlTree:u,currentRawUrl:u,extractedUrl:this.urlHandlingStrategy.extract(u),urlAfterRedirects:this.urlHandlingStrategy.extract(u),rawUrl:u,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ss,restoredState:null,currentSnapshot:y.snapshot,targetSnapshot:null,currentRouterState:y,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(_=>_.id!==0),ee(_=>Ae(Tt({},_),{extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl)})),hi(_=>{let F=!1,Y=!1;return Nt(_).pipe(hi(T=>{if(this.navigationId>_.id)return this.cancelNavigationTransition(_,"",oi.SupersededByNewNavigation),Bi;this.currentTransition=_,this.currentNavigation={id:T.id,initialUrl:T.rawUrl,extractedUrl:T.extractedUrl,trigger:T.source,extras:T.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(Tt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let it=!l.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),dt=T.extras.onSameUrlNavigation??l.onSameUrlNavigation;if(!it&&dt!=="reload"){let ct="";return this.events.next(new hn(T.id,this.urlSerializer.serialize(T.rawUrl),ct,ro.IgnoredSameUrlNavigation)),T.resolve(null),Bi}if(this.urlHandlingStrategy.shouldProcessUrl(T.rawUrl))return Nt(T).pipe(hi(ct=>{let ot=this.transitions?.getValue();return this.events.next(new rs(ct.id,this.urlSerializer.serialize(ct.extractedUrl),ct.source,ct.restoredState)),ot!==this.transitions?.getValue()?Bi:Promise.resolve(ct)}),Hc(this.environmentInjector,this.configLoader,this.rootComponentType,l.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(ct=>{_.targetSnapshot=ct.targetSnapshot,_.urlAfterRedirects=ct.urlAfterRedirects,this.currentNavigation=Ae(Tt({},this.currentNavigation),{finalUrl:ct.urlAfterRedirects});let ot=new Qs(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(ot)}));if(it&&this.urlHandlingStrategy.shouldProcessUrl(T.currentRawUrl)){let{id:ct,extractedUrl:ot,source:Pt,restoredState:We,extras:Jt}=T,yt=new rs(ct,this.urlSerializer.serialize(ot),Pt,We);this.events.next(yt);let we=wl(this.rootComponentType).snapshot;return this.currentTransition=_=Ae(Tt({},T),{targetSnapshot:we,urlAfterRedirects:ot,extras:Ae(Tt({},Jt),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=ot,Nt(_)}else{let ct="";return this.events.next(new hn(T.id,this.urlSerializer.serialize(T.extractedUrl),ct,ro.IgnoredByUrlHandlingStrategy)),T.resolve(null),Bi}}),Oe(T=>{let it=new lo(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(it)}),ee(T=>(this.currentTransition=_=Ae(Tt({},T),{guards:dc(T.targetSnapshot,T.currentSnapshot,this.rootContexts)}),_)),bc(this.environmentInjector,T=>this.events.next(T)),Oe(T=>{if(_.guardsResult=T.guardsResult,Fn(T.guardsResult))throw _l(this.urlSerializer,T.guardsResult);let it=new ho(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot,!!T.guardsResult);this.events.next(it)}),Li(T=>T.guardsResult?!0:(this.cancelNavigationTransition(T,"",oi.GuardRejected),!1)),eo(T=>{if(T.guards.canActivateChecks.length)return Nt(T).pipe(Oe(it=>{let dt=new co(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(dt)}),hi(it=>{let dt=!1;return Nt(it).pipe($c(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>dt=!0,complete:()=>{dt||this.cancelNavigationTransition(it,"",oi.NoDataFromResolver)}}))}),Oe(it=>{let dt=new uo(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(dt)}))}),eo(T=>{let it=dt=>{let ct=[];dt.routeConfig?.loadComponent&&!dt.routeConfig._loadedComponent&&ct.push(this.configLoader.loadComponent(dt.routeConfig).pipe(Oe(ot=>{dt.component=ot}),ee(()=>{})));for(let ot of dt.children)ct.push(...it(ot));return ct};return Ta(it(T.targetSnapshot.root)).pipe(Pa(null),gn(1))}),eo(()=>this.afterPreactivation()),hi(()=>{let{currentSnapshot:T,targetSnapshot:it}=_,dt=this.createViewTransition?.(this.environmentInjector,T.root,it.root);return dt?Qe(dt).pipe(ee(()=>_)):Nt(_)}),ee(T=>{let it=ic(l.routeReuseStrategy,T.targetSnapshot,T.currentRouterState);return this.currentTransition=_=Ae(Tt({},T),{targetRouterState:it}),this.currentNavigation.targetRouterState=it,_}),Oe(()=>{this.events.next(new hs)}),hc(this.rootContexts,l.routeReuseStrategy,T=>this.events.next(T),this.inputBindingEnabled),gn(1),Oe({next:T=>{F=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects))),this.titleStrategy?.updateTitle(T.targetRouterState.snapshot),T.resolve(!0)},complete:()=>{F=!0}}),rr(this.transitionAbortSubject.pipe(Oe(T=>{throw T}))),xn(()=>{!F&&!Y&&this.cancelNavigationTransition(_,"",oi.SupersededByNewNavigation),this.currentTransition?.id===_.id&&(this.currentNavigation=null,this.currentTransition=null)}),mn(T=>{if(Y=!0,Fl(T))this.events.next(new Ui(_.id,this.urlSerializer.serialize(_.extractedUrl),T.message,T.cancellationCode)),ac(T)?this.events.next(new ds(T.url)):_.resolve(!1);else{this.events.next(new ls(_.id,this.urlSerializer.serialize(_.extractedUrl),T,_.targetSnapshot??void 0));try{_.resolve(l.errorHandler(T))}catch(it){this.options.resolveNavigationPromiseOnError?_.resolve(!1):_.reject(it)}}return Bi}))}))}cancelNavigationTransition(l,u,y){let _=new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),u,y);this.events.next(_),l.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function su(r){return r!==ss}var au=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:()=>_t(ou),providedIn:"root"});let r=s;return r})(),Ao=class{shouldDetach(s){return!1}store(s,p){}shouldAttach(s){return!1}retrieve(s){return null}shouldReuseRoute(s,p){return s.routeConfig===p.routeConfig}},ou=(()=>{let s=class s extends Ao{};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})(),Ol=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:()=>_t(ru),providedIn:"root"});let r=s;return r})(),ru=(()=>{let s=class s extends Ol{constructor(){super(...arguments),this.location=_t(As),this.urlSerializer=_t(Fo),this.options=_t(Oo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_t(Wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(l){return this.location.subscribe(u=>{u.type==="popstate"&&l(u.url,u.state)})}handleRouterEvent(l,u){if(l instanceof rs)this.stateMemento=this.createStateMemento();else if(l instanceof hn)this.rawUrlTree=u.initialUrl;else if(l instanceof Qs){if(this.urlUpdateStrategy==="eager"&&!u.extras.skipLocationChange){let y=this.urlHandlingStrategy.merge(u.finalUrl,u.initialUrl);this.setBrowserUrl(y,u)}}else l instanceof hs?(this.currentUrlTree=u.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(u.finalUrl,u.initialUrl),this.routerState=u.targetRouterState,this.urlUpdateStrategy==="deferred"&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u))):l instanceof Ui&&(l.code===oi.GuardRejected||l.code===oi.NoDataFromResolver)?this.restoreHistory(u):l instanceof ls?this.restoreHistory(u,!0):l instanceof zi&&(this.lastSuccessfulId=l.id,this.currentPageId=this.browserPageId)}setBrowserUrl(l,u){let y=this.urlSerializer.serialize(l);if(this.location.isCurrentPathEqualTo(y)||u.extras.replaceUrl){let _=this.browserPageId,F=Tt(Tt({},u.extras.state),this.generateNgRouterState(u.id,_));this.location.replaceState(y,"",F)}else{let _=Tt(Tt({},u.extras.state),this.generateNgRouterState(u.id,this.browserPageId+1));this.location.go(y,"",_)}}restoreHistory(l,u=!1){if(this.canceledNavigationResolution==="computed"){let y=this.browserPageId,_=this.currentPageId-y;_!==0?this.location.historyGo(_):this.currentUrlTree===l.finalUrl&&_===0&&(this.resetState(l),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(u&&this.resetState(l),this.resetUrlToCurrentUrlTree())}resetState(l){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(l,u){return this.canceledNavigationResolution==="computed"?{navigationId:l,\u0275routerPageId:u}:{navigationId:l}}};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})(),is=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(is||{});function lu(r,s){r.events.pipe(Li(p=>p instanceof zi||p instanceof Ui||p instanceof ls||p instanceof hn),ee(p=>p instanceof zi||p instanceof hn?is.COMPLETE:(p instanceof Ui?p.code===oi.Redirect||p.code===oi.SupersededByNewNavigation:!1)?is.REDIRECTING:is.FAILED),Li(p=>p!==is.REDIRECTING),gn(1)).subscribe(()=>{s()})}function hu(r){throw r}var du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{let s=class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_t(Ss),this.stateManager=_t(Ol),this.options=_t(Oo,{optional:!0})||{},this.pendingTasks=_t(Ps),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_t(nu),this.urlSerializer=_t(Fo),this.location=_t(As),this.urlHandlingStrategy=_t(Wo),this._events=new Vi,this.errorHandler=this.options.errorHandler||hu,this.navigated=!1,this.routeReuseStrategy=_t(au),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_t(Ro,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_t(Bo,{optional:!0}),this.eventsSubscription=new Zo,this.isNgZoneEnabled=_t(ci)instanceof ci&&ci.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:l=>{this.console.warn(l)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let l=this.navigationTransitions.events.subscribe(u=>{try{let y=this.navigationTransitions.currentTransition,_=this.navigationTransitions.currentNavigation;if(y!==null&&_!==null){if(this.stateManager.handleRouterEvent(u,_),u instanceof Ui&&u.code!==oi.Redirect&&u.code!==oi.SupersededByNewNavigation)this.navigated=!0;else if(u instanceof zi)this.navigated=!0;else if(u instanceof ds){let F=this.urlHandlingStrategy.merge(u.url,y.currentRawUrl),Y={info:y.extras.info,skipLocationChange:y.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||su(y.source)};this.scheduleNavigation(F,ss,null,Y,{resolve:y.resolve,reject:y.reject,promise:y.promise})}}pu(u)&&this._events.next(u)}catch(y){this.navigationTransitions.transitionAbortSubject.next(y)}});this.eventsSubscription.add(l)}resetRootComponentType(l){this.routerState.root.component=l,this.navigationTransitions.rootComponentType=l}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ss,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((l,u)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(l,"popstate",u)},0)})}navigateToSyncWithBrowser(l,u,y){let _={replaceUrl:!0},F=y?.navigationId?y:null;if(y){let T=Tt({},y);delete T.navigationId,delete T.\u0275routerPageId,Object.keys(T).length!==0&&(_.state=T)}let Y=this.parseUrl(l);this.scheduleNavigation(Y,u,F,_)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(l){this.config=l.map(Lo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(l,u={}){let{relativeTo:y,queryParams:_,fragment:F,queryParamsHandling:Y,preserveFragment:T}=u,it=T?this.currentUrlTree.fragment:F,dt=null;switch(Y){case"merge":dt=Tt(Tt({},this.currentUrlTree.queryParams),_);break;case"preserve":dt=this.currentUrlTree.queryParams;break;default:dt=_||null}dt!==null&&(dt=this.removeEmptyProps(dt));let ct;try{let ot=y?y.snapshot:this.routerState.snapshot.root;ct=bl(ot)}catch{(typeof l[0]!="string"||!l[0].startsWith("/"))&&(l=[]),ct=this.currentUrlTree.root}return Ml(ct,l,dt,it??null)}navigateByUrl(l,u={skipLocationChange:!1}){let y=Fn(l)?l:this.parseUrl(l),_=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(_,ss,null,u)}navigate(l,u={skipLocationChange:!1}){return uu(l),this.navigateByUrl(this.createUrlTree(l,u),u)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){try{return this.urlSerializer.parse(l)}catch{return this.urlSerializer.parse("/")}}isActive(l,u){let y;if(u===!0?y=Tt({},du):u===!1?y=Tt({},cu):y=u,Fn(l))return al(this.currentUrlTree,l,y);let _=this.parseUrl(l);return al(this.currentUrlTree,_,y)}removeEmptyProps(l){return Object.entries(l).reduce((u,[y,_])=>(_!=null&&(u[y]=_),u),{})}scheduleNavigation(l,u,y,_,F){if(this.disposed)return Promise.resolve(!1);let Y,T,it;F?(Y=F.resolve,T=F.reject,it=F.promise):it=new Promise((ct,ot)=>{Y=ct,T=ot});let dt=this.pendingTasks.add();return lu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dt))}),this.navigationTransitions.handleNavigationRequest({source:u,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:l,extras:_,resolve:Y,reject:T,promise:it,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),it.catch(ct=>Promise.reject(ct))}};s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function uu(r){for(let s=0;s<r.length;s++)if(r[s]==null)throw new Pe(4008,!1)}function pu(r){return!(r instanceof hs)&&!(r instanceof ds)}var Rl=(()=>{let s=class s{constructor(l,u,y,_,F,Y){this.router=l,this.route=u,this.tabIndexAttribute=y,this.renderer=_,this.el=F,this.locationStrategy=Y,this.href=null,this.commands=null,this.onChanges=new Vi,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let T=F.nativeElement.tagName?.toLowerCase();this.isAnchorElement=T==="a"||T==="area",this.isAnchorElement?this.subscription=l.events.subscribe(it=>{it instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(l){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",l)}ngOnChanges(l){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(l){l!=null?(this.commands=Array.isArray(l)?l:[l],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(l,u,y,_,F){let Y=this.urlTree;if(Y===null||this.isAnchorElement&&(l!==0||u||y||_||F||typeof this.target=="string"&&this.target!="_self"))return!0;let T={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(Y,T),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let l=this.urlTree;this.href=l!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(l)):null;let u=this.href===null?null:mr(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",u)}applyAttributeValue(l,u){let y=this.renderer,_=this.el.nativeElement;u!==null?y.setAttribute(_,l,u):y.removeAttribute(_,l)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};s.\u0275fac=function(u){return new(u||s)(Yt(cn),Yt(dn),dr("tabindex"),Yt(en),Yt(qi),Yt(Oa))},s.\u0275dir=Ze({type:s,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(u,y){u&1&&be("click",function(F){return y.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),u&2&&Va("target",y.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[mi.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Mn],skipLocationChange:[mi.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Mn],replaceUrl:[mi.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Mn],routerLink:"routerLink"},standalone:!0,features:[fr,Ri]});let r=s;return r})();var mu=new fe("");function Wl(r,...s){return Oi([{provide:Ro,multi:!0,useValue:r},[],{provide:dn,useFactory:gu,deps:[cn]},{provide:_s,multi:!0,useFactory:xu},s.map(p=>p.\u0275providers)])}function gu(r){return r.routerState.root}function xu(){let r=_t(_a);return s=>{let p=r.get(Un);if(s!==p.components[0])return;let l=r.get(cn),u=r.get(fu);r.get(yu)===1&&l.initialNavigation(),r.get(vu,null,ka.Optional)?.setUpPreloading(),r.get(mu,null,ka.Optional)?.init(),l.resetRootComponentType(p.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}var fu=new fe("",{factory:()=>new Vi}),yu=new fe("",{providedIn:"root",factory:()=>1});var vu=new fe("");var Kl=(()=>{let s=class s{constructor(l,u){this._renderer=l,this._elementRef=u,this.onChange=y=>{},this.onTouched=()=>{}}setProperty(l,u){this._renderer.setProperty(this._elementRef.nativeElement,l,u)}registerOnTouched(l){this.onTouched=l}registerOnChange(l){this.onChange=l}setDisabledState(l){this.setProperty("disabled",l)}};s.\u0275fac=function(u){return new(u||s)(Yt(en),Yt(qi))},s.\u0275dir=Ze({type:s});let r=s;return r})(),la=(()=>{let s=class s extends Kl{};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275dir=Ze({type:s,features:[ki]});let r=s;return r})(),Bn=new fe(""),bu={provide:Bn,useExisting:Ji(()=>Uo),multi:!0},Uo=(()=>{let s=class s extends la{writeValue(l){this.setProperty("checked",l)}};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275dir=Ze({type:s,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(u,y){u&1&&be("change",function(F){return y.onChange(F.target.checked)})("blur",function(){return y.onTouched()})},features:[on([bu]),ki]});let r=s;return r})(),Mu={provide:Bn,useExisting:Ji(()=>ha),multi:!0};function Cu(){let r=Cn()?Cn().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Tu=new fe(""),ha=(()=>{let s=class s extends Kl{constructor(l,u,y){super(l,u),this._compositionMode=y,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cu())}writeValue(l){let u=l??"";this.setProperty("value",u)}_handleInput(l){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(l)}_compositionStart(){this._composing=!0}_compositionEnd(l){this._composing=!1,this._compositionMode&&this.onChange(l)}};s.\u0275fac=function(u){return new(u||s)(Yt(en),Yt(qi),Yt(Tu,8))},s.\u0275dir=Ze({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(u,y){u&1&&be("input",function(F){return y._handleInput(F.target.value)})("blur",function(){return y.onTouched()})("compositionstart",function(){return y._compositionStart()})("compositionend",function(F){return y._compositionEnd(F.target.value)})},features:[on([Mu]),ki]});let r=s;return r})();var Ql=new fe(""),Zl=new fe("");function Jl(r){return r!=null}function ql(r){return ks(r)?Qe(r):r}function th(r){let s={};return r.forEach(p=>{s=p!=null?Tt(Tt({},s),p):s}),Object.keys(s).length===0?null:s}function eh(r,s){return s.map(p=>p(r))}function wu(r){return!r.validate}function ih(r){return r.map(s=>wu(s)?s:p=>s.validate(p))}function Pu(r){if(!r)return null;let s=r.filter(Jl);return s.length==0?null:function(p){return th(eh(p,s))}}function nh(r){return r!=null?Pu(ih(r)):null}function Su(r){if(!r)return null;let s=r.filter(Jl);return s.length==0?null:function(p){let l=eh(p,s).map(ql);return nr(l).pipe(ee(th))}}function sh(r){return r!=null?Su(ih(r)):null}function Xl(r,s){return r===null?[s]:Array.isArray(r)?[...r,s]:[r,s]}function ah(r){return r._rawValidators}function oh(r){return r._rawAsyncValidators}function No(r){return r?Array.isArray(r)?r:[r]:[]}function aa(r,s){return Array.isArray(r)?r.includes(s):r===s}function Yl(r,s){let p=No(s);return No(r).forEach(u=>{aa(p,u)||p.push(u)}),p}function zl(r,s){return No(s).filter(p=>!aa(r,p))}var oa=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=nh(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=sh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s=void 0){this.control&&this.control.reset(s)}hasError(s,p){return this.control?this.control.hasError(s,p):!1}getError(s,p){return this.control?this.control.getError(s,p):null}},Xo=class extends oa{get formDirective(){return null}get path(){return null}},un=class extends oa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yo=class{constructor(s){this._cd=s}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ku={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gm=Ae(Tt({},ku),{"[class.ng-submitted]":"isSubmitted"}),rh=(()=>{let s=class s extends Yo{constructor(l){super(l)}};s.\u0275fac=function(u){return new(u||s)(Yt(un,2))},s.\u0275dir=Ze({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(u,y){u&2&&Xn("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)},features:[ki]});let r=s;return r})();var fs="VALID",sa="INVALID",Vn="PENDING",ys="DISABLED";function _u(r){return(da(r)?r.validators:r)||null}function Au(r){return Array.isArray(r)?nh(r):r||null}function Fu(r,s){return(da(s)?s.asyncValidators:r)||null}function Iu(r){return Array.isArray(r)?sh(r):r||null}function da(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var zo=class{constructor(s,p){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(s),this._assignAsyncValidators(p)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===fs}get invalid(){return this.status===sa}get pending(){return this.status==Vn}get disabled(){return this.status===ys}get enabled(){return this.status!==ys}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._assignValidators(s)}setAsyncValidators(s){this._assignAsyncValidators(s)}addValidators(s){this.setValidators(Yl(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(Yl(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(zl(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(zl(s,this._rawAsyncValidators))}hasValidator(s){return aa(this._rawValidators,s)}hasAsyncValidator(s){return aa(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(p=>{p.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(p=>{p.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=Vn,s.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){let p=this._parentMarkedDirty(s.onlySelf);this.status=ys,this.errors=null,this._forEachChild(l=>{l.disable(Ae(Tt({},s),{onlySelf:!0}))}),this._updateValue(),s.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(Tt({},s),{skipPristineCheck:p})),this._onDisabledChange.forEach(l=>l(!0))}enable(s={}){let p=this._parentMarkedDirty(s.onlySelf);this.status=fs,this._forEachChild(l=>{l.enable(Ae(Tt({},s),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors(Ae(Tt({},s),{skipPristineCheck:p})),this._onDisabledChange.forEach(l=>l(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}getRawValue(){return this.value}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fs||this.status===Vn)&&this._runAsyncValidator(s.emitEvent)),s.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(p=>p._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ys:fs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=Vn,this._hasOwnPendingAsyncValidator=!0;let p=ql(this.asyncValidator(this));this._asyncValidationSubscription=p.subscribe(l=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(l,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,p={}){this.errors=s,this._updateControlsErrors(p.emitEvent!==!1)}get(s){let p=s;return p==null||(Array.isArray(p)||(p=p.split(".")),p.length===0)?null:p.reduce((l,u)=>l&&l._find(u),this)}getError(s,p){let l=p?this.get(p):this;return l&&l.errors?l.errors[s]:null}hasError(s,p){return!!this.getError(s,p)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new di,this.statusChanges=new di}_calculateStatus(){return this._allControlsDisabled()?ys:this.errors?sa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vn)?Vn:this._anyControlsHaveStatus(sa)?sa:fs}_anyControlsHaveStatus(s){return this._anyControls(p=>p.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){da(s)&&s.updateOn!=null&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){let p=this._parent&&this._parent.dirty;return!s&&!!p&&!this._parent._anyControlsDirty()}_find(s){return null}_assignValidators(s){this._rawValidators=Array.isArray(s)?s.slice():s,this._composedValidatorFn=Au(this._rawValidators)}_assignAsyncValidators(s){this._rawAsyncValidators=Array.isArray(s)?s.slice():s,this._composedAsyncValidatorFn=Iu(this._rawAsyncValidators)}};var ca=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>ua}),ua="always";function Du(r,s){return[...s.path,r]}function lh(r,s,p=ua){Bu(r,s),s.valueAccessor.writeValue(r.value),(r.disabled||p==="always")&&s.valueAccessor.setDisabledState?.(r.disabled),Eu(r,s),Ru(r,s),Ou(r,s),Vu(r,s)}function Ul(r,s,p=!0){let l=()=>{};s.valueAccessor&&(s.valueAccessor.registerOnChange(l),s.valueAccessor.registerOnTouched(l)),Lu(r,s),r&&(s._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function ra(r,s){r.forEach(p=>{p.registerOnValidatorChange&&p.registerOnValidatorChange(s)})}function Vu(r,s){if(s.valueAccessor.setDisabledState){let p=l=>{s.valueAccessor.setDisabledState(l)};r.registerOnDisabledChange(p),s._registerOnDestroy(()=>{r._unregisterOnDisabledChange(p)})}}function Bu(r,s){let p=ah(r);s.validator!==null?r.setValidators(Xl(p,s.validator)):typeof p=="function"&&r.setValidators([p]);let l=oh(r);s.asyncValidator!==null?r.setAsyncValidators(Xl(l,s.asyncValidator)):typeof l=="function"&&r.setAsyncValidators([l]);let u=()=>r.updateValueAndValidity();ra(s._rawValidators,u),ra(s._rawAsyncValidators,u)}function Lu(r,s){let p=!1;if(r!==null){if(s.validator!==null){let u=ah(r);if(Array.isArray(u)&&u.length>0){let y=u.filter(_=>_!==s.validator);y.length!==u.length&&(p=!0,r.setValidators(y))}}if(s.asyncValidator!==null){let u=oh(r);if(Array.isArray(u)&&u.length>0){let y=u.filter(_=>_!==s.asyncValidator);y.length!==u.length&&(p=!0,r.setAsyncValidators(y))}}}let l=()=>{};return ra(s._rawValidators,l),ra(s._rawAsyncValidators,l),p}function Eu(r,s){s.valueAccessor.registerOnChange(p=>{r._pendingValue=p,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&hh(r,s)})}function Ou(r,s){s.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&hh(r,s),r.updateOn!=="submit"&&r.markAsTouched()})}function hh(r,s){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Ru(r,s){let p=(l,u)=>{s.valueAccessor.writeValue(l),u&&s.viewToModelUpdate(l)};r.registerOnChange(p),s._registerOnDestroy(()=>{r._unregisterOnChange(p)})}function dh(r,s){if(!r.hasOwnProperty("model"))return!1;let p=r.model;return p.isFirstChange()?!0:!Object.is(s,p.currentValue)}function Wu(r){return Object.getPrototypeOf(r.constructor)===la}function ch(r,s){if(!s)return null;Array.isArray(s);let p,l,u;return s.forEach(y=>{y.constructor===ha?p=y:Wu(y)?l=y:u=y}),u||l||p||null}function jl(r,s){let p=r.indexOf(s);p>-1&&r.splice(p,1)}function Hl(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var pa=class extends zo{constructor(s=null,p,l){super(_u(p),Fu(l,p)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(s),this._setUpdateStrategy(p),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),da(p)&&(p.nonNullable||p.initialValueIsDefault)&&(Hl(s)?this.defaultValue=s.value:this.defaultValue=s)}setValue(s,p={}){this.value=this._pendingValue=s,this._onChange.length&&p.emitModelToViewChange!==!1&&this._onChange.forEach(l=>l(this.value,p.emitViewToModelChange!==!1)),this.updateValueAndValidity(p)}patchValue(s,p={}){this.setValue(s,p)}reset(s=this.defaultValue,p={}){this._applyFormState(s),this.markAsPristine(p),this.markAsUntouched(p),this.setValue(this.value,p),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){jl(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){jl(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(s){Hl(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}};var Nu={provide:un,useExisting:Ji(()=>jo)},$l=Promise.resolve(),jo=(()=>{let s=class s extends un{constructor(l,u,y,_,F,Y){super(),this._changeDetectorRef=F,this.callSetDisabledState=Y,this.control=new pa,this._registered=!1,this.name="",this.update=new di,this._parent=l,this._setValidators(u),this._setAsyncValidators(y),this.valueAccessor=ch(this,_)}ngOnChanges(l){if(this._checkForErrors(),!this._registered||"name"in l){if(this._registered&&(this._checkName(),this.formDirective)){let u=l.name.previousValue;this.formDirective.removeControl({name:u,path:this._getPath(u)})}this._setUpControl()}"isDisabled"in l&&this._updateDisabled(l),dh(l,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(l){this.viewModel=l,this.update.emit(l)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(l){$l.then(()=>{this.control.setValue(l,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(l){let u=l.isDisabled.currentValue,y=u!==0&&Mn(u);$l.then(()=>{y&&!this.control.disabled?this.control.disable():!y&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(l){return this._parent?Du(l,this._parent):[l]}};s.\u0275fac=function(u){return new(u||s)(Yt(Xo,9),Yt(Ql,10),Yt(Zl,10),Yt(Bn,10),Yt(jn,8),Yt(ca,8))},s.\u0275dir=Ze({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[mi.None,"disabled","isDisabled"],model:[mi.None,"ngModel","model"],options:[mi.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[on([Nu]),ki,Ri]});let r=s;return r})();var uh=new fe(""),Xu={provide:un,useExisting:Ji(()=>Ho)},Ho=(()=>{let s=class s extends un{set isDisabled(l){}constructor(l,u,y,_,F){super(),this._ngModelWarningConfig=_,this.callSetDisabledState=F,this.update=new di,this._ngModelWarningSent=!1,this._setValidators(l),this._setAsyncValidators(u),this.valueAccessor=ch(this,y)}ngOnChanges(l){if(this._isControlChanged(l)){let u=l.form.previousValue;u&&Ul(u,this,!1),lh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}dh(l,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ul(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(l){this.viewModel=l,this.update.emit(l)}_isControlChanged(l){return l.hasOwnProperty("form")}};s._ngModelWarningSentOnce=!1,s.\u0275fac=function(u){return new(u||s)(Yt(Ql,10),Yt(Zl,10),Yt(Bn,10),Yt(uh,8),Yt(ca,8))},s.\u0275dir=Ze({type:s,selectors:[["","formControl",""]],inputs:{form:[mi.None,"formControl","form"],isDisabled:[mi.None,"disabled","isDisabled"],model:[mi.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[on([Xu]),ki,Ri]});let r=s;return r})();var Yu={provide:Bn,useExisting:Ji(()=>ma),multi:!0};function ph(r,s){return r==null?`${s}`:(s&&typeof s=="object"&&(s="Object"),`${r}: ${s}`.slice(0,50))}function zu(r){return r.split(":")[0]}var ma=(()=>{let s=class s extends la{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(l){this._compareWith=l}writeValue(l){this.value=l;let u=this._getOptionId(l),y=ph(u,l);this.setProperty("value",y)}registerOnChange(l){this.onChange=u=>{this.value=this._getOptionValue(u),l(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(l){for(let u of this._optionMap.keys())if(this._compareWith(this._optionMap.get(u),l))return u;return null}_getOptionValue(l){let u=zu(l);return this._optionMap.has(u)?this._optionMap.get(u):l}};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275dir=Ze({type:s,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(u,y){u&1&&be("change",function(F){return y.onChange(F.target.value)})("blur",function(){return y.onTouched()})},inputs:{compareWith:"compareWith"},features:[on([Yu]),ki]});let r=s;return r})(),mh=(()=>{let s=class s{constructor(l,u,y){this._element=l,this._renderer=u,this._select=y,this._select&&(this.id=this._select._registerOption())}set ngValue(l){this._select!=null&&(this._select._optionMap.set(this.id,l),this._setElementValue(ph(this.id,l)),this._select.writeValue(this._select.value))}set value(l){this._setElementValue(l),this._select&&this._select.writeValue(this._select.value)}_setElementValue(l){this._renderer.setProperty(this._element.nativeElement,"value",l)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};s.\u0275fac=function(u){return new(u||s)(Yt(qi),Yt(en),Yt(ma,9))},s.\u0275dir=Ze({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=s;return r})(),Uu={provide:Bn,useExisting:Ji(()=>gh),multi:!0};function Gl(r,s){return r==null?`${s}`:(typeof s=="string"&&(s=`'${s}'`),s&&typeof s=="object"&&(s="Object"),`${r}: ${s}`.slice(0,50))}function ju(r){return r.split(":")[0]}var gh=(()=>{let s=class s extends la{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(l){this._compareWith=l}writeValue(l){this.value=l;let u;if(Array.isArray(l)){let y=l.map(_=>this._getOptionId(_));u=(_,F)=>{_._setSelected(y.indexOf(F.toString())>-1)}}else u=(y,_)=>{y._setSelected(!1)};this._optionMap.forEach(u)}registerOnChange(l){this.onChange=u=>{let y=[],_=u.selectedOptions;if(_!==void 0){let F=_;for(let Y=0;Y<F.length;Y++){let T=F[Y],it=this._getOptionValue(T.value);y.push(it)}}else{let F=u.options;for(let Y=0;Y<F.length;Y++){let T=F[Y];if(T.selected){let it=this._getOptionValue(T.value);y.push(it)}}}this.value=y,l(y)}}_registerOption(l){let u=(this._idCounter++).toString();return this._optionMap.set(u,l),u}_getOptionId(l){for(let u of this._optionMap.keys())if(this._compareWith(this._optionMap.get(u)._value,l))return u;return null}_getOptionValue(l){let u=ju(l);return this._optionMap.has(u)?this._optionMap.get(u)._value:l}};s.\u0275fac=(()=>{let l;return function(y){return(l||(l=Wi(s)))(y||s)}})(),s.\u0275dir=Ze({type:s,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(u,y){u&1&&be("change",function(F){return y.onChange(F.target)})("blur",function(){return y.onTouched()})},inputs:{compareWith:"compareWith"},features:[on([Uu]),ki]});let r=s;return r})(),xh=(()=>{let s=class s{constructor(l,u,y){this._element=l,this._renderer=u,this._select=y,this._select&&(this.id=this._select._registerOption(this))}set ngValue(l){this._select!=null&&(this._value=l,this._setElementValue(Gl(this.id,l)),this._select.writeValue(this._select.value))}set value(l){this._select?(this._value=l,this._setElementValue(Gl(this.id,l)),this._select.writeValue(this._select.value)):this._setElementValue(l)}_setElementValue(l){this._renderer.setProperty(this._element.nativeElement,"value",l)}_setSelected(l){this._renderer.setProperty(this._element.nativeElement,"selected",l)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};s.\u0275fac=function(u){return new(u||s)(Yt(qi),Yt(en),Yt(gh,9))},s.\u0275dir=Ze({type:s,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let r=s;return r})();var fh=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=Pi({type:s}),s.\u0275inj=wi({});let r=s;return r})();var yh=(()=>{let s=class s{static withConfig(l){return{ngModule:s,providers:[{provide:ca,useValue:l.callSetDisabledState??ua}]}}};s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=Pi({type:s}),s.\u0275inj=wi({imports:[fh]});let r=s;return r})(),vh=(()=>{let s=class s{static withConfig(l){return{ngModule:s,providers:[{provide:uh,useValue:l.warnOnNgModelWithFormControl??"always"},{provide:ca,useValue:l.callSetDisabledState??ua}]}}};s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=Pi({type:s}),s.\u0275inj=wi({imports:[fh]});let r=s;return r})();var Hi=class{constructor(){this.attributeOptions=["FieldGoalsMade","FieldGoalsAttempted","FieldGoalPercentage","FGThreesMade","FGThreesAttempted","FGThreePercentage","FreeThrowsMade","FreeThrowsAttempted","FreeThrowPercentage","OffensiveRebounds","DefensiveRebounds","Rebounds","Assists","Steals","Blocks","Turnovers","PersonalFouls","Points","PlusMinus"],this.queryOption=0,this.attributeSelected=17,this.attributeOptionDisplay="Points",this.fromYear=1985,this.toYear=2023,this.statValue=20,this.showAsPercentage=!1,this.selectTeam=!0,this.teamsSelected=[],this.showHomeAway=!1,this.selectPlayer=!1,this.playersSelected=[]}changeQueryOption(s){s==this.queryOption?this.queryOption=-1:this.queryOption=s}setSelectTeam(){this.selectTeam=!0,this.selectPlayer=!1}setSelectPlayer(){this.selectTeam=!1,this.selectPlayer=!0}addPlayerToList(s){this.playersSelected.indexOf(s,0)==-1&&this.playersSelected.push(s)}addTeamToList(s){this.teamsSelected.indexOf(s,0)==-1&&this.teamsSelected.push(s)}removePlayerFromList(s){let p=this.playersSelected.indexOf(s,0);p>-1&&this.playersSelected.splice(p,1)}removeTeamFromList(s){let p=this.teamsSelected.indexOf(s,0);p>-1&&this.teamsSelected.splice(p,1)}chooseAttribute(s,p){this.attributeSelected=s,this.attributeOptionDisplay=p}};var ga={production:!0,apiUrl:"api/",hubUrl:"hub/"};var Ln=(()=>{let s=class s{constructor(l){this.http=l,this.teams=[],this.teamNameToId=new Map,this.playerNameToId=new Map,this.teamMap$=new Ye(this.teamNameToId),this.playerMap$=new Ye(this.playerNameToId),this.baseUrl=ga.apiUrl}startService(){this.loadTeams(),this.loadPlayers()}loadTeams(){this.http.get(this.baseUrl+"teams").subscribe({next:l=>{this.teams=l,this.teams.forEach(u=>{this.teamNameToId.set(u.fullName,u.teamId)}),this.teamMap$.next(this.teamNameToId)},error:l=>console.log(l)})}loadPlayers(){this.http.get(this.baseUrl+"players").subscribe({next:l=>{l.forEach(u=>{this.playerNameToId.set(u.firstName+" "+u.lastName,u.personId)}),this.playerMap$.next(this.playerNameToId)},error:l=>console.log(l)})}getTeamMap(){return this.teamMap$}getPlayerMap(){return this.playerMap$}};s.\u0275fac=function(u){return new(u||s)(ae(Qn))},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();var $i=(()=>{let s=class s{constructor(l){this.http=l,this.baseUrl=ga.apiUrl,this.mainQueryParams=new Hi,this.mainQueryParams$=new Ye(this.mainQueryParams),this.presetComplexQueries=[this.baseUrl+"drafthistories/firstOverallPicksCarreerAverage/attribute/",this.baseUrl+"games/AvgAttributePerDecadeSeasonal/attribute/",this.baseUrl+"PlayerBoxScore/yearlyAveragePerPositionStats/attribute/",this.baseUrl+"PlayerBoxScore/AvgAttributeByHeight/attribute/",this.baseUrl+"games/yearlyOverStatByPosition/attribute/",this.baseUrl+"games/yearlyOverStatByPositionRatio/attribute/"]}getComplexQuery0(l){return this.http.get(this.presetComplexQueries[0]+l)}getComplexQuery1(l){return this.http.get(this.presetComplexQueries[1]+l)}getComplexQuery2(l,u){return this.http.get(this.presetComplexQueries[2]+l+"/position/"+u)}getComplexQuery3(l){return this.http.get(this.presetComplexQueries[3]+l)}getComplexQuery4(l,u,y){return this.http.get(this.presetComplexQueries[4]+l+"/statistic/"+y+"/position/"+u)}getComplexQuery4Percentage(l,u,y){return this.http.get(this.presetComplexQueries[5]+l+"/statistic/"+y+"/position/"+u)}getTeamStatYearly(l,u,y,_){return this.http.get(this.baseUrl+"games/yearlyAverage/attribute/"+u+"/team/"+l+"/fromYear/"+y+"/toYear/"+_)}getTeamStatYearlyHome(l,u,y,_){return this.http.get(this.baseUrl+"games/homeGames/attribute/"+u+"/team/"+l+"/fromYear/"+y+"/toYear/"+_)}getTeamStatYearlyAway(l,u,y,_){return this.http.get(this.baseUrl+"games/awayGames/attribute/"+u+"/team/"+l+"/fromYear/"+y+"/toYear/"+_)}getPlayerStatYearly(l,u){return this.http.get(this.baseUrl+"players/yearlyAverages/playerId/"+l+"/attribute/"+u)}getNumberOfTuples(){return this.http.get(this.baseUrl+"PlayerBoxScore/TotalTuples")}updateQueryParams(l){this.mainQueryParams=l,this.mainQueryParams$?.next(l)}sendQueryParams(){this.mainQueryParams$?.next(this.mainQueryParams)}};s.\u0275fac=function(u){return new(u||s)(ae(Qn))},s.\u0275prov=ne({token:s,factory:s.\u0275fac,providedIn:"root"});let r=s;return r})();function $u(r,s){if(r&1){let p=vi();bt(0,"div")(1,"input",8),be("change",function(){let u=ti(p).$index,y=me();return ei(y.changeQueryOption(u))}),gt(),Ft(2),gt()}if(r&2){let p=s.$implicit,l=s.$index,u=me();Dt(),pe("checked",u.queryParams.queryOption==l),Dt(),zn(" ",p," ")}}function Gu(r,s){if(r&1){let p=vi();bt(0,"li")(1,"a",21),be("click",function(){let u=ti(p).$implicit,y=me(3);return ei(y.addPlayerToList(u))}),Ft(2),gt()()}if(r&2){let p=s.$implicit;Dt(2),_i(p)}}function Ku(r,s){if(r&1){let p=vi();bt(0,"div",23)(1,"i",24),be("click",function(){let u=ti(p).$implicit,y=me(4);return ei(y.removePlayerFromList(u))}),gt(),bt(2,"div",25),Ft(3),gt()()}if(r&2){let p=s.$implicit;Dt(3),_i(p)}}function Qu(r,s){if(r&1&&(bt(0,"div",22),sn(1,Ku,4,1,"div",23,nn),gt()),r&2){let p=me(3);Dt(),an(p.queryParams.playersSelected)}}function Zu(r,s){if(r&1&&(bt(0,"div",15)(1,"button",16),Ft(2," Add Player "),ye(3,"span",17),gt(),bt(4,"ul",18),ye(5,"input",19),sn(6,Gu,3,1,"li",null,nn),Ba(8,"async"),gt()(),si(9,Qu,3,0,"div",20)),r&2){let p=me(2);Dt(5),pe("formControl",p.playerFilter),Dt(),an(La(8,2,p.players$)),Dt(3),pe("ngIf",p.queryParams.playersSelected.length>0)}}function Ju(r,s){if(r&1){let p=vi();bt(0,"li")(1,"a",21),be("click",function(){let u=ti(p).$implicit,y=me(4);return ei(y.addTeamToList(u))}),Ft(2),gt()()}if(r&2){let p=s.$implicit;Dt(2),_i(p)}}function qu(r,s){if(r&1&&(bt(0,"div",15)(1,"button",16),Ft(2," Add Team "),ye(3,"span",17),gt(),bt(4,"ul",18),ye(5,"input",19),sn(6,Ju,3,1,"li",null,nn),Ba(8,"async"),gt()()),r&2){let p=me(3);Dt(5),pe("formControl",p.teamFilter),Dt(),an(La(8,1,p.teams$))}}function tp(r,s){if(r&1){let p=vi();bt(0,"div",23)(1,"i",24),be("click",function(){let u=ti(p).$implicit,y=me(4);return ei(y.removeTeamFromList(u))}),gt(),bt(2,"div",25),Ft(3),gt()()}if(r&2){let p=s.$implicit;Dt(3),_i(p)}}function ep(r,s){if(r&1&&(bt(0,"div",22),sn(1,tp,4,1,"div",23,nn),gt()),r&2){let p=me(3);Dt(),an(p.queryParams.teamsSelected)}}function ip(r,s){if(r&1&&si(0,qu,9,3,"div",26)(1,ep,3,0,"div",20),r&2){let p=me(2);pe("ngIf",p.queryParams.selectTeam),Dt(),pe("ngIf",p.queryParams.teamsSelected.length>0)}}function np(r,s){if(r&1){let p=vi();bt(0,"div")(1,"div",9)(2,"div",3)(3,"ul",10)(4,"li",11),Ft(5," Search By: "),gt(),bt(6,"li",12)(7,"a",13),be("click",function(){ti(p);let u=me();return ei(u.setSelectTeam())}),Ft(8,"Team"),gt()(),bt(9,"li",12)(10,"a",13),be("click",function(){ti(p);let u=me();return ei(u.setSelectPlayer())}),Ft(11,"Player"),gt()()()(),bt(12,"div",14),si(13,Zu,10,4)(14,ip,2,2),gt()()()}if(r&2){let p=me();Dt(7),Xn("active",p.queryParams.selectTeam),Dt(3),Xn("active",p.queryParams.selectPlayer),Dt(3),Yn(13,p.queryParams.selectPlayer?13:-1),Dt(),Yn(14,p.queryParams.selectTeam?14:-1)}}function sp(r,s){if(r&1){let p=vi();bt(0,"li")(1,"a",21),be("click",function(){let u=ti(p),y=u.$implicit,_=u.$index,F=me(2);return ei(F.chooseAttribute(_,y))}),Ft(2),gt()()}if(r&2){let p=s.$implicit;Dt(2),_i(p)}}function ap(r,s){if(r&1&&(bt(0,"option",33),Ft(1),gt()),r&2){let p=s.$implicit;pe("value",p),Dt(),_i(p)}}function op(r,s){if(r&1&&(bt(0,"option",33),Ft(1),gt()),r&2){let p=s.$implicit;pe("value",p),Dt(),_i(p)}}function rp(r,s){if(r&1){let p=vi();bt(0,"div")(1,"div",28)(2,"label",29),Ft(3,"From Year:"),gt(),bt(4,"select",30),bn("ngModelChange",function(u){ti(p);let y=me(2);return vn(y.queryParams.fromYear,u)||(y.queryParams.fromYear=u),ei(u)}),si(5,ap,2,2,"option",31),gt()(),bt(6,"div",28)(7,"label",29),Ft(8,"To Year:"),gt(),bt(9,"select",30),bn("ngModelChange",function(u){ti(p);let y=me(2);return vn(y.queryParams.toYear,u)||(y.queryParams.toYear=u),ei(u)}),si(10,op,2,2,"option",31),gt()(),bt(11,"div",28)(12,"div",29)(13,"input",32),bn("ngModelChange",function(u){ti(p);let y=me(2);return vn(y.queryParams.showHomeAway,u)||(y.queryParams.showHomeAway=u),ei(u)}),gt(),Ft(14," Include Home/Away "),gt()()()}if(r&2){let p=me(2);Dt(4),yn("ngModel",p.queryParams.fromYear),Dt(),pe("ngForOf",p.years),Dt(4),yn("ngModel",p.queryParams.toYear),Dt(),pe("ngForOf",p.years),Dt(3),yn("ngModel",p.queryParams.showHomeAway)}}function lp(r,s){if(r&1&&(bt(0,"option",33),Ft(1),gt()),r&2){let p=s.$implicit;pe("value",p),Dt(),_i(p)}}function hp(r,s){if(r&1){let p=vi();bt(0,"div")(1,"div",28)(2,"label",29),Ft(3,"Stat Over:"),gt(),bt(4,"select",30),bn("ngModelChange",function(u){ti(p);let y=me(2);return vn(y.queryParams.statValue,u)||(y.queryParams.statValue=u),ei(u)}),si(5,lp,2,2,"option",31),gt()(),bt(6,"div",28)(7,"div",29)(8,"input",32),bn("ngModelChange",function(u){ti(p);let y=me(2);return vn(y.queryParams.showAsPercentage,u)||(y.queryParams.showAsPercentage=u),ei(u)}),gt(),Ft(9," Show as ratio of all games "),gt()()()}if(r&2){let p=me(2);Dt(4),yn("ngModel",p.queryParams.statValue),Dt(),pe("ngForOf",p.statValues),Dt(3),yn("ngModel",p.queryParams.showAsPercentage)}}function dp(r,s){if(r&1&&(bt(0,"div")(1,"div",9)(2,"div",3),Ft(3," Graph Options "),gt(),bt(4,"div",4)(5,"div",15)(6,"button",16),Ft(7," Statistic "),ye(8,"span",17),gt(),bt(9,"ul",18),sn(10,sp,3,1,"li",null,nn),gt()(),bt(12,"div",27),Ft(13),gt(),si(14,rp,15,5,"div",5)(15,hp,10,3,"div",5),gt()()()),r&2){let p=me();Dt(10),an(p.attributeOptions),Dt(3),zn(" ",p.attributeOptions.at(p.queryParams.attributeSelected)," "),Dt(),pe("ngIf",p.queryParams.queryOption==p.queryOptions.length-1&&p.queryParams.selectTeam),Dt(),pe("ngIf",p.queryParams.queryOption==4)}}var bh=(()=>{let s=class s{constructor(l,u){this.teamsPlayersService=l,this.queryService=u,this.queryParams=new Hi,this.teams=[],this.teamFilter=new pa("",{nonNullable:!0}),this.players=[],this.playerFilter=new pa("",{nonNullable:!0}),this.years=[],this.statValues=[],this.queryOptions=["Compare First Overall Picks","League Averages Per Decade","Compare Stats By Position","Compare Stats By Height","Games Over Stat Per Position","Custom Query"],this.attributeOptions=["Field Goals Made","Field Goals Attempted","Field Goal Percentage","Three Pointers Made","Three Pointers Attempted","Three Point Percentage","Free Throws Made","Free Throws Attempted","Free Throw Percentage","Offensive Rebounds","Defensive Rebounds","Total Rebounds","Assists","Steals","Blocks","Turnovers","Personal Fouls","Points","Plus Minus"],this.minYear=1950,this.maxYear=2023,this.players$=this.playerFilter.valueChanges.pipe(Rn(""),ee(y=>this.filterPlayers(y))),this.teams$=this.teamFilter.valueChanges.pipe(Rn(""),ee(y=>this.filterTeams(y)));for(let y=1946;y<2024;y++)this.years.push(y);for(let y=0;y<101;y++)this.statValues.push(y)}ngOnInit(){this.teamsPlayersService.getTeamMap().subscribe(l=>{for(let u of l.keys())this.teams.push(u)}),this.teamsPlayersService.getPlayerMap().subscribe(l=>{for(let u of l.keys())this.players.push(u)})}filterPlayers(l){return this.players.filter(u=>{let y=l.toLowerCase();return u.toLowerCase().includes(y)})}filterTeams(l){return this.teams.filter(u=>{let y=l.toLowerCase();return u.toLowerCase().includes(y)})}changeQueryOption(l){this.queryParams.changeQueryOption(l)}setSelectTeam(){this.queryParams.setSelectTeam()}setSelectPlayer(){this.queryParams.setSelectPlayer()}addPlayerToList(l){this.queryParams.addPlayerToList(l)}addTeamToList(l){this.queryParams.addTeamToList(l)}removePlayerFromList(l){this.queryParams.removePlayerFromList(l)}removeTeamFromList(l){this.queryParams.removeTeamFromList(l)}chooseAttribute(l,u){this.queryParams.chooseAttribute(l,u)}onGenerateGraph(){this.queryService.updateQueryParams(this.queryParams)}};s.\u0275fac=function(u){return new(u||s)(Yt(Ln),Yt($i))},s.\u0275cmp=Re({type:s,selectors:[["app-params"]],standalone:!0,features:[Ue],decls:13,vars:2,consts:[[1,"card","bg-light"],[1,"container","my-3"],[1,"card"],[1,"card-header","py-2"],[1,"card-body"],[4,"ngIf"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[2,"margin-bottom","500px"],["type","checkbox","aria-label","...",1,"form-check-input","me-1",3,"change","checked"],[1,"card","mt-3"],[1,"nav","nav-pills","card-header-pills"],[1,"nav-item","me-2"],[1,"nav-item"],[1,"nav-link","py-0","px-2","btn",3,"click"],[1,"card-body","py-3"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","py-0"],[1,"caret"],[1,"dropdown-menu","scrollable-menu"],["id","playerInput","type","text","placeholder","Search...",1,"form-control",3,"formControl"],["class","mb-0 mt-3",4,"ngIf"],[1,"dropdown-item","btn",3,"click"],[1,"mb-0","mt-3"],[1,"d-flex","flex-row"],[1,"btn","p-0","bi","bi-x-lg","me-2",3,"click"],[1,"div"],["class","dropdown",4,"ngIf"],[1,"py-2"],[1,"row","my-1","me-1"],[1,"col"],[1,"col","py-0","my-1","form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox","aria-label","...",1,"col","form-check-input","me-1",3,"ngModelChange","ngModel"],[3,"value"]],template:function(u,y){u&1&&(bt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ft(4," Choose a Query "),gt(),bt(5,"div",4),sn(6,$u,3,2,"div",null,nn),gt()(),si(8,np,15,6,"div",5)(9,dp,16,3,"div",5),bt(10,"button",6),be("click",function(){return y.onGenerateGraph()}),Ft(11,"Generate Graph"),gt()()(),ye(12,"div",7)),u&2&&(Dt(6),an(y.queryOptions),Dt(2),pe("ngIf",y.queryParams.queryOption==y.queryOptions.length-1),Dt(),pe("ngIf",y.queryParams.queryOption==y.queryOptions.length-1||y.queryParams.queryOption==0||y.queryParams.queryOption==1||y.queryParams.queryOption==2||y.queryParams.queryOption==3||y.queryParams.queryOption==4))},dependencies:[yh,mh,xh,ha,Uo,ma,rh,jo,vh,Ho,Hn,kr,Is,Ar],styles:["#playerInput[_ngcontent-%COMP%]{padding:6px;margin-top:-6px;border:0;border-radius:0;background:#06050000}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:500px;overflow-x:hidden}"]});let r=s;return r})();function cp(r,s){if(r&1&&ye(0,"div",1),r&2){let p=me();br("id",p.chartContainerId),pe("ngStyle",p.styles)}}typeof document=="object"&&document&&(Ch=Mh());var Ch,Th=(()=>{class r{constructor(){this.shouldUpdateChart=!1,this.isDOMPresent=typeof document=="object"&&!!document,this.chartInstance=new di,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+r._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.isDOMPresent&&(this.chart=new Ch.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&this.chart.destroy()}}return r._cjsChartContainerId=0,r.\u0275fac=function(p){return new(p||r)},r.\u0275cmp=Re({type:r,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[Ri],decls:1,vars:1,consts:[[3,"id","ngStyle",4,"ngIf"],[3,"id","ngStyle"]],template:function(p,l){p&1&&si(0,cp,1,2,"div",0),p&2&&pe("ngIf",l.isDOMPresent)},dependencies:[Is,_r],encapsulation:2}),r})(),wh=(()=>{class r{}return r.\u0275fac=function(p){return new(p||r)},r.\u0275mod=Pi({type:r}),r.\u0275inj=wi({imports:[[Hn]]}),r})();var pp=()=>({width:"100%",height:"500px"}),ya=(()=>{let s=class s{constructor(l,u){this.queryService=l,this.teamsPlayersService=u,this.queryNumber=0,this.mainQueryParams=new Hi,this.chartRendered=!1,this.chartOptions={backgroundColor:"rgba(0, 0, 0, 0)",animationEnabled:!0,theme:"dark2",title:{text:""},axisX:{interval:5,valueFormatString:"####"},axisY:{title:"Points",suffix:""},toolTip:{shared:!0},legend:{cursor:"pointer",itemclick:function(y){typeof y.dataSeries.visible>"u"||y.dataSeries.visible?y.dataSeries.visible=!1:y.dataSeries.visible=!0,y.chart.render()}},data:[]}}ngOnInit(){this.queryService.mainQueryParams$?.subscribe({next:l=>{this.mainQueryParams=l,this.handleQuery(this.mainQueryParams),this.chartRendered&&this.chart.render()}}),this.mainQueryParams.queryOption=this.queryNumber}getChartInstance(l){this.chart=l}ngAfterViewInit(){this.chart.render(),this.chartRendered=!0}handleQuery(l){this.chartOptions.data=[];let u=this.queryNumber;switch(console.log(l.queryOption),this.queryNumber==-1&&(u=l.queryOption),console.log(l.queryOption),u){case 0:this.chartOptions.axisY.title=l.attributeOptionDisplay,this.queryService.getComplexQuery0(l.attributeOptions.at(l.attributeSelected)).subscribe({next:Y=>{var T=[];for(let dt of Y){let ct={x:dt.seasonId,y:dt.avgAttribute,label:String(dt.seasonId)+" "+dt.firstName+" "+dt.lastName};T.push(ct)}var it={type:"line",showInLegend:!0,name:l.attributeOptionDisplay,dataPoints:T};this.chartOptions.data.push(it),this.chartRendered&&this.chart.render()},error:Y=>console.log(Y)});break;case 1:this.chartOptions.axisY.title=l.attributeOptionDisplay,this.queryService.getComplexQuery1(l.attributeOptions.at(l.attributeSelected)).subscribe({next:Y=>{var T=[],it=[];for(let ot of Y)if(ot.stringAttribute=="Regular Season"){let Pt={x:+ot.stringAttribute2.substring(0,4),y:ot.avgAttribute,label:ot.stringAttribute2};T.push(Pt)}else{let Pt={x:+ot.stringAttribute2.substring(0,4),y:ot.avgAttribute,label:ot.stringAttribute2};it.push(Pt)}var dt={type:"line",showInLegend:!0,name:"Regular Season",dataPoints:T},ct={type:"line",showInLegend:!0,name:"Playoffs",dataPoints:it};this.chartOptions.data.push(dt),this.chartOptions.data.push(ct),this.chartRendered&&this.chart.render()},error:Y=>console.log(Y)});break;case 2:this.chartOptions.axisY.title=l.attributeOptionDisplay;let y=["Guard","Forward","Center"];for(let Y of y)this.queryService.getComplexQuery2(l.attributeOptions.at(l.attributeSelected),Y).subscribe({next:T=>{var it=[];for(let ct of T){let ot={x:ct.year,y:ct.avgAttribute,label:String(ct.year)};it.push(ot)}var dt={type:"line",showInLegend:!0,name:Y,dataPoints:it};this.chartOptions.data.push(dt),this.chartRendered&&this.chart.render()},error:T=>console.log(T)});break;case 3:this.chartOptions.axisY.title=l.attributeOptionDisplay,this.queryService.getComplexQuery3(l.attributeOptions.at(l.attributeSelected)).subscribe({next:Y=>{var T=[],it=[],dt=[],ct=[],ot=[];for(let Ie of Y){let Qt={x:+Ie.stringAttribute2.substring(0,4),y:Ie.avgAttribute,label:Ie.stringAttribute2};Ie.stringAttribute=="Under 6 feet"?T.push(Qt):Ie.stringAttribute=="6-6.5 ft"?it.push(Qt):Ie.stringAttribute=="6.5-7 ft"?dt.push(Qt):Ie.stringAttribute=="7-7.5 ft"?ct.push(Qt):Ie.stringAttribute=="7.5+ ft"&&ot.push(Qt)}var Pt={type:"line",showInLegend:!0,name:"Under 6 ft",dataPoints:T},We={type:"line",showInLegend:!0,name:"6-6.5 ft",dataPoints:it},Jt={type:"line",showInLegend:!0,name:"6.5-7 ft",dataPoints:dt},yt={type:"line",showInLegend:!0,name:"7-7.5 ft",dataPoints:ct},we={type:"line",showInLegend:!0,name:"7.5+ ft",dataPoints:ot};this.chartOptions.data.push(Pt),this.chartOptions.data.push(We),this.chartOptions.data.push(Jt),this.chartOptions.data.push(yt),this.chartOptions.data.push(we),this.chartRendered&&this.chart.render()},error:Y=>console.log(Y)});break;case 4:let _=["Guard","Forward","Center"],F=l.statValue;if((l.attributeSelected==2||l.attributeSelected==5||l.attributeSelected==8)&&(F=F/100),l.showAsPercentage){this.chartOptions.axisY.title="Ratio of games with player over "+l.statValue+" "+l.attributeOptionDisplay;for(let Y of _)this.queryService.getComplexQuery4Percentage(l.attributeOptions.at(l.attributeSelected),Y,F).subscribe({next:T=>{var it=[];for(let ct of T){let ot={x:ct.year,y:ct.avgAttribute,label:String(ct.year)};it.push(ot)}var dt={type:"line",showInLegend:!0,name:Y,dataPoints:it};this.chartOptions.data.push(dt),this.chartRendered&&this.chart.render()},error:T=>console.log(T)})}else{this.chartOptions.axisY.title="Times a player had over "+l.statValue+" "+l.attributeOptionDisplay;for(let Y of _)this.queryService.getComplexQuery4(l.attributeOptions.at(l.attributeSelected),Y,F).subscribe({next:T=>{var it=[];for(let ct of T){let ot={x:ct.year,y:ct.avgAttribute,label:String(ct.year)};it.push(ot)}var dt={type:"line",showInLegend:!0,name:Y,dataPoints:it};this.chartOptions.data.push(dt),this.chartRendered&&this.chart.render()},error:T=>console.log(T)})}break;case 5:this.handleCustomQuery(l);break;default:console.log("Nothing")}}handleCustomQuery(l){if(l.selectTeam){this.chartOptions.axisY.title=l.attributeOptionDisplay;for(let u of l.teamsSelected)this.queryService.getTeamStatYearly(this.teamsPlayersService.teamNameToId.get(u),l.attributeOptions[l.attributeSelected],l.fromYear,l.toYear).subscribe({next:y=>{var _=[];for(let Y of y){let T={x:Y.year,y:Y.avgAttribute,label:String(Y.year)};_.push(T)}var F={type:"line",showInLegend:!0,name:u,dataPoints:_};this.chartOptions.data.push(F),this.chartRendered&&this.chart.render()},error:y=>console.log(y)});if(l.showHomeAway){for(let u of l.teamsSelected)this.queryService.getTeamStatYearlyHome(this.teamsPlayersService.teamNameToId.get(u),l.attributeOptions[l.attributeSelected],l.fromYear,l.toYear).subscribe({next:y=>{var _=[];for(let Y of y){let T={x:Y.year,y:Y.avgAttribute,label:String(Y.year)};_.push(T)}var F={type:"line",showInLegend:!0,name:u+" (Home)",dataPoints:_};this.chartOptions.data.push(F),this.chartRendered&&this.chart.render()},error:y=>console.log(y)});for(let u of l.teamsSelected)this.queryService.getTeamStatYearlyAway(this.teamsPlayersService.teamNameToId.get(u),l.attributeOptions[l.attributeSelected],l.fromYear,l.toYear).subscribe({next:y=>{var _=[];for(let Y of y){let T={x:Y.year,y:Y.avgAttribute,label:String(Y.year)};_.push(T)}var F={type:"line",showInLegend:!0,name:u+" (Away)",dataPoints:_};this.chartOptions.data.push(F),this.chartRendered&&this.chart.render()},error:y=>console.log(y)})}}else if(l.selectPlayer){this.chartOptions.axisY.title=l.attributeOptionDisplay;for(let u of l.playersSelected)this.queryService.getPlayerStatYearly(this.teamsPlayersService.playerNameToId.get(u),l.attributeOptions[l.attributeSelected]).subscribe({next:y=>{var _=[];for(let Y of y){let T={x:Y.year,y:Y.avgAttribute,label:String(Y.year)};_.push(T)}var F={type:"line",showInLegend:!0,name:u,dataPoints:_};this.chartOptions.data.push(F),this.chartRendered&&this.chart.render()},error:y=>console.log(y)})}}};s.\u0275fac=function(u){return new(u||s)(Yt($i),Yt(Ln))},s.\u0275cmp=Re({type:s,selectors:[["app-chart"]],inputs:{queryNumber:"queryNumber"},standalone:!0,features:[Ue],decls:2,vars:3,consts:[[1,"chart-container"],[3,"chartInstance","options","styles"]],template:function(u,y){u&1&&(bt(0,"div",0)(1,"canvasjs-chart",1),be("chartInstance",function(F){return y.getChartInstance(F)}),gt()()),u&2&&(Dt(),pe("options",y.chartOptions)("styles",Mr(2,pp)))},dependencies:[wh,Th]});let r=s;return r})();var Ph=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275cmp=Re({type:s,selectors:[["app-visualization"]],standalone:!0,features:[Ue],decls:5,vars:1,consts:[[1,"row"],[1,"col","col-sm-3"],[1,"col","col-sm-9"],[3,"queryNumber"]],template:function(u,y){u&1&&(bt(0,"div",0)(1,"div",1),ye(2,"app-params"),gt(),bt(3,"div",2),ye(4,"app-chart",3),gt()()),u&2&&(Dt(4),pe("queryNumber",-1))},dependencies:[ya,bh]});let r=s;return r})();function mp(r,s){if(r&1&&(bt(0,"h1",7),Ft(1),gt()),r&2){let p=me();Dt(),zn(" ",p.numberOfTuples.toLocaleString()," ! ")}}var Sh=(()=>{let s=class s{constructor(l,u){this.router=l,this.queryService=u,this.users=[],this.numberOfTuples=0}navigateToQueryPage(){this.router.navigateByUrl("/form")}getNumberOfTuples(){console.log("Getting tuple count"),this.queryService.getNumberOfTuples().subscribe({next:l=>{this.numberOfTuples=l[0].intAttribute},error:l=>console.log(l)})}};s.\u0275fac=function(u){return new(u||s)(Yt(cn),Yt($i))},s.\u0275cmp=Re({type:s,selectors:[["app-about"]],standalone:!0,features:[Ue],decls:44,vars:1,consts:[[1,"container"],["src","https://images.ctfassets.net/h8q6lxmb5akt/5qXnOINbPrHKXWa42m6NOa/421ab176b501f5bdae71290a8002545c/nba-logo_2x.png",2,"width","100px"],[1,"heading"],[1,"list"],[1,"list-item-content"],[1,"btn","btn-dark",3,"click"],[1,"d-flex","justify-content-center","p-2","mt-2"],["data-shadow","1,369,734",1,"ms-3","mt-1",2,"font-size","100px"]],template:function(u,y){u&1&&(bt(0,"div",0)(1,"h1"),ye(2,"img",1),Ft(3,"NBA Data Trend Analysis "),gt(),bt(4,"ul")(5,"li"),Ft(6,"Ethan Alexander"),gt(),bt(7,"li"),Ft(8,"Joseph Cuenco"),gt(),bt(9,"li"),Ft(10,"Martin Kent"),gt(),bt(11,"li"),Ft(12,"Derek Meyer"),gt(),bt(13,"li"),Ft(14,"Alexander Vargas"),gt()(),ye(15,"br"),bt(16,"h3",2),Ft(17,"Explore the latest statistics, trends, and insights from the NBA with our interactive database, including:"),gt(),bt(18,"ul",3),ye(19,"br"),bt(20,"li")(21,"div",4)(22,"strong"),Ft(23,"Customizable Queries:"),gt(),Ft(24," Tailor your searches to specific teams, players, seasons, and more."),gt()(),ye(25,"br"),bt(26,"li")(27,"div",4)(28,"strong"),Ft(29,"Visualizations:"),gt(),Ft(30," Gain deeper insights through dynamic graphs."),gt()(),ye(31,"br"),bt(32,"li")(33,"div",4)(34,"strong"),Ft(35,"User-Friendly Interface:"),gt(),Ft(36," Easily navigate through the database with our intuitive design."),gt()()(),bt(37,"button",5),be("click",function(){return y.navigateToQueryPage()}),Ft(38,"Create a Query"),gt(),bt(39,"div",6)(40,"div")(41,"button",5),be("click",function(){return y.getNumberOfTuples()}),Ft(42,"Get Total Number of Tuples"),gt()()(),si(43,mp,2,1,"h1",7),gt()),u&2&&(Dt(43),Yn(43,y.numberOfTuples>0?43:-1))},styles:['@font-face{font-family:Righteous;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/righteous/v17/1cXxaUPXBpj2rGoU7C9WhnGFucE.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Righteous;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/righteous/v17/1cXxaUPXBpj2rGoU7C9WiHGF.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0}.container[_ngcontent-%COMP%]{margin:20px auto;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:20px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0 0 40px}li[_ngcontent-%COMP%]{display:inline-block;font-size:20px;margin-right:0}li[_ngcontent-%COMP%]:not(:last-child):after{content:",";margin-right:5px}p[_ngcontent-%COMP%]{margin-top:20px;margin-left:auto;margin-right:auto;max-width:2000px;text-align:justify}.heading[_ngcontent-%COMP%]{width:60%;text-align:center;margin:0 auto}.list[_ngcontent-%COMP%]{list-style:none;padding:0}.list-item-content[_ngcontent-%COMP%]{text-align:left;margin-left:0;margin-bottom:0;width:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{margin:0;padding:0;box-sizing:border-box;position:relative}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{text-align:center;background-color:#4d5eb3}body[_ngcontent-%COMP%]:before{content:"";display:inline-block;vertical-align:middle;font-size:0;height:100%}h1[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-family:Righteous,serif;text-shadow:.03em .03em 0 hsla(230,40%,50%,1)}h1[_ngcontent-%COMP%]:after{content:attr(data-shadow);position:absolute;top:.06em;left:.06em;z-index:-1;text-shadow:none;background-image:linear-gradient(45deg,transparent 45%,hsla(48,20%,90%,1) 45%,hsla(48,20%,90%,1) 55%,transparent 0);background-size:.05em .05em;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:_ngcontent-%COMP%_shad-anim 15s linear infinite}@keyframes _ngcontent-%COMP%_shad-anim{0%{background-position:0 0}0%{background-position:100% -100%}}']});let r=s;return r})();var kh=(()=>{let s=class s{constructor(l,u){this.queryService=l,this.router=u}ngOnInit(){}onClick0(){this.queryService.mainQueryParams.queryOption=0,this.router.navigateByUrl("/visualization")}onClick1(){this.queryService.mainQueryParams.queryOption=1,this.router.navigateByUrl("/visualization")}onClick2(){this.queryService.mainQueryParams.queryOption=2,this.router.navigateByUrl("/visualization")}};s.\u0275fac=function(u){return new(u||s)(Yt($i),Yt(cn))},s.\u0275cmp=Re({type:s,selectors:[["app-form"]],standalone:!0,features:[Ue],decls:13,vars:3,consts:[[1,"grid-container"],[1,"graph-container"],[3,"queryNumber"],[1,"graph-button","btn","btn-dark",3,"click"]],template:function(u,y){u&1&&(bt(0,"div",0)(1,"div",1),ye(2,"app-chart",2),gt(),bt(3,"div",1),ye(4,"app-chart",2),gt(),bt(5,"div",1),ye(6,"app-chart",2),gt(),bt(7,"button",3),be("click",function(){return y.onClick0()}),Ft(8,"Compare First Overall Picks"),gt(),bt(9,"button",3),be("click",function(){return y.onClick1()}),Ft(10,"League Averages Per Decade"),gt(),bt(11,"button",3),be("click",function(){return y.onClick2()}),Ft(12,"Compare Stats By Position"),gt()()),u&2&&(Dt(2),pe("queryNumber",0),Dt(2),pe("queryNumber",1),Dt(2),pe("queryNumber",2))},dependencies:[ya],styles:[".graph-button[_ngcontent-%COMP%]{margin-top:10px;max-height:25px;display:flex;align-items:center;justify-content:center}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);gap:10px}"]});let r=s;return r})();var _h=[{path:"",pathMatch:"full",redirectTo:"about"},{path:"about",component:Sh},{path:"visualization",component:Ph},{path:"form",component:kh}];var gp="@",xp=(()=>{let s=class s{constructor(l,u,y,_,F){this.doc=l,this.delegate=u,this.zone=y,this.animationType=_,this.moduleImpl=F,this._rendererFactoryPromise=null,this.scheduler=_t(gr,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-DOY74CJZ.js")).catch(u=>{throw new Pe(5300,!1)}).then(({\u0275createEngine:u,\u0275AnimationRendererFactory:y})=>{this._engine=u(this.animationType,this.doc,this.scheduler);let _=new y(this.delegate,this._engine,this.zone);return this.delegate=_,_})}createRenderer(l,u){let y=this.delegate.createRenderer(l,u);if(y.\u0275type===0)return y;typeof y.throwOnSyntheticProps=="boolean"&&(y.throwOnSyntheticProps=!1);let _=new Go(y);return u?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(F=>{let Y=F.createRenderer(l,u);_.use(Y)}).catch(F=>{_.use(y)}),_}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};s.\u0275fac=function(u){Da()},s.\u0275prov=ne({token:s,factory:s.\u0275fac});let r=s;return r})(),Go=class{constructor(s){this.delegate=s,this.replay=[],this.\u0275type=1}use(s){if(this.delegate=s,this.replay!==null){for(let p of this.replay)p(s);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(s,p){return this.delegate.createElement(s,p)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}get destroyNode(){return this.delegate.destroyNode}appendChild(s,p){this.delegate.appendChild(s,p)}insertBefore(s,p,l,u){this.delegate.insertBefore(s,p,l,u)}removeChild(s,p,l){this.delegate.removeChild(s,p,l)}selectRootElement(s,p){return this.delegate.selectRootElement(s,p)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,p,l,u){this.delegate.setAttribute(s,p,l,u)}removeAttribute(s,p,l){this.delegate.removeAttribute(s,p,l)}addClass(s,p){this.delegate.addClass(s,p)}removeClass(s,p){this.delegate.removeClass(s,p)}setStyle(s,p,l,u){this.delegate.setStyle(s,p,l,u)}removeStyle(s,p,l){this.delegate.removeStyle(s,p,l)}setProperty(s,p,l){this.shouldReplay(p)&&this.replay.push(u=>u.setProperty(s,p,l)),this.delegate.setProperty(s,p,l)}setValue(s,p){this.delegate.setValue(s,p)}listen(s,p,l){return this.shouldReplay(p)&&this.replay.push(u=>u.listen(s,p,l)),this.delegate.listen(s,p,l)}shouldReplay(s){return this.replay!==null&&s.startsWith(gp)}};function Ah(r="animations"){return ws("NgAsyncAnimations"),Oi([{provide:Ts,useFactory:(s,p,l)=>new xp(s,p,l,r),deps:[ii,Ns,ci]},{provide:pr,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fh={providers:[Wl(_h),sl(),Hr(),Ah()]};var Ih=(()=>{let s=class s{};s.\u0275fac=function(u){return new(u||s)},s.\u0275cmp=Re({type:s,selectors:[["app-navbar"]],standalone:!0,features:[Ue],decls:12,vars:0,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark"],[1,"container","d-flex","justify-content-center"],[1,"navbar-nav","me-auto"],[1,"navbar-brand","mx-auto"],[1,"navbar-nav","ms-auto"],["routerLink","/form",1,"nav-item","nav-link"],["routerLink","/visualization",1,"nav-item","nav-link"],["routerLink","/",1,"nav-item","nav-link"]],template:function(u,y){u&1&&(bt(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),Ft(4,"NBA Trends"),gt()(),bt(5,"div",4)(6,"a",5),Ft(7,"Query"),gt(),bt(8,"a",6),Ft(9,"Visualization"),gt(),bt(10,"a",7),Ft(11,"About"),gt()()()())},dependencies:[Rl]});let r=s;return r})();var Dh=(()=>{let s=class s{constructor(l){this.teamsPlayersService=l,this.title=""}ngOnInit(){this.teamsPlayersService.startService()}};s.\u0275fac=function(u){return new(u||s)(Yt(Ln))},s.\u0275cmp=Re({type:s,selectors:[["app-root"]],standalone:!0,features:[Ue],decls:3,vars:0,consts:[[1,"container",2,"margin-top","50px"]],template:function(u,y){u&1&&(ye(0,"app-navbar"),bt(1,"div",0),ye(2,"router-outlet"),gt())},dependencies:[Vo,Ih]});let r=s;return r})();il(Dh,Fh).catch(r=>console.error(r));
